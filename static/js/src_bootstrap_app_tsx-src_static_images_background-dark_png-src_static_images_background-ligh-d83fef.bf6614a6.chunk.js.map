{"version":3,"file":"static/js/src_bootstrap_app_tsx-src_static_images_background-dark_png-src_static_images_background-ligh-d83fef.bf6614a6.chunk.js","mappings":"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","sources":["static.app.tsx","view/navigation/index.tsx","components/numericInput/index.tsx","constant/index.ts","configs/manifest.config.ts","configs/sol.config.ts","configs/api.config.ts","configs/index.ts","helper/index.ts","view/poolDetails/management/fee.tsx","view/poolDetails/management/freezeAndThaw/pool/cardDescription.tsx","view/poolDetails/management/freezeAndThaw/pool/thawPool.tsx","view/poolDetails/management/freezeAndThaw/pool/freezePool.tsx","view/poolDetails/management/freezeAndThaw/freezeAndThawToken.tsx","view/poolDetails/management/freezeAndThaw/index.tsx","view/poolDetails/management/transferOwner.tsx","helper/utilsBN.ts","helper/oracles.ts","view/poolDetails/management/weight.tsx","view/poolDetails/management/index.tsx","view/poolDetails/poolWeights/doughnutChart.tsx","view/poolDetails/poolWeights/index.tsx","view/poolDetails/volume24h/barChart.tsx","stat/helpers/date.ts","stat/entities/trans-log.ts","stat/adapters/solana/client.ts","stat/constants/transaction.ts","stat/logic/pool/poolTranslog.ts","stat/logic/translog.ts","stat/constants/sol.ts","stat/entities/daily-report.ts","stat/logic/daily-report.ts","stat/logic/pool/pool.ts","hooks/useOracles.ts","hooks/useTVL.ts","hooks/useStat.ts","hooks/useVolume24h.ts","view/poolDetails/volume24h/index.tsx","shared/hooks/useAccountBalance.ts","view/poolDetails/components/cardPoolDetail.tsx","static/images/tvl.svg","static/images/apy.svg","static/images/my-contribution.svg","view/poolDetails/hero.tsx","components/pools/poolAvatar.tsx","components/selection/search.tsx","components/selection/mint.tsx","components/selection/mintSelection.tsx","components/selection/index.tsx","hooks/useWrapAccountBalance.ts","components/mintInput/proportion.tsx","components/mintInput/index.tsx","hooks/useLptSupply.ts","hooks/useMintBalance.ts","hooks/useWrapAndUnwrapSolIfNeed.ts","view/poolDetails/deposit/depositModal.tsx","view/poolDetails/deposit/index.tsx","view/poolDetails/tokenWillReceive.tsx","view/poolDetails/withdraw/fullSide.tsx","view/poolDetails/withdraw/singleSide.tsx","view/poolDetails/withdraw/withdrawModal.tsx","view/poolDetails/withdraw/index.tsx","view/poolDetails/header.tsx","hooks/useAppRouter.ts","view/poolDetails/poolNotFound.tsx","view/poolDetails/index.tsx","model/swap.controller.ts","view/swap/askInput/index.tsx","hooks/useBalansolPools.tsx","hooks/pools/useActivePools.ts","view/swap/bidInput/index.tsx","hooks/swap/useMintsCanSwap.ts","static/images/jupiter-logo.svg","components/poweredByJupiter.tsx","hooks/swap/useMintRoutes.ts","hooks/swap/useMetaRoutes.ts","hooks/swap/routeFromAsk/useBestRouteFromAsk.ts","hooks/swap/routeFromAsk/useAllRoutesFromAsk.ts","hooks/swap/routeFromBid/useBestRouteFromBid.ts","hooks/swap/routeFromBid/useAllRouteFromBid.ts","hooks/jupiter/jupiterWalletWrapper.ts","hooks/jupiter/useJupiterAggregator.ts","hooks/useSwap.tsx","hooks/swap/useSwapBalansol.ts","view/swap/swapInfo/routeAvatar.tsx","view/swap/swapInfo/spotPrice.tsx","view/swap/swapInfo/index.tsx","view/swap/reviewSwap/confirmSwap.tsx","view/swap/reviewSwap/index.tsx","static/images/sen.svg","view/swap/settingArea/poweredBySentre.tsx","view/swap/settingArea/setting.tsx","view/swap/settingArea/index.tsx","view/swap/index.tsx","view/pools/listPools/percentGroupMints.tsx","view/pools/listPools/poolAddressActions.tsx","view/pools/listPools/detailsCard.tsx","view/pools/listPools/index.tsx","hooks/pools/useFilterPools.ts","hooks/pools/useSearchedPools.ts","components/proportion/index.tsx","view/pools/newPool/modalNewPool/listTokenSetup/weightControl.tsx","view/pools/newPool/modalNewPool/listTokenSetup/tokenSetup.tsx","view/pools/newPool/modalNewPool/listTokenSetup/index.tsx","model/pools.controller.ts","view/pools/newPool/modalNewPool/addLiquidity/liquidityInfo.tsx","view/pools/newPool/modalNewPool/addLiquidity/index.tsx","view/pools/newPool/modalNewPool/confirmPoolInfo/columns.tsx","view/pools/newPool/modalNewPool/confirmPoolInfo/index.tsx","view/pools/newPool/modalNewPool/index.tsx","view/pools/newPool/index.tsx","model/searchPools.controller.ts","view/pools/search.tsx","view/pools/index.tsx","components/loading/index.tsx","components/watcher/pool.watcher.tsx","components/watcher/index.tsx","view/index.tsx","model/devTools.ts","model/main.controller.tsx","model/index.ts","bootstrap.app.tsx"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"logo\", {\n  enumerable: true,\n  get: function () {\n    return _logo.default;\n  }\n});\nexports.panels = void 0;\nObject.defineProperty(exports, \"readme\", {\n  enumerable: true,\n  get: function () {\n    return _README.default;\n  }\n});\n\nvar _panel = _interopRequireDefault(require(\"./static/images/panel1.png\"));\n\nvar _panel2 = _interopRequireDefault(require(\"./static/images/panel2.png\"));\n\nvar _panel3 = _interopRequireDefault(require(\"./static/images/panel3.png\"));\n\nvar _logo = _interopRequireDefault(require(\"./static/images/logo.png\"));\n\nvar _README = _interopRequireDefault(require(\"./static/docs/README.md\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst panels = [_panel.default, _panel2.default, _panel3.default];\nexports.panels = panels;","import { Fragment, useMemo } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { useAppRoute } from '@sentre/senhub'\n\nimport { Col, Row, Segmented, Tooltip } from 'antd'\n\nimport './index.less'\n\nexport const VISIBLE_ROUTES = ['swap', 'pools', 'launchpad']\nexport const HOMEPAGE_TABS = [\n  { label: 'Swap', value: 'swap', disabled: false },\n  { label: 'Pools', value: 'pools', disabled: false },\n  // { label: 'Farms', value: 'farms', disabled: false },\n  {\n    label: <Tooltip title=\"Comming Soon\">Launchpad</Tooltip>,\n    value: 'launchpad',\n    disabled: true,\n  },\n]\n\nconst Navigation = () => {\n  const { to } = useAppRoute()\n  const { pathname } = useLocation()\n\n  const activeRoute = useMemo(() => {\n    const temp = pathname.split('/')\n    return temp[temp.length - 1]\n  }, [pathname])\n  const visible = useMemo(() => {\n    for (const route of VISIBLE_ROUTES) {\n      if (activeRoute === route) return true\n    }\n    return false\n  }, [activeRoute])\n\n  if (!visible) return <Fragment />\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col>\n        <Segmented\n          className=\"swap-and-pool\"\n          options={HOMEPAGE_TABS}\n          value={activeRoute}\n          onChange={(val) => to(`/${val.toString()}`)}\n          block\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Navigation\n","import { useCallback, CSSProperties } from 'react'\n\nimport { InputNumberProps, InputNumber } from 'antd'\n\nimport './index.less'\n\nexport enum InputStyle {\n  InputRight = 'input-right',\n  InputLeft = 'input-left',\n  InputCenter = 'input-center',\n}\n\nconst NumericInput = ({\n  max,\n  onValue = () => {},\n  inputStyle = InputStyle.InputRight,\n  styles,\n  ...props\n}: InputNumberProps & {\n  onValue?: (val: string) => void\n  inputStyle?: InputStyle\n  styles?: CSSProperties\n  max?: string | number\n}) => {\n  // Handle amount\n  const onAmount = useCallback(\n    (val: string | number | null) => {\n      if (\n        val === null ||\n        (max && parseFloat(val.toString()) > parseFloat(max.toString()))\n      )\n        return onValue('')\n\n      onValue(val.toString())\n    },\n    [max, onValue],\n  )\n\n  const formatterNumber = (val: string | number | undefined | null) => {\n    if (!val) return '0'\n    let numberFormatted = `${val}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n    const chars = numberFormatted.split('.')\n    if (chars[1]) return `${chars[0]}.${chars[1].replace(/,/g, '')}`\n    return chars[0]\n  }\n\n  const parserNumber = (val: string | undefined): number => {\n    if (!val) return 0\n    const chars = val.split('.')\n    if (chars[1])\n      return Number.parseFloat(\n        `${chars[0].replace(/\\D/g, '')}.${chars[1].replace(/\\D/g, '')}`,\n      )\n    return Number.parseFloat(`${chars[0].replace(/\\D/g, '')}`)\n  }\n\n  return (\n    <InputNumber\n      {...props}\n      stringMode\n      onChange={onAmount}\n      className={`${inputStyle}`}\n      style={{ width: '100%', fontSize: 24, ...styles }}\n      onBlur={(e) => {\n        if (!e.target.value) {\n          onAmount('0')\n        }\n      }}\n      decimalSeparator=\".\"\n      formatter={(val) => formatterNumber(val)}\n      parser={parserNumber}\n    />\n  )\n}\n\nexport default NumericInput\n","import { BN, web3 } from '@project-serum/anchor'\n\nexport enum PoolTabs {\n  Sentre = 'sentre-pools',\n  Deposited = 'deposited-pools',\n  YourPools = 'your-pools',\n  Community = 'community-pools',\n}\n\nexport enum QueryParams {\n  details = 'details',\n  address = 'poolAddress',\n  category = 'category',\n  wrapTab = 'tab',\n  tabInPools = 'tab-in-pools',\n}\n\nexport enum PoolStatus {\n  Frozen = 2,\n  Active = 1,\n}\n\nexport enum PoolCreatingStep {\n  setupToken,\n  addLiquidity,\n  confirmCreatePool,\n}\n\nexport const GENERAL_NORMALIZED_NUMBER = 10 ** 9\nexport const LPTDECIMALS = 9\nexport const GENERAL_DECIMALS = 9\nexport const PRECISION = 1000000000\n\nexport enum PriceImpact {\n  goodSwap = 0.01,\n  acceptableSwap = 0.05,\n}\n\n// Deposit types\n\nexport type PoolPairLpData = {\n  balanceIn: BN\n  balanceOut: BN\n  weightIn: number\n  decimalIn: number\n  swapFee: BN\n}\n\nexport type PoolPairData = {\n  balanceIn: BN\n  balanceOut: BN\n  weightIn: number\n  weightOut: number\n  decimalIn: number\n  decimalOut: number\n  swapFee: BN\n}\n\nexport type MintDataFromPool = {\n  reserve: BN\n  normalizedWeight: number\n  treasury: web3.PublicKey\n}\n\nexport enum FilterPools {\n  AllPools = 'all-pools',\n  DepositedPools = 'deposited-pools',\n  YourPools = 'your-pools',\n}\n\nexport const SOL_DECIMALS = 9\n","import { Env } from '@sentre/senhub'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { rpc, Net } from '@sentre/senhub'\nimport { Connection } from '@solana/web3.js'\n\n/**\n * Contructor\n */\ntype Conf = {\n  connection: Connection\n  balancerAddress: string\n  taxmanAddress: string\n  bidMintDefault: string\n  askMintDefault: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    connection: new Connection(rpc),\n    balancerAddress: 'Ff5wgqZ7B63J3iySASitrD6u3h5JHgrHyfSpAmm1Ufmw',\n    taxmanAddress: 'GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54',\n    bidMintDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askMintDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    connection: new Connection(rpc),\n    balancerAddress: '',\n    taxmanAddress: '',\n    bidMintDefault: '',\n    askMintDefault: '',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    connection: new Connection(rpc),\n    balancerAddress: 'D3BBjqUdCYuP18fNvvMbPAZ8DpcRi4io2EsYHQawJDag',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n    bidMintDefault: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    askMintDefault: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Env } from '@sentre/senhub'\n\n/**\n * Contructor\n */\n\ntype BasicEndpoint = { base: string } & Record<string, string>\ntype Conf = {\n  origin: string\n  version: BasicEndpoint\n}\n\nconst generator = (origin: string): Conf => ({\n  origin,\n  version: {\n    base: origin + '/public/api/v1',\n    get tvl() {\n      return this.base + '/tvl'\n    },\n    get detailTvl() {\n      return this.base + '/tvl/all/'\n    },\n  },\n})\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...generator('https://stat.sentre.io'),\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...generator('https://stat.sentre.io'),\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { env, net } from '@sentre/senhub'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\nimport api from './api.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n  api: api[env],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { BN, web3 } from '@project-serum/anchor'\nimport { util } from '@sentre/senhub'\nimport { utils } from '@senswap/sen-js'\nimport { MintActionState } from '@senswap/balancer'\nimport {\n  NATIVE_MINT,\n  getAssociatedTokenAddress,\n  createAssociatedTokenAccountInstruction,\n  createCloseAccountInstruction,\n} from '@solana/spl-token-v3'\n\nimport { PriceImpact } from 'constant'\nimport axios from 'axios'\nimport configs from 'configs'\n\nexport const notifySuccess = (content: string, txId: string) => {\n  return window.notify({\n    type: 'success',\n    description: `${content} successfully. Click to view details.`,\n    onClick: () => window.open(util.explorer(txId), '_blank'),\n  })\n}\n\nexport const notifyError = (er: any) => {\n  console.log('er', er)\n  return window.notify({\n    type: 'error',\n    description: er.message,\n  })\n}\n\nexport const undecimalizeWrapper = (value: BN, decimals: number) => {\n  const valueInBigInt = BigInt(value.toString())\n\n  return utils.undecimalize(valueInBigInt, decimals)\n}\n\nexport const priceImpactColor = (priceImpact: number) => {\n  if (!priceImpact || priceImpact < PriceImpact.goodSwap) return '#14E041'\n  if (priceImpact > PriceImpact.acceptableSwap) return '#D72311'\n  return '#FA8C16'\n}\n\nexport const getMintState = (mintStates: MintActionState[], idx: number) =>\n  Object.keys(mintStates[idx])[0]\n\nexport const createATAIx = async (wallet: web3.PublicKey) => {\n  const ATA = await getAssociatedTokenAddress(NATIVE_MINT, wallet)\n\n  return createAssociatedTokenAccountInstruction(\n    wallet,\n    ATA,\n    wallet,\n    NATIVE_MINT,\n  )\n}\n\nexport const createWrapSolIx = async (\n  amount: number | bigint,\n  wallet: web3.PublicKey,\n) => {\n  const ATA = await getAssociatedTokenAddress(NATIVE_MINT, wallet)\n\n  return web3.SystemProgram.transfer({\n    fromPubkey: wallet,\n    toPubkey: ATA,\n    lamports: amount,\n  })\n}\n\nexport const createUnWrapSolIx = async (wallet: web3.PublicKey) => {\n  const ATA = await getAssociatedTokenAddress(NATIVE_MINT, wallet)\n\n  return createCloseAccountInstruction(ATA, wallet, wallet)\n}\n\nexport const fetchServerTVL = async (): Promise<\n  { address: string; tvl: number }[]\n> => {\n  const { data } = await axios.get(configs.api.version.detailTvl)\n  const balansolPoolTVL = data['balansol']\n  return balansolPoolTVL\n}\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { BN } from '@project-serum/anchor'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { Col, Row, Typography, Button, Tooltip, Space } from 'antd'\nimport NumericInput, { InputStyle } from 'components/numericInput'\n\nimport { PRECISION } from 'constant'\nimport { notifyError, notifySuccess } from 'helper'\nimport { AppState } from 'model'\nimport config from 'configs'\n\nconst {\n  sol: { taxmanAddress },\n} = config\n\nconst Content = ({\n  title,\n  percent,\n  currentPercent,\n  onChangeValue = () => {},\n  tooltipContent,\n  disabled,\n}: {\n  title: string\n  percent: number | string\n  currentPercent: number\n  onChangeValue?: (percent: string) => void\n  tooltipContent: string\n  disabled?: boolean\n}) => (\n  <Row gutter={[8, 8]}>\n    <Col span={24}>\n      <Row>\n        <Col flex=\"auto\">\n          <Space size={8}>\n            <Typography.Text style={{ textTransform: 'capitalize' }}>\n              {title} (%)\n            </Typography.Text>\n            <Tooltip title={tooltipContent}>\n              <IonIcon name=\"information-circle-outline\" />\n            </Tooltip>\n          </Space>\n        </Col>\n        <Col>\n          <Typography.Text type=\"secondary\">Current {title}:</Typography.Text>{' '}\n          <Typography.Text>{currentPercent}%</Typography.Text>\n        </Col>\n      </Row>\n    </Col>\n    <Col span={24} className=\"fee\">\n      <NumericInput\n        bordered={false}\n        inputStyle={InputStyle.InputLeft}\n        placeholder=\"0\"\n        controls={false}\n        value={percent}\n        styles={{ fontSize: 14 }}\n        onValue={onChangeValue}\n        disabled={disabled}\n      />\n    </Col>\n  </Row>\n)\n\nconst Fee = ({ poolAddress }: { poolAddress: string }) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n\n  const currentFee = (poolData.fee.toNumber() * 100) / PRECISION\n  const currentTaxFee = (poolData.taxFee.toNumber() * 100) / PRECISION\n\n  const [fee, setFee] = useState<string>(currentFee.toString())\n  const [taxFee, setTaxFee] = useState<string>(currentTaxFee.toString())\n\n  const [loading, setLoading] = useState(false)\n\n  const updateFee = async () => {\n    setLoading(true)\n    try {\n      const { updateFee } = window.balansol\n      const { txId } = await updateFee(\n        poolAddress,\n        new BN((Number(fee) * PRECISION) / 100),\n        new BN((Number(taxFee) * PRECISION) / 100),\n      )\n      return notifySuccess('Update Fee', txId)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Content\n          title=\"LP Reward Rate\"\n          percent={fee}\n          currentPercent={currentFee}\n          onChangeValue={setFee}\n          tooltipContent={\n            'The portion of trading fee a liquidity provider earns upon depositing into the pool'\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <Content\n          title=\"Platform Fee\"\n          percent={taxFee}\n          currentPercent={currentTaxFee}\n          onChangeValue={setTaxFee}\n          tooltipContent={\n            'The portion of fee your pool will pay to Balansol for maintaining the system'\n          }\n          disabled={poolData.authority.toBase58() !== taxmanAddress}\n        />\n      </Col>\n      <Col span={24}>\n        <Button ghost block size=\"large\" loading={loading} onClick={updateFee}>\n          Update\n        </Button>\n      </Col>\n    </Row>\n  )\n}\nexport default Fee\n","import { Row, Col, Typography, Badge, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { PresetStatusColorType } from 'antd/lib/_util/colors'\n\nconst CardDescription = ({\n  description,\n  statusColor = 'success',\n  statusContent,\n}: {\n  description: string\n  statusColor?: PresetStatusColorType\n  statusContent: string\n}) => {\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={12} align=\"start\">\n          <IonIcon name=\"information-circle-outline\" />\n          <Space direction=\"vertical\" size={0}>\n            <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n              {description}\n            </Typography.Text>\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space size={0}>\n          <Badge status={statusColor} />\n          <Typography.Text>Current status: {statusContent}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CardDescription\n","import { useState } from 'react'\n\nimport { Button, Row, Col } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport CardDescription from './cardDescription'\n\nimport { notifyError, notifySuccess } from 'helper'\n\nconst ThawPool = ({ poolAddress }: { poolAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n\n  const onThawPool = async () => {\n    setLoading(true)\n    try {\n      const { thawPool } = window.balansol\n      const { txId } = await thawPool(poolAddress)\n      return notifySuccess('Unfreeze', txId)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <CardDescription\n          statusColor=\"error\"\n          statusContent=\"Frozen\"\n          description=\"Unfreeze a pool will active all actions\"\n        />\n      </Col>\n      <Col span={24}>\n        <Button\n          ghost\n          onClick={onThawPool}\n          icon={<IonIcon name=\"sunny-outline\" />}\n          block\n          loading={loading}\n          size=\"large\"\n        >\n          Unfreeze Pool\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ThawPool\n","import { useState } from 'react'\n\nimport { Button, Row, Col } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport CardDescription from './cardDescription'\n\nimport { notifyError, notifySuccess } from 'helper'\n\nconst FreezePool = ({ poolAddress }: { poolAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n\n  const onFreezePool = async () => {\n    setLoading(true)\n    try {\n      const { freezePool } = window.balansol\n      const { txId } = await freezePool(poolAddress)\n      return notifySuccess('Freeze', txId)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <CardDescription\n          statusColor=\"success\"\n          statusContent=\"Active\"\n          description=\"Freezing a pool will prevent all actions until the pool has been unfreezed.\"\n        />\n      </Col>\n      <Col span={24}>\n        <Button\n          onClick={onFreezePool}\n          icon={<IonIcon name=\"snow-outline\" />}\n          block\n          loading={loading}\n          ghost\n          size=\"large\"\n        >\n          Freeze Pool\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default FreezePool\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { MintActionState, MintActionStates } from '@senswap/balancer'\n\nimport { Button, Row, Col, Typography, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\n\nimport { AppState } from 'model'\nimport { getMintState, notifyError, notifySuccess } from 'helper'\n\nexport const FreezeAndThawToken = ({\n  poolAddress,\n}: {\n  poolAddress: string\n}) => {\n  const { mints, actions } = useSelector(\n    (state: AppState) => state.pools[poolAddress],\n  )\n  const [mintActions, setMintActions] = useState<MintActionState[]>(\n    actions as MintActionState[],\n  )\n  const [loading, setLoading] = useState(false)\n\n  const onFreezeAndThawToken = async () => {\n    setLoading(true)\n    try {\n      const { updateActions } = window.balansol\n      const { txId } = await updateActions(poolAddress, mintActions)\n      return notifySuccess('Freeze', txId)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const onClickToken = (index: number) => {\n    const newMintActions = [...mintActions]\n    const mintState = getMintState(newMintActions, index)\n\n    switch (mintState) {\n      case 'paused':\n        newMintActions[index] = MintActionStates['Active']\n        break\n      case 'active':\n        newMintActions[index] = MintActionStates['Paused']\n        break\n      default:\n        break\n    }\n    setMintActions(newMintActions)\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={12} align=\"start\">\n          <IonIcon name=\"alert-circle-outline\" />\n          <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n            Freezing tokens will prevent all actions until the tokens has been\n            unfreezed.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          {mints.map((mint, idx) => {\n            const mintState = getMintState(mintActions, idx)\n            return (\n              <Col span={12}>\n                <Button block onClick={() => onClickToken(idx)} size=\"large\">\n                  <Space size={8} className=\"individual-token\">\n                    <MintAvatar mintAddress={mint.toBase58()} />\n                    <Typography.Text\n                      ellipsis\n                      style={{ fontWeight: 400, fontSize: 14 }}\n                    >\n                      <MintSymbol mintAddress={mint.toBase58()} />\n                    </Typography.Text>\n                  </Space>\n                  {mintState === 'paused' && (\n                    <Space className=\"disable-mask\" align=\"center\">\n                      <IonIcon\n                        name=\"snow-outline\"\n                        style={{ color: '#F3F3F5' }}\n                      />\n                    </Space>\n                  )}\n                </Button>\n              </Col>\n            )\n          })}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Button\n          block\n          ghost\n          onClick={onFreezeAndThawToken}\n          size=\"large\"\n          disabled={JSON.stringify(actions) === JSON.stringify(mintActions)}\n          loading={loading}\n        >\n          Confirm\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n","import { useSelector } from 'react-redux'\n\nimport { Tabs } from 'antd'\nimport ThawPool from './pool/thawPool'\nimport FreezePool from './pool/freezePool'\nimport { FreezeAndThawToken } from './freezeAndThawToken'\n\nimport { AppState } from 'model'\n\nconst FreezeAndThaw = ({ poolAddress }: { poolAddress: string }) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const state = poolData.state\n\n  return (\n    <Tabs className=\"freeze-thaw\" type=\"card\">\n      <Tabs.TabPane key=\"pool\" tab=\"Pool\">\n        {state['initialized'] && <FreezePool poolAddress={poolAddress} />}\n        {state['frozen'] && <ThawPool poolAddress={poolAddress} />}\n      </Tabs.TabPane>\n      <Tabs.TabPane\n        key=\"individual_token\"\n        tab=\"Individual token\"\n        disabled={!!state['frozen']}\n      >\n        <FreezeAndThawToken poolAddress={poolAddress} />\n      </Tabs.TabPane>\n    </Tabs>\n  )\n}\n\nexport default FreezeAndThaw\n","import { account } from '@senswap/sen-js'\nimport { ChangeEvent, useState } from 'react'\n\nimport { Button, Col, Input, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { notifyError, notifySuccess } from 'helper'\n\nconst TransferOwner = ({ poolAddress }: { poolAddress: string }) => {\n  const [newOwner, setNewOwner] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const transferOwner = async () => {\n    setLoading(true)\n    if (!account.isAddress(newOwner)) return\n    try {\n      const { transferOwnership } = window.balansol\n      const { txId } = await transferOwnership(poolAddress, newOwner)\n      return notifySuccess('Update weights', txId)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={12} align=\"center\">\n          <IonIcon style={{ fontSize: 16 }} name=\"information-circle-outline\" />\n          <Typography.Text type=\"secondary\">\n            Your current account will lose the pool control when you transfer\n            ownership.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Typography.Text>Transfer to Owner</Typography.Text>\n      </Col>\n      <Col span={24} className=\"transfer-owner\">\n        <Input\n          className=\"transfer-owner-input\"\n          value={newOwner}\n          onChange={(e: ChangeEvent<HTMLInputElement>) =>\n            setNewOwner(e.target.value)\n          }\n          placeholder=\"E.g. AgTMC...\"\n        />\n      </Col>\n      <Col span={24}>\n        <Button\n          ghost\n          size=\"large\"\n          onClick={transferOwner}\n          loading={loading}\n          disabled={!newOwner}\n          block\n        >\n          Transfer\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default TransferOwner\n","import { BN } from '@project-serum/anchor'\n\nexport const utilsBN = {\n  /**\n   * Add decimals to the number\n   * @param num\n   * @param decimals\n   * @returns\n   */\n  decimalize: (num: string | number, decimals: number): BN => {\n    if (!num) return new BN(0)\n    if (decimals < 0 || decimals % 1 !== 0)\n      throw new Error('decimals must be an integer greater than zero')\n    const n = num.toString()\n    if (!decimals) return new BN(n)\n    const m = n.split('.')\n    if (m.length > 2) throw new Error('Invalid number')\n    if (m.length === 1) return new BN(num).mul(new BN(10 ** decimals))\n    if (m[1].length >= decimals)\n      return new BN(m[0] + m[1].substring(0, decimals))\n    else return new BN(m[0] + m[1] + '0'.repeat(decimals - m[1].length))\n  },\n\n  /**\n   * Remove decimals from the number\n   * @param numBN\n   * @param decimals\n   * @returns\n   */\n  undecimalize: (numBN: BN, decimals: number): string => {\n    if (decimals < 0 || decimals % 1 !== 0)\n      throw new Error('decimals must be an integer greater than zero')\n    if (!numBN) return '0'\n    const n = numBN.toString()\n    if (!decimals) return n\n\n    let integer =\n      n.length > decimals ? n.substring(0, n.length - decimals) : '0'\n    let fraction: string | string[] = ''\n    if (n.length > decimals)\n      fraction = n.substring(n.length - decimals, n.length)\n    else if (n.length === decimals) fraction = n\n    else fraction = '0'.repeat(decimals - n.length) + n\n\n    fraction = fraction.split('')\n    while (fraction[fraction.length - 1] === '0') fraction.pop()\n    fraction = fraction.join('')\n    if (!fraction) return integer\n    return integer + '.' + fraction\n  },\n\n  toNumber: (numBN: BN): number => {\n    return Number(utilsBN.undecimalize(numBN, 0))\n  },\n}\n","import { Address, BN, web3 } from '@project-serum/anchor'\nimport { PoolData } from '@senswap/balancer'\nimport util from '@senswap/sen-js/dist/utils'\n\nimport {\n  GENERAL_DECIMALS,\n  GENERAL_NORMALIZED_NUMBER,\n  LPTDECIMALS,\n  PoolPairData,\n  PoolPairLpData,\n} from 'constant'\nimport { PRECISION } from 'constant/index'\nimport { RouteInfo } from 'hooks/useSwap'\nimport { utilsBN } from './utilsBN'\n\nexport type routeFullInfo = RouteInfo & { poolData: PoolData }\n\nexport const findMintIndex = (poolData: PoolData, mint: Address): number => {\n  return poolData.mints\n    .map((e) => e.toBase58())\n    .indexOf(new web3.PublicKey(mint).toBase58())\n}\n\nexport const getMintInfo = (poolData: PoolData, mint: Address) => {\n  const mintIdx = findMintIndex(poolData, mint)\n  if (mintIdx === -1) throw new Error('Can not find mint in pool')\n\n  const normalizedWeight = calcNormalizedWeight(\n    poolData.weights,\n    poolData.weights[mintIdx],\n  )\n  return {\n    reserve: poolData.reserves[mintIdx],\n    normalizedWeight: normalizedWeight,\n    treasury: poolData.treasuries[mintIdx],\n  }\n}\n\nconst complement = (value: number) => {\n  return value < 1 ? 1 - value : 0\n}\n\nexport const calcLpOutGivenIn = (\n  amountIn: number,\n  balanceIn: number,\n  totalSupply: number,\n) => {\n  return (amountIn / balanceIn - 1) * totalSupply - totalSupply\n}\n\nexport const calcOptimizedDepositedAmount = (\n  baseTokenInfo: any,\n  calculatedTokenInfo: any,\n  baseTokenAmount: string,\n  baseTokenWeight: string,\n  calculatedTokenWeight: string,\n) => {\n  return (\n    (baseTokenInfo?.price *\n      Number(baseTokenAmount) *\n      Number(calculatedTokenWeight)) /\n    (calculatedTokenInfo?.price * Number(baseTokenWeight))\n  )\n}\n\nexport const calcOutGivenInSwap = (\n  amountIn: BN,\n  balanceOut: BN,\n  balanceIn: BN,\n  weightOut: number,\n  weightIn: number,\n  swapFee: BN,\n): BN => {\n  const numBalanceOut = utilsBN.toNumber(balanceOut)\n  const numBalanceIn = utilsBN.toNumber(balanceIn)\n  const numAmountIn = utilsBN.toNumber(amountIn)\n  const numSwapFee = utilsBN.toNumber(swapFee) / GENERAL_NORMALIZED_NUMBER\n  const ratioBeforeAfterBalance = numBalanceIn / (numBalanceIn + numAmountIn)\n\n  const ratioInOutWeight = weightIn / weightOut\n  return new BN(\n    numBalanceOut *\n      (1 - ratioBeforeAfterBalance ** ratioInOutWeight) *\n      (1 - numSwapFee),\n  )\n}\n\nexport const calcInGivenOutSwap = (\n  amountOut: BN,\n  balanceOut: BN,\n  balanceIn: BN,\n  weightOut: number,\n  weightIn: number,\n  swapFee: BN,\n): BN => {\n  const numBalanceOut = utilsBN.toNumber(balanceOut)\n  const numBalanceIn = utilsBN.toNumber(balanceIn)\n  const numSwapFee = utilsBN.toNumber(swapFee) / GENERAL_NORMALIZED_NUMBER\n  const numAmountOut = utilsBN.toNumber(amountOut) / (1 - numSwapFee)\n  const ratioBeforeAfterBalance = numBalanceOut / (numBalanceOut - numAmountOut)\n\n  const ratioInOutWeight = weightOut / weightIn\n\n  return new BN(\n    numBalanceIn * (ratioBeforeAfterBalance ** ratioInOutWeight - 1),\n  )\n}\n\nexport const calcNormalizedWeight = (\n  weights: BN[],\n  weightToken: BN,\n): number => {\n  const numWeightsIn = weights.map((value) =>\n    Number(util.undecimalize(BigInt(value.toString()), GENERAL_DECIMALS)),\n  )\n  const numWeightToken = Number(\n    util.undecimalize(BigInt(weightToken.toString()), GENERAL_DECIMALS),\n  )\n  const weightSum = numWeightsIn.reduce((pre, curr) => pre + curr, 0)\n  return numWeightToken / weightSum\n}\n\nexport const calcSpotPrice = (\n  balanceIn: BN,\n  weightIn: number,\n  decimalIn: number,\n  balanceOut: BN,\n  weightOut: number,\n  decimalOut: number,\n): number => {\n  const numBalanceIn = Number(\n    util.undecimalize(BigInt(balanceIn.toString()), decimalIn),\n  )\n\n  const numBalanceOut = Number(\n    util.undecimalize(BigInt(balanceOut.toString()), decimalOut),\n  )\n\n  return numBalanceIn / weightIn / (numBalanceOut / weightOut)\n}\n\nexport const spotPriceAfterSwapTokenInForExactBPTOut = (\n  amount: BN,\n  poolPairData: PoolPairLpData,\n) => {\n  const Bo = Number(\n    util.undecimalize(BigInt(poolPairData.balanceOut.toString()), LPTDECIMALS),\n  )\n  const Ao = Number(util.undecimalize(BigInt(amount.toString()), LPTDECIMALS))\n  const wi = poolPairData.weightIn\n  const Bi = Number(\n    util.undecimalize(\n      BigInt(poolPairData.balanceIn.toString()),\n      poolPairData.decimalIn,\n    ),\n  )\n  const f = Number(\n    util.undecimalize(\n      BigInt(poolPairData.swapFee.toString()),\n      GENERAL_DECIMALS,\n    ),\n  )\n\n  return (\n    (Math.pow((Ao + Bo) / Bo, 1 / wi) * Bi) /\n    ((Ao + Bo) * (1 + f * (-1 + wi)) * wi)\n  )\n}\n\nfunction calcSpotPriceExactInSwap(amount: BN, poolPairData: PoolPairData) {\n  const {\n    balanceIn,\n    decimalIn,\n    balanceOut,\n    decimalOut,\n    weightIn,\n    weightOut,\n    swapFee,\n  } = poolPairData\n  const Bi = Number(util.undecimalize(BigInt(balanceIn.toString()), decimalIn))\n  const Bo = Number(\n    util.undecimalize(BigInt(balanceOut.toString()), decimalOut),\n  )\n  const wi = weightIn\n  const wo = weightOut\n  const Ai = Number(util.undecimalize(BigInt(amount.toString()), decimalIn))\n  const f = Number(\n    util.undecimalize(BigInt(swapFee.toString()), GENERAL_DECIMALS),\n  )\n  return -(\n    (Bi * wo) /\n    (Bo * (-1 + f) * (Bi / (Ai + Bi - Ai * f)) ** ((wi + wo) / wo) * wi)\n  )\n}\n\nexport const calcPriceImpactSwap = (\n  bidAmount: BN,\n  poolPairData: PoolPairData,\n) => {\n  const currentSpotPrice = calcSpotPriceExactInSwap(new BN(0), poolPairData)\n  const spotPriceAfterSwap = calcSpotPriceExactInSwap(bidAmount, poolPairData)\n  if (spotPriceAfterSwap < currentSpotPrice) return 0\n  const impactPrice = 1 - currentSpotPrice / spotPriceAfterSwap\n  return impactPrice\n}\n\nexport const calcLpForTokensZeroPriceImpact = (\n  tokenAmountIns: BN[],\n  balanceIns: BN[],\n  weightIns: BN[],\n  totalSupply: BN,\n  decimalIns: number[],\n) => {\n  const numTokenAmountIns = tokenAmountIns.map((value, idx) => {\n    return Number(util.undecimalize(BigInt(value.toString()), decimalIns[idx]))\n  })\n\n  const amountLpOut = numTokenAmountIns.reduce((totalBptOut, amountIn, i) => {\n    // Calculate amount of BPT gained per token in\n    const nomalizedWeight = calcNormalizedWeight(weightIns, weightIns[i])\n    const poolPairData: PoolPairLpData = {\n      balanceIn: balanceIns[i],\n      balanceOut: totalSupply,\n      weightIn: nomalizedWeight,\n      decimalIn: decimalIns[i],\n      swapFee: new BN(0),\n    }\n    const LpPrice = spotPriceAfterSwapTokenInForExactBPTOut(\n      new BN(0),\n      poolPairData,\n    )\n    // Multiply by amountIn to get contribution to total bpt out\n    const LpOut = amountIn / LpPrice\n    return totalBptOut + LpOut\n  }, 0)\n  return amountLpOut\n}\n\nexport const calcBptOutGivenExactTokensIn = (\n  tokenAmountIns: BN[],\n  balanceIns: BN[],\n  weightIns: BN[],\n  totalSupply: BN,\n  decimalIns: number[],\n  swapFee: BN,\n) => {\n  const fee = Number(\n    util.undecimalize(BigInt(swapFee.toString()), GENERAL_DECIMALS),\n  )\n  const numTotalSupply = Number(\n    util.undecimalize(BigInt(totalSupply.toString()), LPTDECIMALS),\n  )\n  const numBalanceIns = balanceIns.map((value, idx) =>\n    Number(util.undecimalize(BigInt(value.toString()), decimalIns[idx])),\n  )\n  const numAmountIns = tokenAmountIns.map((value, idx) =>\n    Number(util.undecimalize(BigInt(value.toString()), decimalIns[idx])),\n  )\n  const balanceRatiosWithFee = new Array(tokenAmountIns.length)\n\n  let invariantRatioWithFees = 0\n  for (let i = 0; i < tokenAmountIns.length; i++) {\n    const nomalizedWeight = calcNormalizedWeight(weightIns, weightIns[i])\n\n    balanceRatiosWithFee[i] =\n      (numBalanceIns[i] + numAmountIns[i]) / numBalanceIns[i]\n\n    invariantRatioWithFees += balanceRatiosWithFee[i] * nomalizedWeight\n  }\n\n  let invariantRatio = 1\n\n  for (let i = 0; i < tokenAmountIns.length; i++) {\n    const nomalizedWeight = calcNormalizedWeight(weightIns, weightIns[i])\n    let amountInWithoutFee = numAmountIns[i]\n    if (balanceRatiosWithFee[i] > invariantRatioWithFees) {\n      let nonTaxableAmount = numBalanceIns[i] * (invariantRatioWithFees - 1)\n      let taxableAmount = numAmountIns[i] - nonTaxableAmount\n      amountInWithoutFee = nonTaxableAmount + taxableAmount * (1 - fee)\n    }\n    let balanceRatio =\n      (numBalanceIns[i] + amountInWithoutFee) / numBalanceIns[i]\n    invariantRatio = invariantRatio * balanceRatio ** nomalizedWeight\n  }\n  if (invariantRatio > 1) return numTotalSupply * (invariantRatio - 1)\n  return 0\n}\n\nexport const calcMintReceiveRemoveSingleSide = (\n  lptAmount: BN,\n  lptSupply: BN,\n  normalizeWeight: number,\n  balance: BN,\n  decimalOut: number,\n  fee: BN,\n): BN => {\n  if (lptAmount.gt(lptSupply)) return new BN(0)\n  const numLptAmount = Number(\n    util.undecimalize(BigInt(lptAmount.toString()), LPTDECIMALS),\n  )\n  const numLptSupply = Number(\n    util.undecimalize(BigInt(lptSupply.toString()), LPTDECIMALS),\n  )\n  const numFee = Number(\n    util.undecimalize(BigInt(fee.toString()), GENERAL_DECIMALS),\n  )\n  const numBalance = balance.toNumber()\n\n  let tbl = (numLptSupply - numLptAmount) / numLptSupply\n  let amount_out = numBalance * (1 - Math.pow(tbl, 1 / normalizeWeight))\n  let fee_rate = numFee / PRECISION\n  let feeWithdraw = amount_out * (1 - (normalizeWeight * (fee_rate - 1) + 1))\n\n  return new BN(amount_out - feeWithdraw)\n}\n\nexport const calcMintReceivesRemoveFullSide = (\n  lptAmount: BN,\n  lptSupply: BN,\n  reserves: BN[],\n) => {\n  const numLptAmount = lptAmount.toNumber()\n  const numLptSupply = lptSupply.toNumber()\n\n  let lpt_rate = numLptAmount / numLptSupply\n  let amounts_out: BN[] = reserves.map((reserve) => {\n    return new BN(lpt_rate * Number(reserve))\n  })\n  return amounts_out\n}\n\nexport const calcDepositPriceImpact = (\n  amountIns: BN[],\n  balanceIns: BN[],\n  weightIns: BN[],\n  totalSupply: BN,\n  decimalIns: number[],\n  swapFee: BN,\n) => {\n  if (decimalIns.length === 0) return { lpOut: 0, impactPrice: 0 }\n\n  const lpOut = Number(\n    calcBptOutGivenExactTokensIn(\n      amountIns,\n      balanceIns,\n      weightIns,\n      totalSupply,\n      decimalIns,\n      swapFee,\n    ).toFixed(9),\n  )\n\n  const lpOutZeroPriceImpact = Number(\n    calcLpForTokensZeroPriceImpact(\n      amountIns,\n      balanceIns,\n      weightIns,\n      totalSupply,\n      decimalIns,\n    ).toFixed(9),\n  )\n\n  const impactPrice = 1 - lpOut / lpOutZeroPriceImpact\n\n  return { lpOut, impactPrice: impactPrice || 0 }\n}\n\nconst calcTokenOutGivenExactLpIn = (\n  balance: BN,\n  normalizedWeight: number,\n  lpAmountIn: BN,\n  lpTotalSupply: BN,\n  decimal: number,\n  swapFee: BN,\n) => {\n  const numBalance = Number(\n    util.undecimalize(BigInt(balance.toString()), decimal),\n  )\n  const numAmountIn = Number(\n    util.undecimalize(BigInt(lpAmountIn.toString()), LPTDECIMALS),\n  )\n  const numTotalSupply = Number(\n    util.undecimalize(BigInt(lpTotalSupply.toString()), LPTDECIMALS),\n  )\n\n  const numSwapFee = Number(\n    util.undecimalize(BigInt(swapFee.toString()), GENERAL_DECIMALS),\n  )\n\n  const invariantRatio = (numTotalSupply - numAmountIn) / numTotalSupply\n  // Calculate by how much the token balance has to increase to cause `invariantRatio`\n  const balanceRatio = invariantRatio ** (1 / normalizedWeight)\n  // Because of rounding up, `balanceRatio` can be greater than one, so we use its complement\n  const amountOutWithoutFee = numBalance * complement(balanceRatio)\n  // We can now compute how much excess balance is being withdrawn as a result of the virtual swaps,\n  // which result in swap fees\n  const taxablePercentage = complement(normalizedWeight)\n  // Swap fees are typically charged on 'tokenIn', but there is no 'tokenIn' here, so we apply it\n  // to 'tokenOut' - this results in slightly larger price impact (fees are rounded up)\n  const taxableAmount = amountOutWithoutFee * taxablePercentage\n  const nonTaxableAmount = amountOutWithoutFee - taxableAmount\n  return nonTaxableAmount + taxableAmount * complement(numSwapFee)\n}\n\nexport const calcWithdrawPriceImpact = (\n  lpAmount: BN,\n  indexTokenOut: number,\n  balanceOuts: BN[],\n  weightOuts: BN[],\n  totalSupply: BN,\n  decimalOuts: number[],\n  swapFee: BN,\n) => {\n  if (decimalOuts.length === 0 || lpAmount.isZero())\n    return { lpOut: 0, impactPrice: 0 }\n  let tokenAmountOut = new BN(0)\n  const tokenAmounts = balanceOuts.map((_, idx) => {\n    if (indexTokenOut !== idx) {\n      return new BN(0)\n    }\n    const normalizedWeight = calcNormalizedWeight(weightOuts, weightOuts[idx])\n    const tokenAmount = calcTokenOutGivenExactLpIn(\n      balanceOuts[idx],\n      normalizedWeight,\n      lpAmount,\n      totalSupply,\n      decimalOuts[idx],\n      swapFee,\n    )\n\n    tokenAmountOut = new BN(\n      util.decimalize(tokenAmount, decimalOuts[idx]).toString(),\n    )\n    return tokenAmountOut\n  })\n\n  const lpOutZeroPriceImpact = Number(\n    calcLpForTokensZeroPriceImpact(\n      tokenAmounts,\n      balanceOuts,\n      weightOuts,\n      totalSupply,\n      decimalOuts,\n    ).toFixed(9),\n  )\n\n  const numLpAmount = Number(\n    util.undecimalize(BigInt(lpAmount.toString()), LPTDECIMALS),\n  )\n  if (numLpAmount < lpOutZeroPriceImpact)\n    return { tokenAmountOut, impactPrice: 0 }\n  const impactPrice = numLpAmount / lpOutZeroPriceImpact - 1\n\n  return { tokenAmountOut, impactPrice }\n}\n\nexport const calcPriceImpact = (route: routeFullInfo[]) => {\n  let p = 1\n  route.forEach((elmInfo) => {\n    const s = elmInfo.priceImpact\n    p = p * (1 - s)\n  })\n  return 1 - p\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { BN } from '@project-serum/anchor'\nimport { useTheme, util } from '@sentre/senhub'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\nimport NumericInput from 'components/numericInput'\n\nimport { calcNormalizedWeight } from 'helper/oracles'\nimport { AppState } from 'model'\nimport { TokenInfo } from 'view/pools/newPool'\nimport { notifyError, notifySuccess } from 'helper'\nimport { GENERAL_NORMALIZED_NUMBER } from 'constant'\n\nconst TOTAL_PERCENT = 100\n\nconst Token = ({ mintAddress }: { mintAddress: string }) => (\n  <Space>\n    <MintAvatar mintAddress={mintAddress} />\n    <MintSymbol mintAddress={mintAddress} />\n  </Space>\n)\n\nconst Weight = ({ poolAddress }: { poolAddress: string }) => {\n  const [tokensInfo, setTokensInfo] = useState<Record<string, TokenInfo>>()\n  const [loading, setLoading] = useState(false)\n  const { mints, weights } = useSelector(\n    (state: AppState) => state.pools[poolAddress],\n  )\n  const theme = useTheme()\n\n  const fetchWeights = useCallback(() => {\n    const nextWeights: Record<string, TokenInfo> = {}\n    mints.forEach((mint, index) => {\n      const normalizedWeight = calcNormalizedWeight(weights, weights[index])\n      const addressToken = mint.toBase58()\n\n      nextWeights[addressToken] = {\n        addressToken,\n        weight: util.numeric(normalizedWeight * 100).format('0,0.[00]'),\n        isLocked: false,\n      }\n    })\n    setTokensInfo(nextWeights)\n  }, [mints, weights])\n\n  const onWeightChange = (val: string, mint: string) => {\n    const newTokensInfo = { ...tokensInfo }\n    newTokensInfo[mint] = { ...newTokensInfo[mint], weight: val }\n    let remainingPercent = TOTAL_PERCENT - Number(val)\n\n    const amountTokenNotLock = Object.values(newTokensInfo).filter(\n      (token) => !token.isLocked && token.addressToken !== mint,\n    ).length\n    let firstTime = true\n\n    for (const mintAddress of mints) {\n      const { isLocked, weight, addressToken } =\n        newTokensInfo[mintAddress.toBase58()]\n\n      if (mint === addressToken) continue\n      if (isLocked) {\n        remainingPercent -= Number(weight)\n        continue\n      }\n\n      const nextWeight = (remainingPercent / amountTokenNotLock).toFixed(2)\n\n      if (firstTime) {\n        const newWeight =\n          remainingPercent - Number(nextWeight) * (amountTokenNotLock - 1)\n\n        newTokensInfo[addressToken] = {\n          ...newTokensInfo[addressToken],\n          weight: util.numeric(newWeight).format('0,0.[00]'),\n        }\n        firstTime = false\n        continue\n      }\n\n      newTokensInfo[addressToken] = {\n        ...newTokensInfo[addressToken],\n        weight: util.numeric(nextWeight).format('0,0.[00]'),\n      }\n    }\n\n    return setTokensInfo(newTokensInfo)\n  }\n\n  const lockWeight = (mint: string) => {\n    const newWeights = { ...tokensInfo }\n    const { isLocked } = newWeights[mint]\n    newWeights[mint] = { ...newWeights[mint], isLocked: !isLocked }\n\n    setTokensInfo(newWeights)\n  }\n\n  const validateWeight = useCallback(\n    (mint: string) => {\n      if (!tokensInfo) return false\n      const { weight } = tokensInfo[mint]\n      const numWeight = Number(weight)\n      if (numWeight > TOTAL_PERCENT || numWeight < 0) return false\n\n      let remainingPercent = 0\n      for (const { addressToken, weight } of Object.values(tokensInfo)) {\n        if (mint === addressToken) continue\n        remainingPercent += Number(weight)\n      }\n      const actualWeight = TOTAL_PERCENT - remainingPercent\n      return numWeight === Number(util.numeric(actualWeight).format('0,0.[00]'))\n    },\n    [tokensInfo],\n  )\n\n  const disabled = useMemo(() => {\n    if (!tokensInfo) return true\n    for (const mintAddress of Object.keys(tokensInfo)) {\n      if (!validateWeight(mintAddress)) return true\n    }\n    return false\n  }, [tokensInfo, validateWeight])\n\n  const updateWeights = async () => {\n    setLoading(true)\n    if (!tokensInfo) return\n    const weights = Object.values(tokensInfo).map(({ weight }) => {\n      const nextWeight = Number(weight) * GENERAL_NORMALIZED_NUMBER\n      const newWeight = new BN(nextWeight)\n      return newWeight\n    })\n\n    try {\n      const { updateWeights } = window.balansol\n      const { txId } = await updateWeights(poolAddress, weights)\n      return notifySuccess('Update weights', txId)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchWeights()\n  }, [fetchWeights])\n\n  return (\n    <Row gutter={[12, 12]}>\n      {mints.map((mint, idx) => {\n        const addressToken = mint.toBase58()\n        if (!tokensInfo) return null\n        const { isLocked, weight } = tokensInfo[addressToken]\n\n        return (\n          <Col span={24} key={addressToken + idx} className=\"weight\">\n            <Row gutter={12} align=\"middle\" wrap={false}>\n              <Col\n                flex=\"auto\"\n                className={\n                  validateWeight(addressToken)\n                    ? 'weight-input'\n                    : 'weight-input-error'\n                }\n              >\n                <NumericInput\n                  prefix={<Token mintAddress={addressToken} />}\n                  disabled={isLocked}\n                  bordered={false}\n                  controls={false}\n                  styles={{\n                    borderRadius: 40,\n                    background: theme === 'light' ? '#e6eaf5' : '#142042',\n                  }}\n                  addonAfter={<Typography.Text>%</Typography.Text>}\n                  value={weight}\n                  name={addressToken}\n                  onValue={(val: string) => onWeightChange(val, addressToken)}\n                />\n              </Col>\n              <Col>\n                <Button\n                  shape=\"circle\"\n                  type=\"text\"\n                  onClick={() => lockWeight(addressToken)}\n                  icon={\n                    <IonIcon\n                      name={\n                        isLocked ? 'lock-closed-outline' : 'lock-open-outline'\n                      }\n                    />\n                  }\n                />\n              </Col>\n            </Row>\n          </Col>\n        )\n      })}\n      <Col span={24} /> {/** Safe place */}\n      <Col span={24}>\n        <Button\n          onClick={updateWeights}\n          loading={loading}\n          disabled={disabled}\n          block\n          ghost\n          size=\"large\"\n        >\n          Update\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Weight\n","import { Card, Tabs } from 'antd'\nimport Fee from './fee'\nimport FreezeAndThaw from './freezeAndThaw'\nimport TransferOwner from './transferOwner'\nimport Weight from './weight'\n\nimport './index.less'\n\nconst PoolManagement = ({ poolAddress }: { poolAddress: string }) => {\n  return (\n    <Card>\n      <Tabs>\n        <Tabs.TabPane key=\"weights\" tab=\"Weights\">\n          <Weight poolAddress={poolAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane key=\"freeze-thaw\" tab=\"Freeze/Unfreeze\">\n          <FreezeAndThaw poolAddress={poolAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane key=\"fee\" tab=\"Fee\">\n          <Fee poolAddress={poolAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane key=\"ownership\" tab=\"Ownership\">\n          <TransferOwner poolAddress={poolAddress} />\n        </Tabs.TabPane>\n      </Tabs>\n    </Card>\n  )\n}\n\nexport default PoolManagement\n","import { useTheme, util } from '@sentre/senhub'\nimport ReactEChartsCore from 'echarts-for-react/lib/core'\nimport * as echarts from 'echarts/core'\nimport { PieChart } from 'echarts/charts'\nimport {\n  GridComponent,\n  TitleComponent,\n  LegendComponent,\n} from 'echarts/components'\nimport { CanvasRenderer } from 'echarts/renderers'\n\necharts.use([\n  TitleComponent,\n  GridComponent,\n  PieChart,\n  CanvasRenderer,\n  LegendComponent,\n])\n\nexport type PoolWeightData = {\n  symbol: string\n  weight: number\n  tokenAmount: string\n}\n\nconst buildOptions = (\n  data: PoolWeightData[],\n  style: { color: string; backgroundColor: string },\n) => {\n  return {\n    legend: {\n      bottom: 0,\n      icon: 'circle',\n      textStyle: {\n        color: style.color,\n      },\n    },\n    tooltip: {\n      trigger: 'item',\n      borderWidth: '1',\n      formatter: function (params: any, ticket: any, callback: () => void) {\n        return `<div style=\"min-width: 200px; font-weight: 400\"><span style=\"color: #9CA1AF; font-size: 12px\">${params.data.name}</span><br/><span style=\"display: flex; justify-content: space-between\"><span style=\"font-size: 14px, font-weight: 400\">Weight&nbsp;</span> <span style=\"font-size: 16px; font-weight: 700\">${params.data.value}%</span></span> <span style=\"display: flex; justify-content: space-between;\"><span style=\"font-size: 14px; font-weight: 400\">Token amount&nbsp;</span> <span style=\"font-size: 16px; font-weight: 700\">${params.data.tokenAmount}</span></span></div>`\n      },\n      backgroundColor: style.backgroundColor,\n      extraCssText: 'border-radius: 24px',\n      textStyle: {\n        color: style.color,\n      },\n    },\n    series: [\n      {\n        type: 'pie',\n        radius: '70%',\n        avoidLabelOverlap: false,\n        top: 0,\n        label: {\n          show: true,\n          position: 'inside',\n          formatter: '{c}%',\n        },\n        labelLine: {\n          show: true,\n        },\n        bottom: 0,\n        data: data.map((value) => {\n          return {\n            name: value.symbol,\n            value: util.numeric(value.weight).format('0,0.[00]'),\n            tokenAmount: value.tokenAmount,\n          }\n        }),\n      },\n    ],\n  }\n}\n\nconst STYLE = {\n  light: {\n    color: '#081438',\n    backgroundColor: '#F2F4FA',\n  },\n  dark: {\n    color: '#F3F3F5',\n    backgroundColor: '#212C4C',\n  },\n}\n\nconst DoughnutChart = ({ data }: { data: PoolWeightData[] }) => {\n  const theme = useTheme()\n\n  return (\n    <ReactEChartsCore\n      echarts={echarts}\n      option={buildOptions(data, STYLE[theme])}\n      notMerge={true}\n      lazyUpdate={true}\n    />\n  )\n}\n\nexport default DoughnutChart\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { tokenProvider, useGetMintDecimals } from '@sentre/senhub'\n\nimport { Card, Col, Row, Spin, Typography } from 'antd'\nimport DoughnutChart, { PoolWeightData } from './doughnutChart'\n\nimport { AppState } from 'model'\nimport { getMintInfo } from 'helper/oracles'\nimport { utilsBN } from 'helper/utilsBN'\nimport { notifyError } from 'helper'\n\nconst PoolWeights = ({ poolAddress }: { poolAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const [poolWeights, setPoolWeights] = useState<PoolWeightData[]>([])\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const getDecimals = useGetMintDecimals()\n\n  const doughnutChartData = useCallback(async () => {\n    try {\n      setLoading(true)\n      if (!poolData) return\n      const newData = await Promise.all(\n        poolData.mints.map(async (mint) => {\n          const { normalizedWeight, reserve } = getMintInfo(\n            poolData,\n            mint.toBase58(),\n          )\n          const tokenInfo = await tokenProvider.findByAddress(mint.toBase58())\n\n          if (tokenInfo)\n            return {\n              symbol: tokenInfo.symbol,\n              tokenAmount: utilsBN.undecimalize(reserve, tokenInfo.decimals),\n              weight: normalizedWeight * 100,\n            }\n          const decimal =\n            (await getDecimals({ mintAddress: mint.toBase58() })) || 0\n          return {\n            symbol: mint.toBase58().substring(0, 4),\n            tokenAmount: utilsBN.undecimalize(reserve, decimal) || '0',\n            weight: normalizedWeight * 100,\n          }\n        }),\n      )\n      setPoolWeights(newData)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }, [getDecimals, poolData])\n\n  useEffect(() => {\n    doughnutChartData()\n  }, [doughnutChartData])\n\n  return (\n    <Card className=\"chart-card\">\n      <Row>\n        <Col span={24}>\n          <Typography.Title level={4}>Pool Weights</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Spin tip=\"Loading...\" spinning={loading}>\n            <DoughnutChart data={poolWeights} />\n          </Spin>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default PoolWeights\n","import { util } from '@sentre/senhub'\nimport ReactEChartsCore from 'echarts-for-react/lib/core'\nimport * as echarts from 'echarts/core'\nimport { BarChart as BC } from 'echarts/charts'\nimport {\n  GridComponent,\n  TooltipComponent,\n  TitleComponent,\n  LegendComponent,\n} from 'echarts/components'\nimport { CanvasRenderer } from 'echarts/renderers'\n\nimport { Row } from 'antd'\nimport { VolumeData } from '.'\n\necharts.use([\n  TitleComponent,\n  TooltipComponent,\n  GridComponent,\n  BC,\n  CanvasRenderer,\n  LegendComponent,\n])\n\nconst buildOptions = (data: VolumeData[]) => ({\n  xAxis: {\n    type: 'category',\n    data: data.map((value) => value.label),\n    axisLine: {\n      show: false,\n    },\n    axisTick: {\n      show: false,\n    },\n  },\n  yAxis: {\n    type: 'value',\n    splitLine: {\n      show: false,\n    },\n    axisLabel: {\n      formatter: (value: number) => {\n        return util.numeric(value).format('0,0.[00]a')\n      },\n    },\n  },\n  tooltip: {\n    trigger: 'item',\n    borderWidth: '1',\n    valueFormatter: (value: any) => '$' + value.toFixed(2),\n  },\n  series: [\n    {\n      data: data.map((value) => value.data),\n      type: 'bar',\n      itemStyle: { color: '#87E0C0' },\n    },\n  ],\n  grid: {\n    show: false,\n    top: 10,\n    left: 40,\n    right: 10,\n    bottom: 50,\n  },\n})\n\nconst BarChart = ({ data }: { data: VolumeData[] }) => {\n  return (\n    <Row justify=\"center\" className=\"barchart-container\">\n      <ReactEChartsCore echarts={echarts} option={buildOptions(data)} />\n    </Row>\n  )\n}\n\nexport default BarChart\n","import moment from 'moment'\n\nconst SECOND_PER_MILLISECOND = 1000\n\nexport enum TimeFormat {\n  YMD = 'YYYYMMDD',\n  SortableTimePattern = 'YYYY-MM-DD HH:mm:ss',\n}\n\nexport class DateHelper {\n  private milliSeconds: number = new Date().valueOf()\n\n  setMilliSeconds(milliSeconds: number) {\n    this.milliSeconds = milliSeconds\n  }\n\n  static fromSeconds(seconds: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = seconds * SECOND_PER_MILLISECOND\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static fromYmd(ymd: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = moment(ymd, TimeFormat.YMD).valueOf()\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static getListDate(ymdFrom: number, ymdTo: number): number[] {\n    const dates: number[] = []\n    let dateFrom = DateHelper.fromYmd(ymdFrom)\n    const dateTo = DateHelper.fromYmd(ymdTo)\n    while (dateFrom.ymd() <= dateTo.ymd()) {\n      dates.push(dateFrom.ymd())\n      dateFrom = dateFrom.addDay()\n    }\n    return dates\n  }\n\n  format(dateFormat: TimeFormat): string {\n    const date = new Date(this.milliSeconds)\n    return moment(date).format(dateFormat)\n  }\n\n  subtractDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .subtract(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  addDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .add(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  seconds(): number {\n    return (\n      (this.milliSeconds - (this.milliSeconds % SECOND_PER_MILLISECOND)) /\n      SECOND_PER_MILLISECOND\n    )\n  }\n\n  ymd(): number {\n    return Number(this.format(TimeFormat.YMD))\n  }\n\n  static today(format: string = TimeFormat.YMD): string {\n    return moment().format(format)\n  }\n}\n","export class TransLog {\n  programId: string = ''\n  programInfo: ProgramInfo | undefined\n  signature: string = ''\n  blockTime: number = 0\n  time: number = 0\n  owner: string = ''\n  actionType: string = ''\n  actionTransfers: Array<ActionTransfer> = []\n  programTransfer: Array<ActionTransfer> = []\n}\n\nexport class ActionInfo {\n  address: string = ''\n  mint: string = ''\n  decimals: number = 0\n  preBalance: string = '0'\n  postBalance: string = '0'\n}\n/**\n * Amount is not same postBalance - preBalance\n * @postBalance and @preBalance are balance after all action (transaction)\n * @postBalance = @preBalance +- all @amount (multi amount in transaction)\n * @amount is value in 1 action\n */\nexport class ActionTransfer {\n  source: ActionInfo | undefined\n  destination: ActionInfo | undefined\n  amount: string = '0'\n}\ntype ProgramInfo = {\n  programId: string\n  data: string\n}\n","import { connection } from '@sentre/senhub'\nimport {\n  ConfirmedSignatureInfo,\n  ConfirmedSignaturesForAddress2Options,\n  Connection,\n  ParsedConfirmedTransaction,\n  PublicKey,\n} from '@solana/web3.js'\n\nimport { OptionsFetchSignature } from '../../constants/transaction'\n\nconst DEFAULT_LIMIT = 700\nconst TRANSACTION_LIMIT = 200\n\nexport class Solana {\n  private conn: Connection = connection\n\n  //Search for all signatures from last Signature and earlier\n  //So: If new collection (to now) -> last Signature = null\n  private async fetchSignatures(\n    address: PublicKey,\n    lastSignature?: string,\n    limit: number = DEFAULT_LIMIT,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    if (limit > DEFAULT_LIMIT) limit = DEFAULT_LIMIT\n    const options: ConfirmedSignaturesForAddress2Options = {\n      limit: limit,\n      before: lastSignature,\n    }\n    return this.conn.getConfirmedSignaturesForAddress2(address, options)\n  }\n\n  private async fetchConfirmTransaction(signatures: string[]) {\n    let confirmedTransactions: ParsedConfirmedTransaction[] = []\n    let limit = TRANSACTION_LIMIT\n\n    const promiseTransGroup = []\n    for (let offset = 0; offset <= signatures.length / limit; offset++) {\n      const skip = offset * limit\n      const signaturesGroup = signatures.slice(skip, skip + limit)\n      promiseTransGroup.push(\n        this.conn.getParsedConfirmedTransactions(signaturesGroup),\n      )\n    }\n\n    const transGroups = await Promise.all(promiseTransGroup)\n    for (const transGroup of transGroups) {\n      //@ts-ignore\n      confirmedTransactions = confirmedTransactions.concat(transGroup)\n    }\n    return confirmedTransactions\n  }\n\n  async fetchTransactions(\n    programId: string,\n    options: OptionsFetchSignature,\n  ): Promise<ParsedConfirmedTransaction[]> {\n    const currentTime = new Date().getTime() / 1000\n    let { secondFrom, secondTo, lastSignature, limit } = options\n    secondFrom = Math.floor(secondFrom || 0)\n    secondTo = Math.floor(secondTo || currentTime)\n\n    const programPublicKey = new PublicKey(programId)\n    let signatures: string[] = []\n    let isStop = false\n\n    while (!isStop) {\n      const confirmedSignatureInfos: ConfirmedSignatureInfo[] =\n        await this.fetchSignatures(programPublicKey, lastSignature, limit)\n      if (!confirmedSignatureInfos?.length || isStop) break\n      for (const info of confirmedSignatureInfos) {\n        const blockTime = info.blockTime\n        if (!blockTime || blockTime > secondTo) continue\n        if (blockTime < secondFrom) {\n          isStop = true\n          break\n        }\n        lastSignature = info.signature\n        signatures.push(info.signature)\n      }\n\n      if (limit && signatures.length >= limit) break\n      if (confirmedSignatureInfos?.length < DEFAULT_LIMIT) break\n    }\n    const confirmedTransactions = await this.fetchConfirmTransaction(signatures)\n    return confirmedTransactions\n  }\n}\n","export enum ParsedType {\n  Transfer = 'transfer',\n}\n\nexport type ParsedAction = {\n  type: ParsedType\n  info: ParsedInfoTransfer\n}\n\nexport type ParsedInfoTransfer = {\n  source: string\n  destination: string\n  amount: string\n  lamports: number\n}\n\nexport type OptionsFetchSignature = {\n  limit?: number\n  lastSignature?: string\n  secondFrom?: number\n  secondTo?: number\n}\n","import { TransLog } from './../../entities/trans-log'\nimport { TransLogService } from './../translog'\n\nexport enum SwapActionType {\n  Swap = 'SWAP',\n}\n\nexport default class PoolTransLogService extends TransLogService {\n  parseAction = (transLog: TransLog) => {\n    try {\n      const programDataEncode = transLog.programInfo?.data\n      const swapData = (\n        window.balansol.program.coder.instruction as any\n      ).decode(programDataEncode, 'base58')\n      if (swapData?.name === 'route') return SwapActionType.Swap\n    } catch (error) {}\n    return ''\n  }\n}\n","//@ts-ignore\nimport {\n  ParsedConfirmedTransaction,\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  TokenBalance,\n} from '@solana/web3.js'\nimport { account } from '@senswap/sen-js'\n\nimport { ActionInfo, ActionTransfer, TransLog } from '../entities/trans-log'\nimport { Solana } from '../adapters/solana/client'\nimport {\n  OptionsFetchSignature,\n  ParsedAction,\n  ParsedInfoTransfer,\n  ParsedType,\n} from '../constants/transaction'\nimport { DateHelper } from '../helpers/date'\nimport { SOL_ADDRESS, SOL_DECIMALS } from '../constants/sol'\n\ntype InstructionData = ParsedInstruction | PartiallyDecodedInstruction\n\nexport class TransLogService {\n  protected parseAction = (transLog: TransLog) => {\n    return ''\n  }\n\n  async collect(\n    programId: string,\n    configs: OptionsFetchSignature,\n    filterTransLog?: (transLog: TransLog) => Promise<boolean>,\n  ): Promise<TransLog[]> {\n    let { lastSignature, limit } = configs\n    const solana = new Solana()\n    let transLogs: Array<TransLog> = []\n    let lastSignatureTmp = lastSignature\n    let isStop = false\n    let smartLimit = 200\n    while (!isStop) {\n      const confirmedTrans: ParsedConfirmedTransaction[] =\n        await solana.fetchTransactions(programId, {\n          ...configs,\n          lastSignature: lastSignatureTmp,\n          limit: smartLimit,\n        })\n\n      for (const trans of confirmedTrans) {\n        lastSignatureTmp = trans.transaction.signatures[0]\n        const log = this.parseTransLog(trans)\n        if (!log) continue\n        // filter\n        if (filterTransLog) {\n          const checked = await filterTransLog(log)\n          if (!checked) continue\n        }\n        transLogs.push(log)\n\n        if (limit && transLogs.length >= limit) {\n          isStop = true\n          break\n        }\n      }\n      if (limit) smartLimit = (smartLimit * limit) / (transLogs.length || 1)\n      if (!confirmedTrans.length) break\n      if (isStop) break\n    }\n    return transLogs\n  }\n\n  private parseTransLog(\n    confirmedTrans: ParsedConfirmedTransaction,\n  ): TransLog | undefined {\n    const { blockTime, meta, transaction } = confirmedTrans\n    if (!blockTime || !meta) return\n    const { postTokenBalances, preTokenBalances, postBalances, preBalances } =\n      meta\n    const { signatures, message } = transaction\n\n    const innerInstructionData = meta.innerInstructions?.[0]?.instructions || []\n    const instructionData = message.instructions[0] || []\n\n    const transLog = new TransLog()\n    transLog.signature = signatures[0]\n    transLog.blockTime = blockTime\n    transLog.time = DateHelper.fromSeconds(blockTime).ymd()\n    transLog.programId = instructionData.programId.toString()\n\n    const mapAccount = this.parseAccountInfo(\n      message.accountKeys,\n      postTokenBalances || [],\n      preTokenBalances || [],\n      postBalances,\n      preBalances,\n    )\n    // system program transaction\n    if (this.isParsedInstruction(instructionData)) {\n      transLog.programTransfer = this.parseListActionTransfer(\n        [instructionData],\n        mapAccount,\n      )\n      return transLog\n    }\n    // smart contract transaction\n    transLog.actionTransfers = this.parseListActionTransfer(\n      innerInstructionData,\n      mapAccount,\n    )\n    transLog.programInfo = {\n      programId: instructionData.programId.toString(),\n      data: (instructionData as PartiallyDecodedInstruction).data,\n    }\n\n    transLog.actionType = this.parseAction(transLog)\n\n    return transLog\n  }\n\n  private isParsedInstruction(instructionData: InstructionData) {\n    return (instructionData as ParsedInstruction).parsed !== undefined\n  }\n\n  private parseListActionTransfer(\n    actions: InstructionData[],\n    mapAccount: Map<string, ActionInfo>,\n  ) {\n    const actionTransfer: ActionTransfer[] = []\n    for (const action of actions) {\n      if (!this.isParsedInstruction(action)) continue\n      const actionParsed: ParsedAction =\n        (action as ParsedInstruction).parsed || {}\n      switch (actionParsed.type) {\n        case ParsedType.Transfer:\n          const info: ParsedInfoTransfer = actionParsed.info\n          const parsedAction = this.parseActionTransfer(info, mapAccount)\n          if (parsedAction) actionTransfer.push(parsedAction)\n          break\n        default:\n          break\n      }\n    }\n    return actionTransfer\n  }\n\n  private parseActionTransfer(\n    parsedTransfer: ParsedInfoTransfer,\n    mapAccount: Map<string, ActionInfo>,\n  ): ActionTransfer | undefined {\n    const { source, destination, amount, lamports } = parsedTransfer\n    const amountTransfer = amount || lamports.toString()\n\n    if (\n      !amountTransfer ||\n      !mapAccount.has(source) ||\n      !mapAccount.has(destination)\n    )\n      return\n\n    const actionTransfer = new ActionTransfer()\n    actionTransfer.source = mapAccount.get(source)\n    actionTransfer.destination = mapAccount.get(destination)\n    actionTransfer.amount = amountTransfer\n    return actionTransfer\n  }\n\n  private parseAccountInfo(\n    accountKeys: Array<ParsedMessageAccount>,\n    postTokenBalances: Array<TokenBalance>,\n    preTokenBalances: Array<TokenBalance>,\n    postBalances: number[],\n    preBalances: number[],\n  ): Map<string, ActionInfo> {\n    const mapAccountInfo = new Map<string, ActionInfo>()\n\n    // Associated Address\n    for (const postBalance of postTokenBalances) {\n      const { accountIndex, mint, uiTokenAmount } = postBalance\n      const info = new ActionInfo()\n      info.address = accountKeys[accountIndex].pubkey.toString()\n      info.postBalance = uiTokenAmount.amount\n      info.mint = mint\n      info.decimals = uiTokenAmount.decimals\n      mapAccountInfo.set(info.address, info)\n    }\n\n    for (const preBalance of preTokenBalances) {\n      const { accountIndex, uiTokenAmount } = preBalance\n      const address = accountKeys[accountIndex].pubkey.toString()\n      const info = mapAccountInfo.get(address) || new ActionInfo()\n      info.preBalance = uiTokenAmount.amount\n      mapAccountInfo.set(info.address, info)\n    }\n\n    // Wallet address\n    accountKeys.forEach((accountData, idx) => {\n      const address = accountData.pubkey.toString()\n      if (!account.isAssociatedAddress(address)) {\n        const info = mapAccountInfo.get(address) || new ActionInfo()\n        info.address = address\n        info.mint = SOL_ADDRESS\n        info.postBalance = String(postBalances[idx] || 0) // lamports\n        info.preBalance = String(preBalances[idx] || 0) // lamports\n        info.decimals = SOL_DECIMALS\n        mapAccountInfo.set(info.address, info)\n      }\n    })\n\n    return mapAccountInfo\n  }\n}\n","export const SOL_ADDRESS = '11111111111111111111111111111111'\n\nexport const SOL_DECIMALS = 9\n","export class DailyReport {\n  programId = ''\n  time: number = 0\n  address: string = ''\n  mint: string = ''\n  actionType: string = ''\n  amountIn: bigint = BigInt(0)\n  amountOut: bigint = BigInt(0)\n  totalTrans: number = 0\n}\n","import { PoolData } from '@senswap/sen-js'\nimport { DailyReport } from '../entities/daily-report'\nimport { TransLog } from '../entities/trans-log'\n\nexport default class DailyReportService {\n  parserDailyReport(transLogs: TransLog[]): DailyReport[] {\n    let reports = new Array<DailyReport>()\n    for (const transLog of transLogs) {\n      reports = reports.concat(this.parseDailyReport(transLog))\n    }\n    return this.mergeDailyReport(reports)\n  }\n\n  parseDailyReport(transLog: TransLog): DailyReport[] {\n    const dailyReports = new Array<DailyReport>()\n    const { programId, time, actionType, actionTransfers } = transLog\n    for (const transfer of actionTransfers) {\n      const { source, destination, amount } = transfer\n\n      const report = new DailyReport()\n      report.programId = programId\n      report.time = time\n      report.actionType = actionType\n\n      if (source) {\n        const { mint, address } = source\n        dailyReports.push({\n          ...report,\n          mint: mint,\n          address: address,\n          amountOut: BigInt(amount),\n        })\n      }\n      if (destination) {\n        const { mint, address } = destination\n        dailyReports.push({\n          ...report,\n          mint: mint,\n          address: address,\n          amountIn: BigInt(amount),\n        })\n      }\n    }\n    return dailyReports\n  }\n\n  mergeDailyReport(dailyReports: Array<DailyReport>): Array<DailyReport> {\n    const map = new Map<string, DailyReport>()\n    for (const report of dailyReports) {\n      const key = `${report.time}^${report.address}^${report.mint}^${report.actionType}`\n      if (map.has(key)) {\n        const val = map.get(key)\n        if (val !== undefined) {\n          report.amountIn += val.amountIn\n          report.amountOut += val.amountOut\n          report.totalTrans += val.totalTrans\n        }\n      }\n      map.set(key, report)\n    }\n    const results = new Array<DailyReport>()\n    map.forEach((report) => results.push(report))\n    return results\n  }\n}\n\nexport type MapTreasury = { poolAddress: string; data: PoolData }\n","import { PoolData } from '@senswap/balancer'\nimport { BN } from '@project-serum/anchor'\nimport { util, PDB, TokenProvider } from '@sentre/senhub'\n\nimport { TransLog } from 'stat/entities/trans-log'\nimport { TotalSummary } from 'stat/constants/summary'\nimport { DailyReport } from 'stat/entities/daily-report'\nimport { DateHelper } from 'stat/helpers/date'\nimport { utilsBN } from 'helper/utilsBN'\nimport PoolTransLogService, { SwapActionType } from './poolTranslog'\nimport DailyReportService from '../daily-report'\n\nconst DATE_RANGE = 8\n\nexport default class PoolService {\n  poolAddress: string\n  poolData: PoolData | undefined\n  poolTransLogService = new PoolTransLogService()\n  dailyReportService = new DailyReportService()\n  tokenProvider = new TokenProvider()\n\n  constructor(poolAddress: string) {\n    this.poolAddress = poolAddress\n  }\n\n  getPoolData = async (): Promise<PoolData> => {\n    if (!this.poolData) {\n      const balansol = window.balansol\n      this.poolData = await balansol.getPoolData(this.poolAddress)\n    }\n    return this.poolData\n  }\n\n  getUsd = async (mint: string, amountBigint: bigint) => {\n    const mintInfo = await this.tokenProvider.findByAddress(mint)\n    if (!mintInfo) return 0\n    const { decimals, extensions } = mintInfo\n    try {\n      const cgkData = await util.fetchCGK(extensions?.coingeckoId)\n      if (!cgkData?.price) return 0\n      const amount = utilsBN.undecimalize(\n        new BN(amountBigint.toString()),\n        decimals,\n      )\n      return Number(amount) * cgkData.price\n    } catch (error) {\n      return 0\n    }\n  }\n\n  fetchTransLog = async (timeFrom: number, timeTo: number) => {\n    const db = new PDB(this.poolAddress).createInstance('stat')\n    let cacheTransLog: TransLog[] = (await db.getItem('translogs')) || []\n    cacheTransLog = cacheTransLog.sort((a, b) => b.blockTime - a.blockTime)\n    const fistTransLog = cacheTransLog[0]\n    const lastTransLog = cacheTransLog[cacheTransLog.length - 1]\n\n    if (fistTransLog && lastTransLog) {\n      const [beginTransLogs] = await Promise.all([\n        this.poolTransLogService.collect(this.poolAddress, {\n          secondFrom: fistTransLog.blockTime,\n          secondTo: timeTo,\n        }),\n      ])\n      cacheTransLog = cacheTransLog.filter(\n        (trans) => trans.blockTime > timeFrom,\n      )\n      cacheTransLog = [...beginTransLogs, ...cacheTransLog]\n    } else {\n      cacheTransLog = await this.poolTransLogService.collect(this.poolAddress, {\n        secondFrom: timeFrom,\n        secondTo: timeTo,\n      })\n    }\n    await db.setItem('translogs', cacheTransLog)\n    return cacheTransLog\n  }\n\n  getDailyInfo = async () => {\n    let timeTo = new DateHelper()\n    const timeFrom = new DateHelper().subtractDay(DATE_RANGE)\n    const { fee, taxFee, treasuries } = await this.getPoolData()\n\n    // fetch transLog\n    const transLogs = await this.fetchTransLog(\n      timeFrom.seconds(),\n      timeTo.seconds(),\n    )\n    // parse daily + create map time\n    const dailyReports = this.dailyReportService.parserDailyReport(transLogs)\n    const mapTimeDailyReport: Record<number, DailyReport[]> = {}\n    for (const report of dailyReports) {\n      const { time, address } = report\n      // filter daily report\n      if (!treasuries.map((e) => e.toBase58().includes(address))) continue\n      if (!mapTimeDailyReport[time]) mapTimeDailyReport[time] = []\n      mapTimeDailyReport[time].push(report)\n    }\n    // parse summary\n\n    const mapTimeTotal: Record<string, TotalSummary> = {}\n    mapTimeTotal[timeTo.ymd()] = {\n      tvl: 0,\n      fee: 0,\n      volume: 0,\n    }\n\n    while (timeTo.ymd() > timeFrom.ymd()) {\n      const reports = mapTimeDailyReport[timeTo.ymd()] || []\n      const currentReport = mapTimeTotal[timeTo.ymd()]\n      const prevDate = timeTo.subtractDay(1)\n      if (!mapTimeTotal[prevDate.ymd()] && prevDate.ymd() >= timeFrom.ymd()) {\n        mapTimeTotal[prevDate.ymd()] = {\n          tvl: currentReport.tvl,\n          fee: 0,\n          volume: 0,\n        }\n      }\n      for (const report of reports) {\n        const amountOut = await this.getUsd(report.mint, report.amountOut)\n        const amountIn = await this.getUsd(report.mint, report.amountIn)\n        if (mapTimeTotal[prevDate.ymd()]) {\n          mapTimeTotal[prevDate.ymd()].tvl += amountOut - amountIn\n          if (mapTimeTotal[prevDate.ymd()].tvl < 0)\n            mapTimeTotal[prevDate.ymd()].tvl = 0\n        }\n        if (report.actionType === SwapActionType.Swap) {\n          mapTimeTotal[timeTo.ymd()].volume += amountIn + amountOut\n          const totalFee =\n            Number(utilsBN.undecimalize(fee.add(taxFee), 9)) * amountOut\n          mapTimeTotal[timeTo.ymd()].fee += totalFee\n        }\n      }\n      timeTo = timeTo.subtractDay(1)\n    }\n\n    return mapTimeTotal\n  }\n}\n","import { useCallback } from 'react'\nimport { Address, BN, web3 } from '@project-serum/anchor'\nimport { useGetMintDecimals } from '@sentre/senhub'\nimport util from '@senswap/sen-js/dist/utils'\n\nexport const useOracles = () => {\n  const getDecimals = useGetMintDecimals()\n\n  const decimalizeMintAmount = useCallback(\n    async (amount: number | string, mintAddress: Address) => {\n      const decimals =\n        (await getDecimals({\n          mintAddress: new web3.PublicKey(mintAddress).toString(),\n        })) || 0\n      return new BN(util.decimalize(amount, decimals).toString())\n    },\n    [getDecimals],\n  )\n\n  const undecimalizeMintAmount = useCallback(\n    async (amount: BN, mintAddress: Address) => {\n      const decimals =\n        (await getDecimals({\n          mintAddress: new web3.PublicKey(mintAddress).toString(),\n        })) || 0\n      return util.undecimalize(BigInt(amount.toString()), decimals)\n    },\n    [getDecimals],\n  )\n\n  const decimalize = useCallback(\n    (amount: number | string, decimals: number) => {\n      return new BN(util.decimalize(amount, decimals).toString())\n    },\n    [],\n  )\n\n  const undecimalize = useCallback((amount: BN, decimals: number) => {\n    return util.undecimalize(BigInt(amount.toString()), decimals)\n  }, [])\n\n  return {\n    decimalize,\n    undecimalize,\n    decimalizeMintAmount,\n    undecimalizeMintAmount,\n  }\n}\n","import { useGetMintPrice } from '@sen-use/app'\nimport { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { useOracles } from './useOracles'\n\nimport { AppState } from 'model'\nimport { PoolData } from '@senswap/balancer'\n\nexport const useTVL = (poolAddress = '') => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const [TVL, setTVL] = useState(0)\n  const getPrice = useGetMintPrice()\n  const { undecimalizeMintAmount } = useOracles()\n\n  const getTVL = useCallback(\n    async (poolData: PoolData) => {\n      if (!poolData) return 0\n      let totalValueLocked = 0\n      for (let i in poolData.reserves) {\n        const tokenPrice = await getPrice(poolData.mints[i])\n        if (!tokenPrice) continue\n        const reserver = await undecimalizeMintAmount(\n          poolData.reserves[i],\n          poolData.mints[i],\n        )\n        totalValueLocked += tokenPrice * Number(reserver)\n      }\n      return totalValueLocked\n    },\n    [getPrice, undecimalizeMintAmount],\n  )\n\n  const updateTvl = useCallback(async () => {\n    const tvl = await getTVL(poolData)\n    return setTVL(tvl)\n  }, [getTVL, poolData])\n\n  useEffect(() => {\n    updateTvl()\n  }, [updateTvl])\n\n  return { TVL, getTVL }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { DataLoader } from '@sentre/senhub'\n\nimport { TotalSummary } from 'stat/constants/summary'\nimport PoolService from 'stat/logic/pool/pool'\nimport { useTVL } from './useTVL'\n\nconst TTL_5_MIN = 300000\n\nexport const useStat = (poolAddress: string) => {\n  const [apy, setApy] = useState(0)\n  const [dailyInfo, setDailyInfo] = useState<Record<string, TotalSummary>>({})\n  const [loading, setLoading] = useState(false)\n  const { TVL } = useTVL(poolAddress)\n\n  const fetchVolume = useCallback(async () => {\n    try {\n      setLoading(true)\n      if (!poolAddress || !TVL) {\n        setLoading(false)\n        setApy(0)\n        return setDailyInfo({})\n      }\n      const poolStatService = new PoolService(poolAddress)\n      const dailyInfo = await DataLoader.load(\n        'getDailyInfo' + poolAddress,\n        () => poolStatService.getDailyInfo(),\n        { cache: { ttl: TTL_5_MIN } },\n      )\n      // Calc Roi -> APY\n      let totalFee = 0\n      let dateCount = 0\n      for (const date in dailyInfo) {\n        totalFee += dailyInfo[date].fee\n        if (\n          dailyInfo[date].fee &&\n          dailyInfo[date].volume &&\n          dailyInfo[date].tvl\n        )\n          dateCount++\n      }\n      const feePerDay = totalFee / dateCount\n      const roi = feePerDay / TVL\n      const apy = Math.pow(1 + roi, 365) - 1\n      setApy(Number.isFinite(apy) ? apy : 0)\n      setDailyInfo(dailyInfo)\n    } catch (error) {\n    } finally {\n      setLoading(false)\n    }\n  }, [poolAddress, TVL])\n\n  useEffect(() => {\n    fetchVolume()\n  }, [fetchVolume])\n\n  return { apy, dailyInfo, loading }\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport moment from 'moment'\n\nimport { VolumeData } from 'view/poolDetails/volume24h'\nimport { useStat } from './useStat'\n\nexport const useVolume24h = (poolAddress: string) => {\n  const [chartData, setChartData] = useState<VolumeData[]>([])\n  const { dailyInfo, loading } = useStat(poolAddress)\n\n  const fetchVolume = useCallback(async () => {\n    if (!poolAddress) return setChartData([])\n    const chartData = Object.keys(dailyInfo).map((time) => {\n      return {\n        data: dailyInfo[time].volume,\n        label: moment(time, 'YYYYMMDD').format('MM/DD'),\n      }\n    })\n    return setChartData(chartData)\n  }, [dailyInfo, poolAddress])\n  useEffect(() => {\n    fetchVolume()\n  }, [fetchVolume])\n\n  const vol24h = useMemo(() => {\n    const today = chartData[chartData.length - 1]?.data || 0\n    const yesterday = chartData[chartData.length - 2]?.data || 0\n    const house = new Date().getHours()\n    return today + (house * yesterday) / 24\n  }, [chartData])\n\n  return { chartData, loading, vol24h }\n}\n","import { util } from '@sentre/senhub'\n\nimport BarChart from './barChart'\nimport { Card, Col, Row, Spin, Typography } from 'antd'\n\nimport { useVolume24h } from 'hooks/useVolume24h'\n\nexport type VolumeData = { data: number; label: string }\n\nconst Volume24h = ({ poolAddress }: { poolAddress: string }) => {\n  const { vol24h, loading, chartData } = useVolume24h(poolAddress)\n\n  return (\n    <Card className=\"chart-card\">\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Row justify=\"center\" align=\"middle\" className=\"chart-title\">\n            <Col flex={'auto'}>\n              <Typography.Title level={4}>Volume 24h</Typography.Title>\n            </Col>\n            <Col>\n              <Typography.Title level={2}>\n                ${util.numeric(vol24h).format('0,0.[0]a')}\n              </Typography.Title>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24} flex=\"auto\">\n          <Spin tip=\"Loading...\" spinning={loading}>\n            <BarChart data={chartData} />\n          </Spin>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default Volume24h\n","import { utilsBN } from '@sen-use/web3'\nimport { BN } from '@project-serum/anchor'\nimport { useEffect, useState } from 'react'\nimport { account, DEFAULT_EMPTY_ADDRESS } from '@senswap/sen-js'\nimport {\n  useWalletAddress,\n  useWalletBalance,\n  useMintDecimals,\n  useAccountSelector,\n  splt,\n} from '@sentre/senhub'\n\nexport type AccountBalanceReturn = {\n  amount: BN\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (mintAddress?: string, amount?: BN, decimals?: number) => {\n  if (\n    !account.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: new BN(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utilsBN.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for working.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const walletAddress = useWalletAddress()\n  const lamports = useWalletBalance()\n  const accountData = useAccountSelector((accounts) => accounts[accountAddress])\n  const { amount, mint: mintAddress } = accountData || {}\n  const decimals = useMintDecimals({ mintAddress }) || 0\n\n  if (!account.isAddress(walletAddress) || !account.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, new BN(lamports), 9)\n\n  return buildResult(mintAddress, new BN(amount?.toString() || 0), decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const walletAddress = useWalletAddress()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(walletAddress) || !account.isAddress(mintAddress))\n        return setAccountAddress('')\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import { ReactNode } from 'react'\n\nimport { Card, Row, Col, Typography, Space } from 'antd'\n\nconst CardPoolDetail = ({\n  title,\n  content,\n  bg,\n}: {\n  title: string\n  content?: ReactNode\n  bg: string\n}) => {\n  return (\n    <Card className=\"card-detail-header\" style={{ background: `url(${bg})` }}>\n      <Row gutter={[0, 8]}>\n        <Col span={24}>\n          <Typography.Text type=\"secondary\">{title}</Typography.Text>\n        </Col>\n        <Col span={24}>\n          <Space align=\"end\">{content}</Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardPoolDetail\n","var _rect, _rect2, _g, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgTvl(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 294,\n    height: 94,\n    viewBox: \"0 0 294 94\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask0_6806_100656\",\n    style: {\n      maskType: \"alpha\"\n    },\n    maskUnits: \"userSpaceOnUse\",\n    x: 0,\n    y: 0,\n    width: 294,\n    height: 94\n  }, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 294,\n    height: 94,\n    fill: \"#212C4C\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 293,\n    height: 93,\n    stroke: \"url(#paint0_linear_6806_100656)\",\n    strokeOpacity: 0.2\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    mask: \"url(#mask0_6806_100656)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#filter0_f_6806_100656)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 243.5,\n    cy: 9.5,\n    r: 62.5,\n    fill: \"#F148FB\",\n    fillOpacity: 0.2\n  })))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"filter0_f_6806_100656\",\n    x: 81,\n    y: -153,\n    width: 325,\n    height: 325,\n    filterUnits: \"userSpaceOnUse\",\n    colorInterpolationFilters: \"sRGB\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    mode: \"normal\",\n    in: \"SourceGraphic\",\n    in2: \"BackgroundImageFix\",\n    result: \"shape\"\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 50,\n    result: \"effect1_foregroundBlur_6806_100656\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_6806_100656\",\n    x1: 0,\n    y1: 0,\n    x2: 42.2707,\n    y2: 160.357,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#F8D1FF\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgTvl);\nexport default __webpack_public_path__ + \"static/media/tvl.85fd6f5a6c3970dff1166cd0b28e15f8.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _g, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgApy(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 294,\n    height: 94,\n    viewBox: \"0 0 294 94\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask0_6806_100665\",\n    style: {\n      maskType: \"alpha\"\n    },\n    maskUnits: \"userSpaceOnUse\",\n    x: 0,\n    y: 0,\n    width: 294,\n    height: 94\n  }, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 294,\n    height: 94,\n    fill: \"#212C4C\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 293,\n    height: 93,\n    stroke: \"url(#paint0_linear_6806_100665)\",\n    strokeOpacity: 0.2\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    mask: \"url(#mask0_6806_100665)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#filter0_f_6806_100665)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 243.5,\n    cy: 9.5,\n    r: 62.5,\n    fill: \"#4E6ABE\",\n    fillOpacity: 0.6\n  })))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"filter0_f_6806_100665\",\n    x: 81,\n    y: -153,\n    width: 325,\n    height: 325,\n    filterUnits: \"userSpaceOnUse\",\n    colorInterpolationFilters: \"sRGB\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    mode: \"normal\",\n    in: \"SourceGraphic\",\n    in2: \"BackgroundImageFix\",\n    result: \"shape\"\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 50,\n    result: \"effect1_foregroundBlur_6806_100665\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_6806_100665\",\n    x1: 0,\n    y1: 0,\n    x2: 42.2707,\n    y2: 160.357,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#F8D1FF\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgApy);\nexport default __webpack_public_path__ + \"static/media/apy.e92b9714a458a3d8c34272011f0e8b3e.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _g, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgMyContribution(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 294,\n    height: 94,\n    viewBox: \"0 0 294 94\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask0_6806_100674\",\n    style: {\n      maskType: \"alpha\"\n    },\n    maskUnits: \"userSpaceOnUse\",\n    x: 0,\n    y: 0,\n    width: 294,\n    height: 94\n  }, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 294,\n    height: 94,\n    fill: \"#212C4C\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 293,\n    height: 93,\n    stroke: \"url(#paint0_linear_6806_100674)\",\n    strokeOpacity: 0.2\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    mask: \"url(#mask0_6806_100674)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#filter0_f_6806_100674)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 243.5,\n    cy: 9.5,\n    r: 62.5,\n    fill: \"#00FFA3\",\n    fillOpacity: 0.2\n  })))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"filter0_f_6806_100674\",\n    x: 81,\n    y: -153,\n    width: 325,\n    height: 325,\n    filterUnits: \"userSpaceOnUse\",\n    colorInterpolationFilters: \"sRGB\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    mode: \"normal\",\n    in: \"SourceGraphic\",\n    in2: \"BackgroundImageFix\",\n    result: \"shape\"\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 50,\n    result: \"effect1_foregroundBlur_6806_100674\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_6806_100674\",\n    x1: 0,\n    y1: 0,\n    x2: 42.2707,\n    y2: 160.357,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#F8D1FF\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMyContribution);\nexport default __webpack_public_path__ + \"static/media/my-contribution.4131308b4ed787a3c77c8b39b9cefaea.svg\";\nexport { ForwardRef as ReactComponent };","import { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport { util } from '@sentre/senhub'\n\nimport { Col, Row, Skeleton, Typography } from 'antd'\n\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport CardPoolDetail from './components/cardPoolDetail'\nimport { useTVL } from 'hooks/useTVL'\nimport { useStat } from 'hooks/useStat'\nimport { AppState } from 'model'\n\nimport tvlBg from 'static/images/tvl.svg'\nimport apyBg from 'static/images/apy.svg'\nimport myContributeBg from 'static/images/my-contribution.svg'\n\nconst Hero = ({ poolAddress }: { poolAddress: string }) => {\n  const {\n    pools: { [poolAddress]: poolData },\n  } = useSelector((state: AppState) => state)\n\n  const { TVL } = useTVL(poolAddress)\n\n  const { balance } = useAccountBalanceByMintAddress(\n    poolData.mintLpt.toBase58(),\n  )\n\n  const { apy, loading } = useStat(poolAddress)\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col lg={8} md={8} xs={24}>\n        <CardPoolDetail\n          title=\"TVL\"\n          content={\n            <Typography.Title level={3}>\n              $ {util.numeric(TVL).format('0,0.[00]a')}\n            </Typography.Title>\n          }\n          bg={tvlBg}\n        />\n      </Col>\n      <Col lg={8} md={8} xs={24}>\n        <CardPoolDetail\n          title=\"APY\"\n          content={\n            loading ? (\n              <Skeleton\n                style={{ width: 150 }}\n                active\n                paragraph={{ rows: 1 }}\n                title={false}\n              />\n            ) : (\n              <Typography.Title level={3}>\n                {util.numeric(apy).format('0,0.[00]a%')}\n              </Typography.Title>\n            )\n          }\n          bg={apyBg}\n        />\n      </Col>\n      <Col lg={8} md={8} xs={24}>\n        <CardPoolDetail\n          title=\"My Contribution\"\n          content={\n            <Fragment>\n              <Typography.Title level={3}>\n                {util.numeric(balance).format('0,0.[00]')}\n              </Typography.Title>\n              <Typography.Text type=\"secondary\"> LP</Typography.Text>\n            </Fragment>\n          }\n          bg={myContributeBg}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Hero\n","import { ReactNode } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Avatar } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { MintAvatar } from '@sen-use/app'\n\nimport { AppState } from 'model'\n\ntype PoolAvatarProps = {\n  poolAddress: string\n  size?: number\n  icon?: ReactNode\n  max?: number\n}\n\nexport const PoolAvatar = ({\n  poolAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  max,\n}: PoolAvatarProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n\n  return (\n    <Avatar.Group style={{ whiteSpace: 'nowrap' }} maxCount={max} size={size}>\n      {poolData &&\n        poolData.mints.map((mint) => (\n          <MintAvatar\n            mintAddress={mint.toBase58()}\n            size={size}\n            icon={icon}\n            key={mint.toBase58()}\n          />\n        ))}\n    </Avatar.Group>\n  )\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { tokenProvider } from '@sentre/senhub'\n\nimport { Card, Input, Button } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nconst KEYSIZE = 3\n\nconst Search = ({\n  onChange,\n  disabled = false,\n  mints,\n}: {\n  onChange: (data: string[]) => void\n  disabled?: boolean\n  mints: string[]\n}) => {\n  const [keyword, setKeyword] = useState('')\n\n  const search = useCallback(async () => {\n    if (!keyword || keyword.length < KEYSIZE) return onChange(mints)\n    const raw = await tokenProvider.find(keyword)\n    const data = raw\n      .filter(({ address }) => mints.includes(address))\n      .map(({ address }) => address)\n    // Search by address\n    mints.forEach((mintAddress) => {\n      if (data.includes(mintAddress)) return\n      if (!mintAddress.toLowerCase().includes(keyword.toLowerCase())) return\n      return data.push(mintAddress)\n    })\n    return onChange(data)\n  }, [keyword, onChange, mints])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return (\n    <Card\n      className=\"mint-search\"\n      bodyStyle={{ padding: 0 }}\n      style={{ padding: 8 }}\n      bordered={false}\n    >\n      <Input\n        placeholder=\"Search\"\n        value={keyword}\n        size=\"small\"\n        bordered={false}\n        suffix={\n          <Button\n            type=\"text\"\n            style={{ marginRight: -7 }}\n            size=\"small\"\n            onClick={keyword ? () => setKeyword('') : () => {}}\n            icon={\n              <IonIcon name={keyword ? 'close-outline' : 'search-outline'} />\n            }\n            disabled={disabled}\n          />\n        }\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setKeyword(e.target.value)\n        }\n        disabled={disabled}\n      />\n    </Card>\n  )\n}\n\nexport default Search\n","import { MintAvatar, MintSymbol, MintName } from '@sen-use/app'\nimport { Space, Typography, Card, Divider } from 'antd'\n\nconst Mint = ({\n  mintAddress,\n  onClick,\n  active = false,\n}: {\n  mintAddress: string\n  onClick: () => void\n  active?: boolean\n}) => {\n  return (\n    <Card\n      bodyStyle={{\n        padding: 0,\n      }}\n      className=\"card-child-balansol mint-select-item\"\n      bordered={active}\n      onClick={onClick}\n      hoverable\n    >\n      <Space size={12} style={{ display: 'flex' }}>\n        <MintAvatar mintAddress={mintAddress} size={32} />\n        <Typography.Text style={{ margin: 0 }}>\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Text>\n        <Divider type=\"vertical\" style={{ margin: 0 }} />\n        <Typography.Text type=\"secondary\" style={{ margin: 0, fontSize: 12 }}>\n          <MintName mintAddress={mintAddress} />\n        </Typography.Text>\n      </Space>\n    </Card>\n  )\n}\n\nexport default Mint\n","import { useState } from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\nimport { Row, Col, Typography, Modal } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Search from './search'\nimport Mint from './mint'\n\nconst LIMIT = 100\n\nconst MintSelection = ({\n  selectedMint,\n  onChange,\n  visible,\n  mints,\n  onClose,\n}: {\n  selectedMint: string\n  onChange: (mint: string) => void\n  visible: boolean\n  mints: string[]\n  onClose: () => void\n}) => {\n  const [mintsSearched, setMintsSearched] = useState(mints)\n\n  return (\n    <Modal\n      open={visible}\n      closeIcon={<IonIcon name=\"close\" />}\n      footer={null}\n      destroyOnClose={true}\n      centered={true}\n      onCancel={onClose}\n    >\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={4}>Select token</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Search mints={mints} onChange={setMintsSearched} />\n        </Col>\n        <Col span={24}>\n          <Row gutter={[16, 16]} style={{ height: 300 }} className=\"scrollbar\">\n            <Col span={24}>\n              <Row gutter={[16, 16]}>\n                {mintsSearched.slice(0, LIMIT).map((mintAddress, i) => (\n                  <Col span={24} key={i}>\n                    <LazyLoad height={48} overflow>\n                      <Mint\n                        mintAddress={mintAddress}\n                        onClick={() => onChange(mintAddress)}\n                        active={selectedMint === mintAddress}\n                      />\n                    </LazyLoad>\n                  </Col>\n                ))}\n              </Row>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default MintSelection\n","import { useState, Fragment, ReactNode } from 'react'\n\nimport { Typography, Space } from 'antd'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\nimport IonIcon from '@sentre/antd-ionicon'\nimport MintSelection from './mintSelection'\n\nimport './index.less'\n\nconst Selection = ({\n  selectedMint,\n  mints = [],\n  onChange = () => {},\n  mintLabel,\n  mintAvatar,\n}: {\n  selectedMint: string\n  mints?: string[]\n  onChange?: (mint: string) => void\n  mintLabel?: ReactNode\n  mintAvatar?: ReactNode\n}) => {\n  const [visible, setVisible] = useState(false)\n\n  const onSelection = (selectedMint: string) => {\n    if (onChange) onChange(selectedMint)\n    return setVisible(false)\n  }\n\n  return (\n    <Fragment>\n      {/* Mint selected */}\n\n      <Space\n        className=\"mint-select\"\n        onClick={() => setVisible(mints.length > 0)}\n      >\n        {mintAvatar || <MintAvatar mintAddress={selectedMint} />}\n        {mintLabel || (\n          <Fragment>\n            <Typography.Text>\n              <MintSymbol mintAddress={selectedMint} />\n            </Typography.Text>\n            {mints.length ? (\n              <Typography.Text>\n                <IonIcon name=\"chevron-down-outline\" />\n              </Typography.Text>\n            ) : null}\n          </Fragment>\n        )}\n      </Space>\n\n      {/* Modal select tokens */}\n      {visible && (\n        <MintSelection\n          selectedMint={selectedMint}\n          visible={visible}\n          onChange={onSelection}\n          mints={mints}\n          onClose={() => setVisible(false)}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default Selection\n","import { utilsBN } from '@sen-use/web3'\nimport { BN } from '@project-serum/anchor'\nimport { useMemo } from 'react'\n\nimport { useWalletBalance } from '@sentre/senhub'\nimport { NATIVE_MINT } from '@solana/spl-token-v3'\n\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport { SOL_DECIMALS } from 'constant'\n\nexport const useWrapAccountBalance = (mintAddress: string) => {\n  const lamports = useWalletBalance()\n\n  const balance = useAccountBalanceByMintAddress(mintAddress)\n  const wsol = useAccountBalanceByMintAddress(NATIVE_MINT.toBase58())\n\n  const totalSolBalance = useMemo(() => {\n    const total = wsol.amount.add(new BN(lamports))\n    const totalBalance = Number(utilsBN.undecimalize(total, SOL_DECIMALS))\n    return { balance: totalBalance, amount: total }\n  }, [lamports, wsol.amount])\n\n  return mintAddress === NATIVE_MINT.toBase58() ? totalSolBalance : balance\n}\n","import React, { useMemo } from 'react'\nimport { useTheme } from '@sentre/senhub'\nimport { BN } from 'bn.js'\nimport { useOracles } from 'hooks/useOracles'\n\nimport { Radio, Space, Typography } from 'antd'\n\nimport { useWrapAccountBalance } from 'hooks/useWrapAccountBalance'\n\nconst PROPORTIONS = [50, 100]\n\ntype ProportionProps = {\n  selectedMint: string\n  amount: number | string\n  portionValue: number\n  onChangeAmount?: (val: string, invalid?: boolean) => void\n}\n\nconst Proportion = ({\n  amount,\n  selectedMint,\n  portionValue,\n  onChangeAmount,\n}: ProportionProps) => {\n  const theme = useTheme()\n  const { balance, amount: bigintBalance } = useWrapAccountBalance(selectedMint)\n  const { undecimalizeMintAmount } = useOracles()\n\n  let proportionActive = useMemo(() => {\n    let activePortion = 0\n    for (const idx in PROPORTIONS) {\n      if (!balance) break\n      const proportion = PROPORTIONS[idx]\n      const proportionVal = (balance * proportion) / 100\n\n      if (Number(amount).toFixed(4) === proportionVal.toFixed(4))\n        activePortion = proportion\n    }\n    return activePortion\n  }, [amount, balance])\n\n  const onClick = async () => {\n    if (!onChangeAmount) return\n    const newAmountBN = new BN(bigintBalance.toString())\n      .mul(new BN(portionValue))\n      .divRound(new BN(100))\n    const newAmount = await undecimalizeMintAmount(newAmountBN, selectedMint)\n    onChangeAmount(newAmount)\n  }\n\n  const bg_default = theme === 'dark' ? '#394360' : '#ced0d7'\n\n  return (\n    <Space size={4} direction=\"vertical\" key={portionValue}>\n      <Radio.Button\n        className=\"proportion-btn\"\n        disabled={!onChangeAmount}\n        onClick={onClick}\n        style={{\n          background: portionValue <= proportionActive ? '#63e0b3' : bg_default,\n        }}\n      />\n      <Typography.Text type=\"secondary\" className=\"caption\">\n        {`${portionValue}%`}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Proportion\n","import { ReactNode, useCallback } from 'react'\nimport { util } from '@sentre/senhub'\n\nimport { Col, Row, Space, Typography } from 'antd'\nimport NumericInput from '../numericInput'\nimport Selection from '../selection'\nimport { MintSymbol } from '@sen-use/app'\nimport Proportion from './proportion'\n\nimport { useWrapAccountBalance } from 'hooks/useWrapAccountBalance'\n\nimport './index.less'\n\nconst PROPORTIONS = [50, 100]\ntype MintInputProps = {\n  amount: string | number\n  onChangeAmount?: (val: string, invalid?: boolean) => void\n  selectedMint: string\n  onSelect?: (mint: string) => void\n  mints?: string[]\n  unit?: string\n  force?: boolean\n  mintLabel?: ReactNode\n  mintAvatar?: ReactNode\n  ratioButton?: ReactNode\n  mintSelection?: ReactNode\n  footer?: ReactNode\n  placeholder?: string\n}\n\nexport default function MintInput({\n  amount,\n  onChangeAmount,\n  selectedMint,\n  mints = [],\n  onSelect = () => {},\n  mintLabel,\n  mintAvatar,\n  ratioButton,\n  unit,\n  force, // Validate input with max = balance\n  mintSelection,\n  footer,\n  placeholder = '0',\n}: MintInputProps) {\n  const { balance } = useWrapAccountBalance(selectedMint)\n\n  const onInput = useCallback(\n    (value: string) => {\n      if (!onChangeAmount) return\n      const invalidValue = Number(value) > balance && !!onChangeAmount\n      return onChangeAmount(value, invalidValue)\n    },\n    [balance, onChangeAmount],\n  )\n\n  return (\n    <Row gutter={[0, 10]} align=\"middle\" className=\"card-swap-item\">\n      <Col span={24}>\n        <Row gutter={[10, 0]} wrap={false}>\n          {/* Mint select */}\n          <Col>\n            {!mintSelection ? (\n              <Selection\n                selectedMint={selectedMint}\n                onChange={onSelect}\n                mints={mints}\n                mintLabel={mintLabel}\n                mintAvatar={mintAvatar}\n              />\n            ) : (\n              mintSelection\n            )}\n          </Col>\n          {/* Amount input */}\n          <Col flex=\"auto\">\n            <NumericInput\n              bordered={false}\n              controls={false}\n              placeholder={String(Number(placeholder))}\n              value={amount}\n              max={force ? balance : undefined}\n              onValue={onInput}\n              disabled={!onChangeAmount || (force && !balance)}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row align=\"middle\" style={{ width: '100%' }} wrap={false}>\n          {/* Available  */}\n          <Col flex=\"auto\" style={{ justifyContent: 'left' }}>\n            <Space className=\"caption\">\n              <Typography.Text type=\"secondary\">Available:</Typography.Text>\n              <Typography.Text style={{ cursor: 'pointer' }}>\n                {util.numeric(balance).format('0,0.[00]')}\n              </Typography.Text>\n              <Typography.Text type=\"secondary\">\n                {unit || <MintSymbol mintAddress={selectedMint} />}\n              </Typography.Text>\n            </Space>\n          </Col>\n          {/* RatioButton  */}\n          <Col\n            className=\"proportion-wrap\"\n            style={{ display: ratioButton === null ? 'none' : '' }}\n          >\n            {ratioButton ? (\n              ratioButton\n            ) : (\n              <Space>\n                {PROPORTIONS.map((val, key) => (\n                  <Proportion\n                    key={key}\n                    amount={amount}\n                    selectedMint={selectedMint}\n                    portionValue={val}\n                    onChangeAmount={onChangeAmount}\n                  />\n                ))}\n              </Space>\n            )}\n          </Col>\n        </Row>\n      </Col>\n      {footer}\n    </Row>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { Address, BN, web3 } from '@project-serum/anchor'\nimport { useGetMintData } from '@sentre/senhub'\n\nexport const useLptSupply = (mintLpt: Address) => {\n  const [supply, setSupply] = useState<BN>(new BN(0))\n\n  const getMint = useGetMintData()\n\n  const fetchLptSupply = useCallback(async () => {\n    if (!mintLpt) return setSupply(new BN(0))\n    let mintAddress = new web3.PublicKey(mintLpt).toString()\n    try {\n      const supply = await getMint({ mintAddress }).then((data) =>\n        !!data ? data[mintAddress].supply.toString() : '0',\n      )\n      return setSupply(new BN(supply))\n    } catch (error) {}\n  }, [getMint, mintLpt])\n\n  useEffect(() => {\n    fetchLptSupply()\n  }, [fetchLptSupply])\n\n  return { supply }\n}\n","import { utilsBN } from '@sen-use/web3'\nimport { BN, utils, web3 } from '@project-serum/anchor'\nimport { useCallback } from 'react'\nimport {\n  useAccounts,\n  useGetMintDecimals,\n  useWalletAddress,\n  useWalletBalance,\n  util,\n} from '@sentre/senhub'\nimport { DEFAULT_EMPTY_ADDRESS, DEFAULT_WSOL } from '@senswap/sen-js'\n\nexport const useMintBalance = () => {\n  const walletAddress = useWalletAddress()\n  const lamports = useWalletBalance()\n  const getDecimals = useGetMintDecimals()\n  const accounts = useAccounts()\n\n  const buildResult = (\n    mintAddress?: string,\n    amount?: BN,\n    decimals?: number,\n  ) => {\n    if (\n      !util.isAddress(mintAddress) ||\n      amount === undefined ||\n      decimals === undefined\n    )\n      return { amount: new BN(0), decimals: 0, balance: 0 }\n    return {\n      mintAddress,\n      amount,\n      decimals,\n      balance: Number(utilsBN.undecimalize(amount, decimals)),\n    }\n  }\n\n  const getMintBalance = useCallback(\n    async (addressToken: string, wrapSol: boolean = false) => {\n      if (!util.isAddress(walletAddress) || !util.isAddress(addressToken))\n        return buildResult()\n      try {\n        const accountAddress = await utils.token\n          .associatedAddress({\n            mint: new web3.PublicKey(addressToken),\n            owner: new web3.PublicKey(walletAddress),\n          })\n          .then((r) => r.toBase58())\n\n        const isWsolAddress = addressToken === DEFAULT_WSOL\n        const isSolAddress = accountAddress === walletAddress\n        if (isSolAddress || isWsolAddress) {\n          const { amount = BigInt(0) } = accounts[accountAddress] || {}\n          const mintAddress = isWsolAddress\n            ? DEFAULT_WSOL\n            : DEFAULT_EMPTY_ADDRESS\n          const returnedBalance = isWsolAddress\n            ? new BN(amount?.toString() || 0)\n            : new BN(lamports?.toString() || 0)\n\n          if (wrapSol)\n            return buildResult(\n              mintAddress,\n              new BN(lamports?.toString() || 0 + amount?.toString() || 0),\n              9,\n            )\n\n          return buildResult(mintAddress, returnedBalance, 9)\n        }\n        const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n        const decimals = await getDecimals({ mintAddress })\n\n        return buildResult(\n          mintAddress,\n          new BN(amount?.toString() || 0),\n          decimals,\n        )\n      } catch (er) {\n        return buildResult()\n      }\n    },\n    [accounts, getDecimals, lamports, walletAddress],\n  )\n\n  return { getMintBalance }\n}\n","import { useCallback } from 'react'\nimport { web3 } from '@project-serum/anchor'\nimport {\n  NATIVE_MINT,\n  getAssociatedTokenAddress,\n  createSyncNativeInstruction,\n} from '@solana/spl-token-v3'\nimport { useAccounts, useWalletAddress } from '@sentre/senhub'\nimport { utils } from '@senswap/sen-js'\n\nimport { SOL_DECIMALS } from 'constant'\nimport { createWrapSolIx, createATAIx, createUnWrapSolIx } from 'helper'\nimport { useMintBalance } from './useMintBalance'\n\nexport const useWrapAndUnwrapSolIfNeed = () => {\n  const { getMintBalance } = useMintBalance()\n  const walletAddress = useWalletAddress()\n  const accounts = useAccounts()\n\n  const createWrapSolTxIfNeed = useCallback(\n    async (\n      mint: string,\n      amount: number | string,\n    ): Promise<web3.Transaction | undefined> => {\n      const tx = new web3.Transaction()\n      const { balance } = await getMintBalance(mint)\n      if (mint !== NATIVE_MINT.toBase58() || balance >= amount) return\n\n      const decimalizedAmount = utils.decimalize(amount, SOL_DECIMALS)\n      const decimalizedBalance = utils.decimalize(balance, SOL_DECIMALS)\n      const neededWrappedSol = decimalizedAmount - decimalizedBalance\n      const wSolATA = await getAssociatedTokenAddress(\n        NATIVE_MINT,\n        new web3.PublicKey(walletAddress),\n      )\n      // Create token account to hold your wrapped SOL if haven't existed\n      if (!accounts[wSolATA.toBase58()]) {\n        const creatingATAIx = await createATAIx(\n          new web3.PublicKey(walletAddress),\n        )\n        tx.add(creatingATAIx)\n      }\n      const wSolIx = await createWrapSolIx(\n        neededWrappedSol,\n        new web3.PublicKey(walletAddress),\n      )\n      tx.add(wSolIx, createSyncNativeInstruction(wSolATA))\n\n      return tx\n    },\n    [accounts, getMintBalance, walletAddress],\n  )\n\n  const createUnWrapSolTxIfNeed = async (\n    mint: string,\n  ): Promise<web3.Transaction | undefined> => {\n    if (mint !== NATIVE_MINT.toBase58()) return\n    const uwSolIx = await createUnWrapSolIx(new web3.PublicKey(walletAddress))\n    return new web3.Transaction().add(uwSolIx)\n  }\n\n  return { createWrapSolTxIfNeed, createUnWrapSolTxIfNeed }\n}\n","import { Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { getAnchorProvider, useGetMintDecimals, util } from '@sentre/senhub'\nimport { web3, BN } from '@project-serum/anchor'\n\nimport { MintSymbol } from '@sen-use/app/dist'\nimport { Button, Checkbox, Col, Row, Tooltip, Typography } from 'antd'\nimport MintInput from 'components/mintInput'\n\nimport { notifyError, notifySuccess, priceImpactColor } from 'helper'\nimport { calcDepositPriceImpact, calcNormalizedWeight } from 'helper/oracles'\nimport { useOracles } from 'hooks/useOracles'\nimport { useLptSupply } from 'hooks/useLptSupply'\nimport { useMintBalance } from 'hooks/useMintBalance'\nimport { PriceImpact } from 'constant'\nimport { AppState } from 'model'\nimport { useWrapAndUnwrapSolIfNeed } from 'hooks/useWrapAndUnwrapSolIfNeed'\n\ntype DepositModalProps = {\n  poolAddress: string\n  hideModal: () => void\n}\n\nconst DepositModal = ({ poolAddress, hideModal }: DepositModalProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const [amounts, setAmounts] = useState<string[]>(\n    new Array(poolData.mints.length).fill('0'),\n  )\n  const [suggestedAmounts, setSuggestAmounts] = useState<string[]>([])\n  const [loading, setLoading] = useState(false)\n  const [disable, setDisable] = useState(true)\n  const [isAcceptHighPrice, setIsAcceptHighPrice] = useState(false)\n  const [baseTokenIndex, setBaseTokenIndex] = useState(0)\n  const [lpOutTotal, setLpOutTotal] = useState(0)\n  const [impactPrice, setImpactPrice] = useState(0)\n  const { supply } = useLptSupply(poolData.mintLpt)\n  const { decimalizeMintAmount, undecimalizeMintAmount } = useOracles()\n  const getDecimals = useGetMintDecimals()\n  const { getMintBalance } = useMintBalance()\n  const { createWrapSolTxIfNeed } = useWrapAndUnwrapSolIfNeed()\n\n  const isVisibleSuggestion = (idx: number) =>\n    baseTokenIndex !== idx &&\n    Number(amounts[baseTokenIndex]) > 0 &&\n    Number(suggestedAmounts[idx]) > 0 &&\n    Number(suggestedAmounts[idx]) !== Number(amounts[idx])\n\n  const onChange = async (idx: number, value: string) => {\n    const { reserves, mints } = poolData\n    let newAmounts = [...amounts]\n    newAmounts[idx] = value\n    setAmounts(newAmounts)\n    setBaseTokenIndex(idx)\n    setAmounts(newAmounts)\n\n    const newSuggestAmounts = await Promise.all(\n      mints.map(async (mint, index) => {\n        if (idx === index) return ''\n        const mintDecimal =\n          (await getDecimals({ mintAddress: mints[index].toBase58() })) || 0\n        const baseBalance = await undecimalizeMintAmount(\n          reserves[baseTokenIndex],\n          mints[baseTokenIndex],\n        )\n        const currentBalance = await undecimalizeMintAmount(\n          reserves[index],\n          mints[index],\n        )\n        const balanceRatio =\n          (Number(baseBalance) + Number(value)) / Number(baseBalance)\n        const suggestedAmount = (\n          Number(currentBalance) *\n          (balanceRatio - 1)\n        ).toFixed(mintDecimal)\n\n        return suggestedAmount\n      }),\n    )\n    setSuggestAmounts(newSuggestAmounts)\n  }\n\n  const onSubmit = async () => {\n    setLoading(true)\n    try {\n      const provider = getAnchorProvider()!\n      const amountsIn = await Promise.all(\n        poolData.mints.map(\n          async (mint, idx) => await decimalizeMintAmount(amounts[idx], mint),\n        ),\n      )\n      const transactions: web3.Transaction[] = []\n\n      for (const key in poolData.mints) {\n        const wrapSolTx = await createWrapSolTxIfNeed(\n          poolData.mints[key].toBase58(),\n          amounts[key],\n        )\n        if (wrapSolTx) transactions.push(wrapSolTx)\n      }\n\n      const { tx: addLiquidityTx } = await window.balansol.addLiquidity(\n        poolAddress,\n        amountsIn,\n        false,\n      )\n      transactions.push(addLiquidityTx)\n      const txIds = await provider.sendAll(\n        transactions.map((tx) => {\n          return { tx, signers: [] }\n        }),\n      )\n      notifySuccess('Deposit', txIds[txIds.length - 1])\n      hideModal()\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const lpOutDisplay = useMemo(() => {\n    const clonedLp = util.numeric(lpOutTotal).format('0,0.[0000]')\n    if (lpOutTotal > 0 && lpOutTotal < 0.0001) return 'LP < 0.0001'\n\n    return clonedLp\n  }, [lpOutTotal])\n\n  const estimateImpactPriceAndLP = useCallback(async () => {\n    setImpactPrice(0)\n    const { reserves, weights, fee, taxFee, mints } = poolData\n    let amountIns: BN[] = []\n    let decimalIns: number[] = []\n    for (let i in amounts) {\n      const decimalIn =\n        (await getDecimals({ mintAddress: mints[i].toBase58() })) || 0\n      const amountBn = await decimalizeMintAmount(amounts[i], mints[i])\n      amountIns.push(amountBn)\n      decimalIns.push(decimalIn)\n    }\n    const { lpOut, impactPrice } = calcDepositPriceImpact(\n      amountIns,\n      reserves,\n      weights,\n      supply,\n      decimalIns,\n      fee.add(taxFee),\n    )\n    setLpOutTotal(lpOut)\n    setImpactPrice(impactPrice)\n  }, [amounts, decimalizeMintAmount, getDecimals, poolData, supply])\n\n  useEffect(() => {\n    estimateImpactPriceAndLP()\n  }, [estimateImpactPriceAndLP])\n\n  const checkAmountIns = useCallback(async () => {\n    const { mints } = poolData\n    for (let i in amounts) {\n      const { balance } = await getMintBalance(mints[i].toBase58(), true)\n      if (Number(amounts[i]) > balance) return setDisable(true)\n    }\n    if (!lpOutTotal) return setDisable(true)\n    if (impactPrice > PriceImpact.acceptableSwap && !isAcceptHighPrice)\n      return setDisable(true)\n\n    return setDisable(false)\n  }, [\n    amounts,\n    getMintBalance,\n    impactPrice,\n    isAcceptHighPrice,\n    lpOutTotal,\n    poolData,\n  ])\n\n  useEffect(() => {\n    checkAmountIns()\n  }, [checkAmountIns])\n\n  const onApplySuggestion = async (index: number) => {\n    const newAmounts = [...amounts]\n    newAmounts[index] = suggestedAmounts[index]\n    setAmounts(newAmounts)\n  }\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Typography.Title level={4}>Deposit</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[24, 8]}>\n          {poolData.mints.map((mint, index) => {\n            let mintAddress: string = mint.toBase58()\n            const normalizedWeight = calcNormalizedWeight(\n              poolData.weights,\n              poolData.weights[index],\n            )\n            return (\n              <Col span={24} key={mint.toBase58()}>\n                <MintInput\n                  selectedMint={mintAddress}\n                  amount={amounts[index]}\n                  onChangeAmount={(amount) => onChange(index, amount)}\n                  mintLabel={\n                    <Fragment>\n                      <Typography.Text>\n                        <MintSymbol mintAddress={mintAddress || ''} />\n                      </Typography.Text>\n                      <Typography.Text>\n                        {util.numeric(normalizedWeight).format('0,0.[0000]%')}\n                      </Typography.Text>\n                    </Fragment>\n                  }\n                  ratioButton={\n                    isVisibleSuggestion(index) && (\n                      <Tooltip title={suggestedAmounts[index]}>\n                        <Button\n                          type=\"text\"\n                          style={{ marginRight: -15 }}\n                          onClick={() => onApplySuggestion(index)}\n                        >\n                          Apply suggestion\n                        </Button>\n                      </Tooltip>\n                    )\n                  }\n                />\n              </Col>\n            )\n          })}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[0, 13]}>\n          <Col span={24}>\n            <Row align=\"middle\">\n              <Col flex=\"auto\">\n                <Typography.Text type=\"secondary\">Price impact</Typography.Text>\n              </Col>\n              <Col>\n                <span style={{ color: priceImpactColor(impactPrice) }}>\n                  {util.numeric(impactPrice).format('0,0.[0000]%')}\n                </span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row align=\"middle\">\n              <Col flex=\"auto\">\n                <Typography.Text type=\"secondary\">\n                  You will receive\n                </Typography.Text>\n              </Col>\n              <Col>\n                <Typography.Title level={4}>{lpOutDisplay} LP</Typography.Title>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n      {impactPrice > PriceImpact.acceptableSwap && (\n        <Col span={24}>\n          <Checkbox\n            onChange={(e) => setIsAcceptHighPrice(e.target.checked)}\n            checked={isAcceptHighPrice}\n          >\n            I agree to execute this trade with the high price impact.\n          </Checkbox>\n        </Col>\n      )}\n      <Col span={24}>\n        <Button\n          size=\"large\"\n          type=\"primary\"\n          block\n          onClick={onSubmit}\n          loading={loading}\n          disabled={disable}\n        >\n          Deposit\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DepositModal\n","import { Fragment, useState } from 'react'\n\nimport { Button, Modal } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport DepositModal from './depositModal'\n\nconst Deposit = ({ poolAddress }: { poolAddress: string }) => {\n  const [visible, setVisible] = useState(false)\n\n  return (\n    <Fragment>\n      <Button type=\"primary\" onClick={() => setVisible(true)} block>\n        Deposit\n      </Button>\n      {/* Modal deposit */}\n      <Modal\n        open={visible}\n        onCancel={() => setVisible(false)}\n        footer={null}\n        destroyOnClose\n        centered={true}\n        closeIcon={<IonIcon name=\"close-outline\" />}\n      >\n        <DepositModal\n          poolAddress={poolAddress}\n          hideModal={() => setVisible(false)}\n        />\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default Deposit\n","import { BN } from '@project-serum/anchor'\nimport { MintAvatar, MintSymbol, MintAmount } from '@sen-use/app'\nimport { Col, Row, Space, Typography } from 'antd'\n\nconst TokenWillReceive = ({\n  mintAddress,\n  amount,\n}: {\n  mintAddress: string\n  amount: BN\n}) => {\n  return (\n    <Row>\n      <Col flex=\"auto\">\n        <Space>\n          <MintAvatar mintAddress={mintAddress} />\n          <Typography.Text type=\"secondary\">\n            <MintSymbol mintAddress={mintAddress} />\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col>\n        <Typography.Text>\n          <MintAmount mintAddress={mintAddress} amount={amount} />\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default TokenWillReceive\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { BN } from '@project-serum/anchor'\nimport { initTxCreateMultiTokenAccount } from '@sen-use/web3'\nimport { useGetMintData, getAnchorProvider } from '@sentre/senhub'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport TokenWillReceive from '../tokenWillReceive'\n\nimport { notifyError, notifySuccess } from 'helper'\nimport { calcMintReceivesRemoveFullSide } from 'helper/oracles'\nimport { AppState } from 'model'\nimport { LPTDECIMALS } from 'constant/index'\nimport { useOracles } from 'hooks/useOracles'\nimport { useWrapAndUnwrapSolIfNeed } from 'hooks/useWrapAndUnwrapSolIfNeed'\n\nconst WithdrawFullSide = ({\n  poolAddress,\n  lptAmount,\n  onSuccess = () => {},\n}: {\n  lptAmount: string\n  poolAddress: string\n  onSuccess?: () => void\n}) => {\n  const [amounts, setAmounts] = useState<BN[]>([])\n  const [loading, setLoading] = useState(false)\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const getMint = useGetMintData()\n  const { decimalize } = useOracles()\n  const { createUnWrapSolTxIfNeed } = useWrapAndUnwrapSolIfNeed()\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true)\n      let amount = decimalize(lptAmount, LPTDECIMALS)\n      const provider = getAnchorProvider()!\n\n      const transactions = await initTokenAccountTxs()\n      const { transaction } =\n        await window.balansol.createRemoveLiquidityTransaction(\n          poolAddress,\n          amount,\n        )\n      transactions.push(transaction)\n\n      for (const mint of poolData.mints) {\n        const unwrapSolTx = await createUnWrapSolTxIfNeed(mint.toBase58())\n        if (unwrapSolTx) transactions.push(unwrapSolTx)\n      }\n      const txIds = await provider.sendAll(\n        transactions.map((tx) => {\n          return { tx, signers: [] }\n        }),\n      )\n      notifySuccess('Withdraw', txIds[txIds.length - 1])\n      onSuccess()\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function initTokenAccountTxs() {\n    const provider = getAnchorProvider()!\n    const transactions = await initTxCreateMultiTokenAccount(provider, {\n      mints: poolData.mints,\n    })\n    return transactions\n  }\n\n  const calcMintReceiveFullSide = useCallback(async () => {\n    let minPltAddress = poolData.mintLpt.toBase58()\n    let mintPool = await getMint({ mintAddress: minPltAddress })\n    if (!mintPool) {\n      const emptyAmounts = new Array(poolData.reserves.length).fill(new BN(0))\n      return setAmounts(emptyAmounts)\n    }\n    let lptSupply = mintPool[minPltAddress]?.supply\n    let amount = await decimalize(lptAmount, LPTDECIMALS)\n\n    let amounts = calcMintReceivesRemoveFullSide(\n      new BN(String(amount)),\n      new BN(String(lptSupply)),\n      poolData.reserves,\n    )\n    return setAmounts(amounts)\n  }, [decimalize, getMint, lptAmount, poolData.mintLpt, poolData.reserves])\n\n  useEffect(() => {\n    calcMintReceiveFullSide()\n  }, [calcMintReceiveFullSide])\n\n  return (\n    <Row gutter={[0, 24]} className=\"withdraw\">\n      <Col span={24}>\n        <Row gutter={[0, 14]}>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\" style={{ fontSize: '12px' }}>\n              You will receive\n            </Typography.Text>\n          </Col>\n          {poolData.mints.map((mint, index) => (\n            <Col span={24} key={mint.toBase58()}>\n              <TokenWillReceive\n                key={index}\n                mintAddress={mint.toBase58()}\n                amount={amounts[index]}\n              />\n            </Col>\n          ))}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          block\n          onClick={onSubmit}\n          size=\"large\"\n          loading={loading}\n          disabled={!Number(lptAmount)}\n        >\n          Withdraw\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default WithdrawFullSide\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { BN } from '@project-serum/anchor'\nimport { getAnchorProvider, useGetMintDecimals, util } from '@sentre/senhub'\nimport { web3 } from '@project-serum/anchor'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport TokenWillReceive from '../tokenWillReceive'\n\nimport { calcWithdrawPriceImpact } from 'helper/oracles'\nimport { notifyError, notifySuccess, priceImpactColor } from 'helper'\nimport { AppState } from 'model'\nimport { LPTDECIMALS } from 'constant/index'\nimport { useOracles } from 'hooks/useOracles'\nimport { useLptSupply } from 'hooks/useLptSupply'\nimport { useWrapAndUnwrapSolIfNeed } from 'hooks/useWrapAndUnwrapSolIfNeed'\n\nimport './index.less'\n\ntype WithdrawSingleSideProps = {\n  lptAmount: string\n  poolAddress: string\n  mintAddress: string\n  onSuccess?: () => void\n  withdrawableMax: number\n}\n\nconst WithdrawSingleSide = ({\n  poolAddress,\n  lptAmount,\n  mintAddress,\n  onSuccess = () => {},\n  withdrawableMax,\n}: WithdrawSingleSideProps) => {\n  const [amountReserve, setAmountReserve] = useState<BN>(new BN(0))\n  const [impactPrice, setImpactPrice] = useState(0)\n  const [loading, setLoading] = useState(false)\n  const getDecimals = useGetMintDecimals()\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const { decimalize } = useOracles()\n  const { supply } = useLptSupply(poolData.mintLpt)\n  const { createUnWrapSolTxIfNeed } = useWrapAndUnwrapSolIfNeed()\n\n  const isExceedWithdrawLimitation = Number(lptAmount) > withdrawableMax\n\n  const onSubmit = async () => {\n    if (Number(lptAmount) > withdrawableMax)\n      return notifyError({\n        message: 'Please input amount less than 30% Liquidity Provider!',\n      })\n\n    try {\n      setLoading(true)\n      const transactions: web3.Transaction[] = []\n      const provider = getAnchorProvider()!\n      let lptAmountBN = decimalize(lptAmount, LPTDECIMALS)\n      const { tx: transaction } = await window.balansol.removeSidedLiquidity(\n        poolAddress,\n        mintAddress,\n        lptAmountBN,\n        false,\n      )\n      transactions.push(transaction)\n\n      const unwrapSolTx = await createUnWrapSolTxIfNeed(mintAddress)\n      if (unwrapSolTx) transactions.push(unwrapSolTx)\n\n      const txIds = await provider.sendAll(\n        transactions.map((tx) => {\n          return { tx, signers: [] }\n        }),\n      )\n\n      notifySuccess('Withdraw', txIds[txIds.length - 1])\n      onSuccess()\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const estimateImpactPriceAndLP = useCallback(async () => {\n    let amount = decimalize(lptAmount, LPTDECIMALS)\n    setImpactPrice(0)\n\n    let decimals: number[] = []\n\n    for (let i in poolData.reserves) {\n      const decimalIn =\n        (await getDecimals({\n          mintAddress: poolData.mints[i].toBase58(),\n        })) || 0\n      decimals.push(decimalIn)\n    }\n    const indexTokenOut = poolData.mints\n      .map((value) => value.toBase58())\n      .indexOf(mintAddress)\n\n    const { tokenAmountOut, impactPrice } = calcWithdrawPriceImpact(\n      amount,\n      indexTokenOut,\n      poolData.reserves,\n      poolData.weights,\n      supply,\n      decimals,\n      poolData.fee.add(poolData.taxFee),\n    )\n    setAmountReserve(tokenAmountOut || new BN(0))\n    setImpactPrice(impactPrice)\n  }, [decimalize, getDecimals, lptAmount, mintAddress, poolData, supply])\n\n  useEffect(() => {\n    estimateImpactPriceAndLP()\n  }, [estimateImpactPriceAndLP])\n\n  return (\n    <Row gutter={[12, 12]} className=\"withdraw\">\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Typography.Text type=\"secondary\" style={{ fontSize: '14px' }}>\n              Price impact\n            </Typography.Text>\n          </Col>\n          <Col>\n            <span style={{ color: priceImpactColor(impactPrice) }}>\n              {util.numeric(impactPrice).format('0,0.[0000]%')}\n            </span>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[14, 14]}>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\" style={{ fontSize: '14px' }}>\n              You will receive\n            </Typography.Text>\n          </Col>\n          <Col span={24}>\n            <TokenWillReceive\n              mintAddress={mintAddress}\n              amount={amountReserve}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[0, 8]}>\n          <Col span={24}>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              block\n              onClick={onSubmit}\n              disabled={amountReserve.isZero() || isExceedWithdrawLimitation}\n              loading={loading}\n            >\n              Withdraw\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default WithdrawSingleSide\n","import React, { useState, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport { util } from '@sentre/senhub'\n\nimport { Button, Checkbox, Col, Row, Space, Tag, Typography } from 'antd'\nimport { MintSymbol } from '@sen-use/app'\nimport MintInput from 'components/mintInput'\nimport { PoolAvatar } from 'components/pools/poolAvatar'\nimport WithdrawFullSide from './fullSide'\nimport WithdrawSingleSide from './singleSide'\n\nimport { useLptSupply } from 'hooks/useLptSupply'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\n\nimport { LPTDECIMALS } from 'constant'\nimport { AppState } from 'model'\n\ntype WithdrawModalProps = {\n  poolAddress: string\n  hideModal: () => void\n}\n\nconst WithdrawModal = ({ poolAddress, hideModal }: WithdrawModalProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const mints = useMemo(() => {\n    if (!poolData) return []\n    return poolData.mints.map((e) => e.toBase58())\n  }, [poolData])\n  const [selectedMints, setSelectedMints] = useState<string[]>(mints)\n  const [lptAmount, setLptAmount] = useState('')\n  const [acceptWithdrawLimit, setAcceptWithdrawLimit] = useState(true)\n  const { balance } = useAccountBalanceByMintAddress(\n    poolData.mintLpt.toBase58(),\n  )\n  const { supply } = useLptSupply(poolData.mintLpt)\n\n  const supplyInNumber = useMemo(() => {\n    return Number(utils.undecimalize(BigInt(supply.toString()), LPTDECIMALS))\n  }, [supply])\n\n  const recommendedMax = useMemo(() => {\n    return Number(((supplyInNumber * 30) / 100).toFixed(LPTDECIMALS))\n  }, [supplyInNumber])\n\n  const maxAmount = useMemo(() => {\n    return !acceptWithdrawLimit || recommendedMax > balance\n      ? balance\n      : recommendedMax\n  }, [acceptWithdrawLimit, balance, recommendedMax])\n\n  const isSelectedAll = selectedMints.length === poolData?.mints.length\n\n  return (\n    <Row gutter={[24, 24]} className=\"withdraw\">\n      <Col span={24}>\n        <Typography.Title level={4}>Withdraw</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\" style={{ fontSize: '12px' }}>\n              You want to receive\n            </Typography.Text>\n          </Col>\n          <Col span={24}>\n            <Row gutter={[12, 12]}>\n              {/* Button select all */}\n              <Col>\n                <Button\n                  className={`btn-token-name ${\n                    isSelectedAll ? 'selected' : ''\n                  }`}\n                  onClick={() => setSelectedMints(mints)}\n                >\n                  <span className=\"title\">All</span>\n                </Button>\n              </Col>\n              {/* Mints Symbol Button */}\n              {mints.map((mintAddress) => {\n                let selected = selectedMints.includes(mintAddress)\n                  ? 'selected'\n                  : ''\n                return (\n                  <Col key={mintAddress}>\n                    <Button\n                      className={`btn-token-name ${selected}`}\n                      onClick={() => setSelectedMints([mintAddress])}\n                    >\n                      <span className=\"title\">\n                        <MintSymbol mintAddress={mintAddress} />\n                      </span>\n                    </Button>\n                  </Col>\n                )\n              })}\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <MintInput\n          selectedMint={poolData?.mintLpt.toBase58()}\n          amount={lptAmount}\n          onChangeAmount={(amount) => setLptAmount(amount)}\n          mintLabel={<Typography.Text ellipsis>Balansol LP</Typography.Text>}\n          mintAvatar={<PoolAvatar poolAddress={poolAddress} max={2} />}\n          unit=\"LP\"\n          force\n          ratioButton={\n            !isSelectedAll && (\n              <Button onClick={() => setLptAmount(`${maxAmount}`)} size=\"small\">\n                Max\n              </Button>\n            )\n          }\n          footer={\n            !isSelectedAll && (\n              <Col span={24}>\n                <Tag\n                  style={{\n                    width: '100%',\n                    border: 'none',\n                    padding: '5px 16px',\n                    whiteSpace: 'unset',\n                  }}\n                  color=\"gold\"\n                >\n                  <Space align=\"center\" size={6}>\n                    <Checkbox\n                      className=\"warning-checkbox\"\n                      checked={acceptWithdrawLimit}\n                      onChange={() =>\n                        setAcceptWithdrawLimit(!acceptWithdrawLimit)\n                      }\n                    />\n                    <Typography.Text style={{ color: 'inherit' }}>\n                      Prevent to withdraw more than 30% (Currently{' '}\n                      {util\n                        .numeric(Number(lptAmount) / supplyInNumber)\n                        .format('0,0.[00]%')}\n                      ) of the total LP.\n                    </Typography.Text>\n                  </Space>\n                </Tag>\n              </Col>\n            )\n          }\n        />\n      </Col>\n      <Col span={24}>\n        {isSelectedAll ? (\n          <WithdrawFullSide\n            poolAddress={poolAddress}\n            lptAmount={lptAmount}\n            onSuccess={hideModal}\n          />\n        ) : (\n          <WithdrawSingleSide\n            poolAddress={poolAddress}\n            mintAddress={selectedMints[0]}\n            lptAmount={lptAmount}\n            onSuccess={hideModal}\n            withdrawableMax={maxAmount}\n          />\n        )}\n      </Col>\n    </Row>\n  )\n}\n\nexport default WithdrawModal\n","import { Fragment, useState } from 'react'\n\nimport { Button, Modal } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport WithdrawModal from './withdrawModal'\n\nconst Withdraw = ({ poolAddress }: { poolAddress: string }) => {\n  const [visible, setVisible] = useState(false)\n\n  return (\n    <Fragment>\n      <Button ghost onClick={() => setVisible(true)} block>\n        Withdraw\n      </Button>\n      {/* Modal withdraw */}\n      <Modal\n        open={visible}\n        onCancel={() => setVisible(false)}\n        footer={null}\n        destroyOnClose\n        centered\n        closeIcon={<IonIcon name=\"close-outline\" />}\n      >\n        <WithdrawModal\n          poolAddress={poolAddress}\n          hideModal={() => setVisible(false)}\n        />\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default Withdraw\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { Infix, useInfix, util } from '@sentre/senhub'\n\nimport { Row, Col, Space, Typography, Popover, Tooltip, Button } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { PoolAvatar } from 'components/pools/poolAvatar'\nimport Deposit from './deposit'\nimport Withdraw from './withdraw'\n\nimport { AppState } from 'model'\n\ntype InfoProps = { title: string; value: string }\nconst Info = ({ title, value }: InfoProps) => {\n  const [copied, setCopied] = useState(false)\n\n  const onCopy = async () => {\n    setCopied(true)\n    await util.asyncWait(1500)\n    setCopied(false)\n  }\n\n  return (\n    <Space direction=\"vertical\" size={4}>\n      <Space>\n        <Typography.Text type=\"secondary\">{title}</Typography.Text>\n        <Button\n          type=\"text\"\n          size=\"small\"\n          icon={<IonIcon name=\"open-outline\" />}\n          onClick={() => window.open(util.explorer(value), '_blank')}\n        />\n      </Space>\n      <Space>\n        <Typography.Text style={{ wordBreak: 'break-all' }}>\n          {value}\n        </Typography.Text>\n        <Tooltip title=\"Copied\" open={copied} arrowPointAtCenter>\n          <CopyToClipboard text={value}>\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"copy-outline\" />}\n              onClick={onCopy}\n            />\n          </CopyToClipboard>\n        </Tooltip>\n      </Space>\n    </Space>\n  )\n}\n\nconst Header = ({ poolAddress }: { poolAddress: string }) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const infix = useInfix()\n  const isMobile = infix < Infix.md\n\n  return (\n    <Row gutter={[24, 24]} justify=\"space-between\">\n      <Col md={18} xs={24}>\n        <Space>\n          <PoolAvatar poolAddress={poolAddress} size={32} />\n          <Typography.Title level={4}>Balansol LP</Typography.Title>\n          <Popover\n            placement=\"bottom\"\n            content={\n              <Space direction=\"vertical\">\n                <Info title=\"Pool Address\" value={poolAddress} />\n                <Info title=\"LPT Address\" value={poolData.mintLpt.toBase58()} />\n              </Space>\n            }\n          >\n            <Button\n              type=\"text\"\n              style={{ marginLeft: -4 }}\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      <Col span={isMobile ? 24 : undefined}>\n        <Space style={{ width: '100%' }}>\n          <Withdraw poolAddress={poolAddress} />\n          <Deposit poolAddress={poolAddress} />\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Header\n","import { useCallback, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport configs from 'configs'\n\nconst {\n  manifest: { appId },\n} = configs\nconst APP_ROUTE = `/app/${appId}`\n\nexport const useAppRouter = () => {\n  const { search, pathname } = useLocation()\n  const history = useHistory()\n\n  const query = useMemo(() => {\n    return new URLSearchParams(search)\n  }, [search])\n\n  const getQuery = useCallback((queryId: string) => query.get(queryId), [query])\n\n  const getAllQuery = useCallback(<T>() => {\n    const queries: Record<string, string> = {}\n    query.forEach((value, key) => {\n      queries[key] = value\n    })\n    const wrapResult: T = queries as any\n    return wrapResult\n  }, [query])\n\n  /**\n   * @param path is URL parameters\n   * @param newQuery Object all Query\n   * @param force keep prev Query with force=false\n   */\n  const pushHistory = useCallback(\n    (\n      path: string,\n      newQuery: Record<string, string> = {},\n      force: boolean = true,\n    ) => {\n      const currentQuery = getAllQuery<Record<string, string>>()\n      // Keep current query with 'force' === false\n      if (force === false) newQuery = Object.assign(currentQuery, newQuery)\n      const newParams = new URLSearchParams(newQuery)\n      if (newParams) path += `?${newParams.toString()}`\n      history.push(`${APP_ROUTE}${path}`)\n    },\n    [getAllQuery, history],\n  )\n\n  return { getQuery, getAllQuery, pushHistory, appRoute: APP_ROUTE, pathname }\n}\n","import { Button, Col, Empty, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { useAppRouter } from 'hooks/useAppRouter'\n\nconst PoolNotFound = () => {\n  const { pushHistory } = useAppRouter()\n\n  return (\n    <Row justify=\"center\">\n      <Col span={24} style={{ textAlign: 'center' }}>\n        <Empty description=\"Pool not found\" />\n      </Col>\n      <Col span={24} style={{ textAlign: 'center' }}>\n        <Button\n          type=\"text\"\n          icon={<IonIcon name=\"arrow-back-outline\" />}\n          onClick={() => pushHistory(`/pools`)}\n        >\n          Go Back Home\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default PoolNotFound\n","import { useSelector } from 'react-redux'\nimport { Infix, useInfix, useWalletAddress } from '@sentre/senhub'\n\nimport { Button, Col, Row } from 'antd'\n\nimport IonIcon from '@sentre/antd-ionicon'\nimport PoolManagement from './management'\nimport PoolWeights from './poolWeights'\nimport Volume24h from './volume24h'\nimport Hero from './hero'\nimport Header from './header'\nimport PoolNotFound from './poolNotFound'\n\nimport { useAppRouter } from 'hooks/useAppRouter'\nimport { AppState } from 'model'\n\nconst PoolDetails = () => {\n  const { getQuery, pushHistory } = useAppRouter()\n  const poolAddress = getQuery('pool') || ''\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const walletAddress = useWalletAddress()\n  const infix = useInfix()\n\n  if (!poolData || !poolAddress) return <PoolNotFound />\n\n  const isOwner = walletAddress === poolData.authority.toBase58()\n  const isMobile = infix < Infix.md\n  return (\n    <Row justify=\"center\" style={{ paddingBottom: 12 }}>\n      <Col lg={20} md={24} style={{ maxWidth: !isMobile ? 930 : '' }}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Button\n              type=\"text\"\n              icon={<IonIcon name=\"arrow-back-outline\" />}\n              onClick={() => pushHistory(`/pools`)}\n              style={{ margin: -12 }}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col span={24}>\n            <Header poolAddress={poolAddress} />\n          </Col>\n          <Col span={24}>\n            <Hero poolAddress={poolAddress} />\n          </Col>\n          {/* Chart */}\n          <Col span={24}>\n            <Row gutter={[24, 24]} style={{ display: 'flex' }}>\n              <Col lg={12} md={12} xs={24}>\n                <Volume24h poolAddress={poolAddress} />\n              </Col>\n              <Col lg={12} md={12} xs={24}>\n                <PoolWeights poolAddress={poolAddress} />\n              </Col>\n              {isOwner && (\n                <Col lg={12} md={12} xs={24}>\n                  <PoolManagement poolAddress={poolAddress} />\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\nexport default PoolDetails\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\n/**\n * Interface & Utility\n */\n\nexport type SwapState = {\n  bidMint: string\n  bidAmount: string\n  askMint: string\n  askAmount: string\n  isReverse: boolean\n  slippageTolerance: number\n  loading: boolean\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'swap'\nconst initialState: SwapState = {\n  bidMint: '',\n  bidAmount: '',\n  askMint: '',\n  askAmount: '',\n  isReverse: false,\n  slippageTolerance: 0.5,\n  loading: false,\n}\n\n/**\n * Actions\n */\n\nexport const setSwapState = createAsyncThunk<\n  Partial<SwapState>,\n  Partial<SwapState>\n>(`${NAME}/setSwapState`, async (newState: Partial<SwapState>) => {\n  return newState\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      setSwapState.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\n\nimport { Card, Spin } from 'antd'\nimport MintInput from 'components/mintInput'\nimport { MintSelection } from '@sen-use/app'\n\nimport { AppDispatch, AppState } from 'model'\nimport { setSwapState } from 'model/swap.controller'\nimport { useAppRouter } from 'hooks/useAppRouter'\nimport configs from 'configs'\nimport { useTheme } from '@sentre/senhub'\n\nconst AskInput = () => {\n  const { askMint, askAmount, loading, isReverse, bidAmount } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const theme = useTheme()\n  const dispatch = useDispatch<AppDispatch>()\n  const { getAllQuery } = useAppRouter()\n  const { ask_mint } = getAllQuery<{ ask_mint: string }>()\n\n  useEffect(() => {\n    if (!askMint) {\n      const defaultAskMint = ask_mint || configs.sol.askMintDefault\n      dispatch(setSwapState({ askMint: defaultAskMint }))\n    }\n  }, [askMint, ask_mint, dispatch])\n\n  const onChange = async (askAmount: string) => {\n    dispatch(\n      setSwapState({\n        askAmount,\n        isReverse: true,\n        bidAmount: '',\n        loading: true,\n      }),\n    ).unwrap()\n  }\n\n  return (\n    <Card bordered={false} className=\"card-swap\" bodyStyle={{ padding: 0 }}>\n      <Spin spinning={loading && !isReverse && !!Number(bidAmount)}>\n        <MintInput\n          amount={askAmount}\n          selectedMint={askMint}\n          onChangeAmount={onChange}\n          ratioButton={null}\n          mintSelection={\n            <MintSelection\n              value={askMint}\n              onChange={(mint) => {\n                const loading = askMint !== mint\n                dispatch(setSwapState({ askMint: mint, loading })).unwrap()\n              }}\n              style={{ background: theme === 'dark' ? '#394360' : '#F2F4FA' }}\n            />\n          }\n        />\n      </Spin>\n    </Card>\n  )\n}\n\nexport default AskInput\n","import { createContext, useContext, ReactNode, useMemo } from 'react'\n\nimport { PoolsState } from 'model/pools.controller'\nimport { useActivePools } from './pools/useActivePools'\n\nexport type BalansolPoolsProvider = {\n  activePools: PoolsState\n}\nconst Context = createContext<BalansolPoolsProvider>({\n  activePools: {},\n})\n\n/**\n * Pool Context Provider\n */\nconst Provider = ({ children }: { children: ReactNode }) => {\n  const activePools = useActivePools()\n  const provider = useMemo((): BalansolPoolsProvider => {\n    return { activePools }\n  }, [activePools])\n  // Context provider\n  return <Context.Provider value={provider}>{children}</Context.Provider>\n}\nexport default Provider\n\n/**\n * Pool Hook\n */\nexport const useBalansolPools = () => {\n  return useContext<BalansolPoolsProvider>(Context)\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolState } from '@senswap/balancer'\n\nimport { PoolsState } from 'model/pools.controller'\nimport { AppState } from 'model'\nimport { useTVL } from 'hooks/useTVL'\n\nconst MIN_TVL = 1000\n\nexport const useActivePools = () => {\n  const pools = useSelector((state: AppState) => state.pools)\n  const [activePools, setActivePools] = useState<PoolsState>({})\n  const { getTVL } = useTVL()\n\n  const filterPools = useCallback(async () => {\n    const activePools: PoolsState = {}\n    for (const addr in pools) {\n      const poolData = pools[addr]\n      const state = poolData.state as PoolState\n      if (!state['initialized']) continue\n      if (poolData.reserves.map((val) => val.toString()).includes('0')) continue\n      const tvl = await getTVL(poolData)\n      if (tvl < MIN_TVL) continue\n      activePools[addr] = poolData\n    }\n    setActivePools(activePools)\n  }, [getTVL, pools])\n\n  useEffect(() => {\n    filterPools()\n  }, [filterPools])\n\n  return activePools\n}\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport MintInput from 'components/mintInput'\nimport { MintSelection } from '@sen-use/app'\n\nimport { AppDispatch, AppState } from 'model'\nimport { setSwapState } from 'model/swap.controller'\nimport { useMintsCanSwap } from 'hooks/swap/useMintsCanSwap'\nimport { useAppRouter } from 'hooks/useAppRouter'\nimport configs from 'configs'\nimport { useTheme } from '@sentre/senhub'\n\nconst BidInput = () => {\n  const { bidAmount, bidMint, askMint } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const dispatch = useDispatch<AppDispatch>()\n  const theme = useTheme()\n  const mintsSwap = useMintsCanSwap()\n  const { getAllQuery } = useAppRouter()\n  const { bid_mint } = getAllQuery<{ bid_mint: string }>()\n\n  useEffect(() => {\n    if (!bidMint) {\n      const defaultBidMint = bid_mint || configs.sol.bidMintDefault\n      dispatch(setSwapState({ bidMint: defaultBidMint }))\n    }\n  }, [bidMint, bid_mint, dispatch])\n\n  const onChange = (val: string) => {\n    dispatch(\n      setSwapState({\n        bidAmount: val,\n        isReverse: false,\n        askAmount: '',\n        loading: true,\n      }),\n    )\n  }\n  // Ignore askMint in mints\n  const filteredMints = useMemo(\n    () => mintsSwap.filter((value) => value !== askMint),\n    [askMint, mintsSwap],\n  )\n\n  return (\n    <MintInput\n      amount={bidAmount}\n      selectedMint={bidMint}\n      onChangeAmount={onChange}\n      mints={filteredMints}\n      mintSelection={\n        <MintSelection\n          value={bidMint}\n          onChange={(mint) => {\n            const loading = bidMint !== mint\n            dispatch(setSwapState({ bidMint: mint, loading }))\n          }}\n          style={{ background: theme === 'dark' ? '#394360' : '#F2F4FA' }}\n        />\n      }\n    />\n  )\n}\n\nexport default BidInput\n","import { useMemo } from 'react'\nimport { useBalansolPools } from '../useBalansolPools'\n\nexport const useMintsCanSwap = (): string[] => {\n  const { activePools } = useBalansolPools()\n\n  const mintsSwap = useMemo(() => {\n    let mintsSwap: string[] = []\n    for (const { mints } of Object.values(activePools))\n      for (const mint of mints)\n        if (!mintsSwap.includes(mint.toBase58()))\n          mintsSwap.push(mint.toBase58())\n    return mintsSwap\n  }, [activePools])\n\n  return mintsSwap\n}\n","var _path, _path2, _path3, _path4, _path5, _path6, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgJupiterLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 100,\n    height: 100,\n    viewBox: \"0 0 100 100\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.57323 77.9508C13.7607 83.7753 19.1321 88.6489 25.3351 92.252C31.5381 95.8551 38.4327 98.1062 45.5668 98.8579C41.8964 93.3346 36.5613 88.2532 29.9008 84.3845C23.2403 80.5159 16.1867 78.4027 9.57323 77.9508Z\",\n    fill: \"url(#paint0_linear)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M38.8507 68.9805C26.0185 61.5254 12.1297 59.6255 2.19191 62.9818C3.15128 66.1526 4.41654 69.2226 5.96983 72.1486C14.6041 71.9487 24.0313 74.2937 32.8033 79.3886C41.5754 84.4835 48.2846 91.5153 52.3901 99.1165C55.7032 99.0148 58.9986 98.5928 62.2305 97.8566C60.2214 87.5627 51.6795 76.4372 38.8507 68.9805Z\",\n    fill: \"url(#paint1_linear)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M100 38.7201C98.3685 32.084 95.4165 25.8447 91.3202 20.3748C87.2239 14.9048 82.0673 10.3164 76.1584 6.88349C70.2495 3.45059 63.7094 1.24361 56.9287 0.394327C50.1479 -0.454959 43.2655 0.0708667 36.6925 1.94041C47.6735 3.28427 59.8623 7.40655 71.8159 14.3509C83.7695 21.2953 93.3966 29.8406 100 38.7201Z\",\n    fill: \"url(#paint2_linear)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.0232 63.0577C78.4025 53.7229 68.7738 44.7846 56.9125 37.8939C45.0513 31.0033 32.5198 27.0675 21.6362 26.8071C12.0612 26.5803 4.87495 29.3638 1.92518 34.4419C1.90838 34.4721 1.88486 34.5007 1.86638 34.5309C1.60097 35.4834 1.37251 36.4375 1.16422 37.395C5.28314 35.769 10.0555 34.8635 15.3621 34.7627C27.1628 34.541 40.3696 38.3156 52.5567 45.396C64.7439 52.4765 74.5725 62.0834 80.2234 72.4412C82.7566 77.1077 84.3373 81.702 84.9639 86.0914C85.6929 85.4397 86.4085 84.766 87.1023 84.0656C87.1208 84.0336 87.1325 84 87.151 83.9664C90.1008 78.8833 88.9602 71.2636 84.0232 63.0577Z\",\n    fill: \"url(#paint3_linear)\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.8884 53.4254C29.7245 42.8728 9.65227 41.2198 0 48.5842C0.0189591 50.8892 0.195187 53.1903 0.527462 55.4714C3.36682 54.6107 6.29318 54.0687 9.25247 53.8554C20.0386 53.0441 31.9301 56.0493 42.7213 62.3218C53.5125 68.5942 62.0191 77.4402 66.6588 87.205C67.9412 89.8801 68.9193 92.6907 69.5749 95.5839C71.7216 94.7424 73.8088 93.7563 75.8222 92.6325C77.4382 80.5982 66.0574 63.9797 47.8884 53.4254Z\",\n    fill: \"url(#paint4_linear)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M93.3659 47.4337C87.6814 38.109 77.9687 29.1455 66.0235 22.2095C54.0782 15.2735 41.4981 11.2755 30.5792 10.9547C22.2557 10.7145 15.8085 12.7319 12.4657 16.5434C26.346 14.1917 44.6544 18.1443 62.4001 28.4534C80.1457 38.7625 92.6537 52.7117 97.4815 65.9336C99.1361 61.1444 97.6965 54.5444 93.3659 47.4337Z\",\n    fill: \"url(#paint5_linear)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint5_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgJupiterLogo);\nexport default __webpack_public_path__ + \"static/media/jupiter-logo.6553c3779ce16057aa846301783447a2.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport JupiterIcon from 'static/images/jupiter-logo.svg'\n\nexport type PoweredByJupiterProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredByJupiter = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredByJupiterProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"Jupiter Aggregator\">\n        <Avatar src={JupiterIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredByJupiter\n","import { useCallback, useMemo } from 'react'\n\nimport { useBalansolPools } from '../useBalansolPools'\n\ntype MintAddress = string\ntype PoolAddress = string\nexport type MintRoutes = Record<MintAddress, Record<MintAddress, PoolAddress[]>>\n\n// Generate MintRoute, includes all pools that can swap bidMint -> askMint\nexport const useMintRoutes = (): MintRoutes => {\n  const { activePools } = useBalansolPools()\n\n  const addPoolToRoute = useCallback(\n    (routes: MintRoutes, bidMint: string, askMint: string, pool: string) => {\n      let poolData = activePools[pool]\n      let mints = poolData.mints.map((m) => m.toBase58())\n      let bidMintIdx = mints.indexOf(bidMint)\n      let askMintIdx = mints.indexOf(askMint)\n\n      let actions = poolData.actions as { active: {} }[]\n      if (!actions[bidMintIdx]['active'] || !actions[askMintIdx]['active'])\n        return routes\n\n      if (bidMint === askMint) return routes\n      // Init route if needed\n      if (!routes[bidMint]) routes[bidMint] = {}\n      if (!routes[bidMint][askMint]) routes[bidMint][askMint] = []\n      // Add pool in to route\n      routes[bidMint][askMint].push(pool)\n      return routes\n    },\n    [activePools],\n  )\n\n  return useMemo(() => {\n    let mintRoutes: MintRoutes = {}\n    for (const poolAddress in activePools) {\n      const mints = activePools[poolAddress].mints.map((e) => e.toBase58())\n      for (const bidMint of mints) {\n        for (const askMint of mints) {\n          mintRoutes = addPoolToRoute(mintRoutes, bidMint, askMint, poolAddress)\n        }\n      }\n    }\n    return mintRoutes\n  }, [activePools, addPoolToRoute])\n}\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useDebounce } from 'react-use'\n\nimport { AppState } from 'model'\nimport { useMintRoutes } from './useMintRoutes'\n\ntype Market = {\n  pool: string\n  bidMint: string\n  askMint: string\n}\nexport type MetaRoute = Market[]\n\nexport const useMetaRoutes = () => {\n  const { askMint, bidMint } = useSelector((state: AppState) => state.swap)\n  const tokenRoutes = useMintRoutes()\n  const [metaRoutes, setMetaRoutes] = useState<MetaRoute[]>([])\n\n  const validRoute = (route: MetaRoute) => {\n    const pools = route.map((e) => e.pool)\n    for (const idx in pools) {\n      // Check duplicate pool address\n      if (pools[idx] === pools[Number(idx) + 1]) return false\n    }\n    for (const marketBid of route) {\n      for (const marketAsk of route) {\n        if (\n          marketBid.bidMint === marketAsk.askMint &&\n          marketBid.askMint === marketAsk.bidMint\n        )\n          return false\n      }\n    }\n    return true\n  }\n\n  const computeMetaRoutes = useCallback(\n    (bidMint: string, askMint: string, deep: number = 1): MetaRoute[] => {\n      if (deep > 3) return []\n      const routesFromBidMint = tokenRoutes[bidMint]\n      if (!routesFromBidMint) return []\n\n      // Market is all pools can swap bidMint -> askMint\n      const markets = routesFromBidMint[askMint] || []\n      const routes: MetaRoute[] = markets.map((market) => {\n        return [{ pool: market, bidMint, askMint }]\n      })\n\n      for (const nextMint in routesFromBidMint) {\n        const nextMintMarkets = routesFromBidMint[nextMint]\n        if (!nextMintMarkets) continue\n        const nextDeep = deep + 1\n        const deepRoutes = computeMetaRoutes(nextMint, askMint, nextDeep)\n        for (const deepRoute of deepRoutes) {\n          for (const nextMintMarket of nextMintMarkets) {\n            const newRoute = [\n              { pool: nextMintMarket, bidMint, askMint: nextMint },\n              ...deepRoute,\n            ]\n            if (!validRoute(newRoute)) continue\n            routes.push(newRoute)\n          }\n        }\n      }\n      return routes\n    },\n    [tokenRoutes],\n  )\n\n  const compareMetaRoutes = useCallback(() => {\n    const metaRoutes = computeMetaRoutes(bidMint, askMint)\n    setMetaRoutes(metaRoutes)\n  }, [askMint, bidMint, computeMetaRoutes])\n\n  useDebounce(async () => compareMetaRoutes(), 300, [compareMetaRoutes])\n\n  return metaRoutes\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { BN } from '@project-serum/anchor'\nimport { useDebounce } from 'react-use'\n\nimport { AppState } from 'model'\nimport { calcPriceImpact } from 'helper/oracles'\nimport { useBalansolPools } from 'hooks/useBalansolPools'\nimport { useOracles } from '../../useOracles'\nimport { RouteSwapInfo } from '../../useSwap'\nimport { useMetaRoutes } from '../useMetaRoutes'\nimport { useAllRoutesFromAsk } from './useAllRoutesFromAsk'\n\nexport const useBestRouteFromAsk = (): {\n  loading: boolean\n  bestRoute: RouteSwapInfo\n} => {\n  const [routeSwapInfo, setRouteSwapInfo] = useState<RouteSwapInfo>({\n    route: [],\n    bidAmount: 0,\n    askAmount: 0,\n    priceImpact: 0,\n  })\n  const [loading, setLoading] = useState(false)\n  const { bidMint, askAmount, askMint, isReverse } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const { activePools } = useBalansolPools()\n\n  const { undecimalizeMintAmount } = useOracles()\n  const metaRoutes = useMetaRoutes()\n  const routes = useAllRoutesFromAsk(metaRoutes)\n\n  const getBestRoute = useCallback(async () => {\n    let sortedRoute = routes.sort((routeA, routeB) => {\n      let bidAmountA: BN = routeA[0].bidAmount\n      let bidAmountB: BN = routeB[0].bidAmount\n      return bidAmountA.gt(bidAmountB) ? 1 : -1\n    })\n    const bestRoute = sortedRoute[0]\n    if (!bestRoute?.length || !bidMint || !askMint)\n      return setRouteSwapInfo({\n        route: [],\n        bidAmount: Number(0),\n        askAmount: 0,\n        priceImpact: 0,\n      })\n\n    let bidAmount = await undecimalizeMintAmount(\n      bestRoute[0]?.bidAmount,\n      bidMint,\n    )\n\n    const bestRouteFullInfo = bestRoute.map((value, idx) => {\n      const poolData = activePools[value.pool]\n      return { ...bestRoute[idx], poolData }\n    })\n    const newPriceImpact = calcPriceImpact(bestRouteFullInfo)\n\n    return setRouteSwapInfo({\n      route: bestRoute,\n      bidAmount: Number(bidAmount),\n      askAmount: Number(askAmount),\n      priceImpact: newPriceImpact,\n    })\n  }, [askAmount, askMint, bidMint, activePools, routes, undecimalizeMintAmount])\n\n  useDebounce(\n    () => {\n      try {\n        if (!isReverse) return\n        getBestRoute()\n      } catch (error) {\n        console.log('route error:', error)\n      } finally {\n        setLoading(false)\n      }\n    },\n    500,\n    [getBestRoute],\n  )\n  useEffect(() => {\n    setLoading(true)\n  }, [getBestRoute])\n\n  return { loading, bestRoute: routeSwapInfo }\n}\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useDebounce } from 'react-use'\n\nimport {\n  calcInGivenOutSwap,\n  calcPriceImpactSwap,\n  getMintInfo,\n} from 'helper/oracles'\nimport { AppState } from 'model'\nimport { useOracles } from '../../useOracles'\nimport { MetaRoute } from '../useMetaRoutes'\nimport { Route, RouteInfo } from '../../useSwap'\nimport { useGetMintDecimals } from '@sentre/senhub'\nimport { useBalansolPools } from 'hooks/useBalansolPools'\n\nexport const useAllRoutesFromAsk = (metaRoutes: MetaRoute[]) => {\n  const { askAmount, isReverse } = useSelector((state: AppState) => state.swap)\n  const { activePools } = useBalansolPools()\n  const { decimalizeMintAmount } = useOracles()\n  const [routes, setRoutes] = useState<Route[]>([])\n  const getDecimals = useGetMintDecimals()\n\n  const computeRouteInfos = useCallback(async () => {\n    const routes = []\n    if (!isReverse) return setRoutes([])\n    for (const metaRoute of metaRoutes) {\n      const askMint = metaRoute[metaRoute.length - 1].askMint\n      let route: RouteInfo[] = []\n      let isValidRoute = true\n      let currentAskAmount = await decimalizeMintAmount(askAmount, askMint)\n      for (const market of [...metaRoute].reverse()) {\n        const { bidMint, askMint, pool } = market\n        const poolData = activePools[pool]\n        const bidMintInfo = getMintInfo(poolData, bidMint)\n        const askMintInfo = getMintInfo(poolData, askMint)\n        const decimalIn = (await getDecimals({ mintAddress: bidMint })) || 0\n        const decimalOut = (await getDecimals({ mintAddress: askMint })) || 0\n\n        if (currentAskAmount.gt(askMintInfo.reserve)) {\n          isValidRoute = false\n          break\n        }\n        const tokenInAmount = calcInGivenOutSwap(\n          currentAskAmount,\n          askMintInfo.reserve,\n          bidMintInfo.reserve,\n          askMintInfo.normalizedWeight,\n          bidMintInfo.normalizedWeight,\n          poolData.fee.add(poolData.taxFee),\n        )\n        if (tokenInAmount.lten(0)) {\n          isValidRoute = false\n          break\n        }\n\n        const dataForSlippage = {\n          balanceIn: bidMintInfo.reserve,\n          balanceOut: askMintInfo.reserve,\n          weightIn: bidMintInfo.normalizedWeight,\n          weightOut: askMintInfo.normalizedWeight,\n          decimalIn: decimalIn,\n          decimalOut: decimalOut,\n          swapFee: poolData.fee.add(poolData.taxFee),\n        }\n\n        const newPriceImpact = calcPriceImpactSwap(\n          tokenInAmount,\n          dataForSlippage,\n        )\n        route = [\n          {\n            pool: market.pool,\n            bidMint,\n            askMint,\n            bidAmount: tokenInAmount,\n            askAmount: currentAskAmount,\n            priceImpact: newPriceImpact,\n          },\n        ].concat(route)\n        currentAskAmount = tokenInAmount\n      }\n      if (isValidRoute) routes.push(route)\n    }\n    return setRoutes(routes)\n  }, [\n    activePools,\n    askAmount,\n    decimalizeMintAmount,\n    getDecimals,\n    isReverse,\n    metaRoutes,\n  ])\n\n  useDebounce(async () => computeRouteInfos(), 300, [computeRouteInfos])\n\n  return routes\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { BN } from '@project-serum/anchor'\nimport { useDebounce } from 'react-use'\n\nimport { AppState } from 'model'\nimport { calcPriceImpact } from 'helper/oracles'\nimport { useOracles } from '../../useOracles'\nimport { useMetaRoutes } from '../useMetaRoutes'\nimport { RouteSwapInfo } from '../../useSwap'\nimport { useAllRouteFromBid } from './useAllRouteFromBid'\nimport { useBalansolPools } from 'hooks/useBalansolPools'\n\nexport const useBestRouteFromBid = (): {\n  loading: boolean\n  bestRoute: RouteSwapInfo\n} => {\n  const [routeSwapInfo, setRouteSwapInfo] = useState<RouteSwapInfo>({\n    route: [],\n    bidAmount: 0,\n    askAmount: 0,\n    priceImpact: 0,\n  })\n  const [loading, setLoading] = useState(false)\n  const { bidAmount, askMint, bidMint, isReverse } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const { activePools } = useBalansolPools()\n  const { undecimalizeMintAmount } = useOracles()\n  const metaRoutes = useMetaRoutes()\n  const routes = useAllRouteFromBid(metaRoutes)\n\n  const getBestRoute = useCallback(async () => {\n    let sortedRoute = routes.sort((routeA, routeB) => {\n      let askAmountA = routeA[routeA.length - 1].askAmount\n      let askAmountB: BN = routeB[routeB.length - 1].askAmount\n      return askAmountB.gt(askAmountA) ? 1 : -1\n    })\n    const bestRoute = sortedRoute[0]\n    if (!bestRoute?.length || !bidMint || !askMint)\n      return setRouteSwapInfo({\n        route: [],\n        bidAmount: Number(bidAmount),\n        askAmount: 0,\n        priceImpact: 0,\n      })\n\n    let askAmount = await undecimalizeMintAmount(\n      bestRoute[bestRoute.length - 1]?.askAmount,\n      askMint,\n    )\n    const bestRouteFullInfo = bestRoute.map((value, idx) => {\n      const poolData = activePools[value.pool]\n      return { ...bestRoute[idx], poolData }\n    })\n    const newPriceImpact = calcPriceImpact(bestRouteFullInfo)\n\n    return setRouteSwapInfo({\n      route: bestRoute,\n      bidAmount: Number(bidAmount),\n      askAmount: Number(askAmount),\n      priceImpact: newPriceImpact,\n    })\n  }, [askMint, bidAmount, bidMint, activePools, routes, undecimalizeMintAmount])\n\n  useDebounce(\n    () => {\n      try {\n        if (isReverse) return\n        getBestRoute()\n      } catch (error) {\n        console.log('route error:', error)\n      } finally {\n        setLoading(false)\n      }\n    },\n    500,\n    [getBestRoute],\n  )\n\n  useEffect(() => {\n    setLoading(true)\n  }, [getBestRoute])\n\n  return { loading, bestRoute: routeSwapInfo }\n}\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useDebounce } from 'react-use'\n\nimport { useGetMintDecimals } from '@sentre/senhub'\nimport {\n  calcOutGivenInSwap,\n  calcPriceImpactSwap,\n  getMintInfo,\n} from 'helper/oracles'\nimport { AppState } from 'model'\nimport { useOracles } from '../../useOracles'\nimport { MetaRoute } from '../useMetaRoutes'\nimport { Route } from '../../useSwap'\nimport { useBalansolPools } from 'hooks/useBalansolPools'\n\nexport const useAllRouteFromBid = (metaRoutes: MetaRoute[]): Route[] => {\n  const { bidAmount, isReverse } = useSelector((state: AppState) => state.swap)\n  const { activePools } = useBalansolPools()\n  const { decimalizeMintAmount } = useOracles()\n  const [routes, setRoutes] = useState<Route[]>([])\n  const getDecimals = useGetMintDecimals()\n\n  const computeRouteInfos = useCallback(async () => {\n    const routes = []\n    if (isReverse || !Number(bidAmount)) return setRoutes([])\n    for (const metaRoute of metaRoutes) {\n      const bidMint = metaRoute[0].bidMint\n      const route = []\n      let bidAmountBN = await decimalizeMintAmount(bidAmount, bidMint)\n      for (const market of metaRoute) {\n        const { bidMint, askMint, pool } = market\n        const poolData = activePools[pool]\n        const bidMintInfo = getMintInfo(poolData, bidMint)\n        const askMintInfo = getMintInfo(poolData, askMint)\n        const decimalIn = (await getDecimals({ mintAddress: bidMint })) || 0\n        const decimalOut = (await getDecimals({ mintAddress: askMint })) || 0\n\n        const tokenOutAmount = calcOutGivenInSwap(\n          bidAmountBN,\n          askMintInfo.reserve,\n          bidMintInfo.reserve,\n          askMintInfo.normalizedWeight,\n          bidMintInfo.normalizedWeight,\n          poolData.fee.add(poolData.taxFee),\n        )\n\n        const dataForSlippage = {\n          balanceIn: bidMintInfo.reserve,\n          balanceOut: askMintInfo.reserve,\n          weightIn: bidMintInfo.normalizedWeight,\n          weightOut: askMintInfo.normalizedWeight,\n          decimalIn: decimalIn,\n          decimalOut: decimalOut,\n          swapFee: poolData.fee.add(poolData.taxFee),\n        }\n\n        let priceImpact = calcPriceImpactSwap(bidAmountBN, dataForSlippage)\n        if (priceImpact < 0) priceImpact = 0\n        route.push({\n          pool: market.pool,\n          bidMint,\n          askMint,\n          bidAmount: bidAmountBN,\n          askAmount: tokenOutAmount,\n          priceImpact: priceImpact,\n        })\n        bidAmountBN = tokenOutAmount\n      }\n      routes.push(route)\n    }\n    return setRoutes(routes)\n  }, [\n    bidAmount,\n    decimalizeMintAmount,\n    getDecimals,\n    isReverse,\n    metaRoutes,\n    activePools,\n  ])\n\n  useDebounce(async () => computeRouteInfos(), 300, [computeRouteInfos])\n\n  return routes\n}\n","import { account, WalletInterface } from '@senswap/sen-js'\nimport {\n  PublicKey,\n  Transaction,\n  Connection,\n  TransactionSignature,\n} from '@solana/web3.js'\nimport { SendTransactionOptions } from '@solana/wallet-adapter-base'\n\nclass JupiterWalletWrapper {\n  private _wallet\n  public publicKey: PublicKey\n\n  constructor(address: string, wallet: WalletInterface) {\n    this._wallet = wallet\n    this.publicKey = account.fromAddress(address) || null\n  }\n\n  async sendTransaction(\n    transaction: Transaction,\n    connection: Connection,\n    options?: SendTransactionOptions,\n  ): Promise<TransactionSignature> {\n    transaction = await this.signTransaction(transaction)\n    return await connection.sendRawTransaction(\n      transaction.serializeMessage(),\n      options,\n    )\n  }\n\n  async signTransaction(transaction: Transaction) {\n    return await this._wallet.signTransaction(transaction)\n  }\n\n  async signAllTransactions(transactions: Transaction[]) {\n    return await this._wallet.signAllTransactions(transactions)\n  }\n}\n\nexport default JupiterWalletWrapper\n","import { useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { web3, BN } from '@project-serum/anchor'\nimport { useJupiter } from '@jup-ag/react-hook'\nimport { useWalletAddress, rpc } from '@sentre/senhub'\nimport { useDebounce } from 'react-use'\n\nimport { AppState } from 'model'\n\nimport JupiterWalletWrapper from 'hooks/jupiter/jupiterWalletWrapper'\nimport { SwapPlatform, RouteSwapInfo, SwapProvider } from 'hooks/useSwap'\nimport { useOracles } from '../useOracles'\nimport { utilsBN } from 'helper/utilsBN'\n\nconst connection = new web3.Connection(rpc)\n\ninterface UseJupiterProps {\n  amount: number\n  inputMint: web3.PublicKey | undefined\n  outputMint: web3.PublicKey | undefined\n  slippage: number\n  debounceTime?: number\n}\n\nconst DEFAULT_JUPITER_PROPS = {\n  amount: 0,\n  inputMint: undefined,\n  outputMint: undefined,\n  slippage: 0,\n  debounceTime: 250,\n}\n\nconst DEFAULT_EMPTY_ROUTE = {\n  route: [],\n  bidAmount: 0,\n  askAmount: 0,\n  priceImpact: 0,\n}\n\nexport const useJupiterAggregator = (): SwapProvider => {\n  const [bestRouteInfo, setBestRouteInfo] =\n    useState<RouteSwapInfo>(DEFAULT_EMPTY_ROUTE)\n  const [jupiterProps, setJupiterProps] = useState<UseJupiterProps>({\n    ...DEFAULT_JUPITER_PROPS,\n  })\n  const { bidMint, askMint, bidAmount, slippageTolerance, isReverse } =\n    useSelector((state: AppState) => state.swap)\n  const walletAddress = useWalletAddress()\n  const { decimalizeMintAmount, undecimalizeMintAmount } = useOracles()\n  const { exchange, routes, loading } = useJupiter(jupiterProps)\n\n  const composeJupiterProps = useCallback(async () => {\n    if (!bidMint || !askMint || !Number(bidAmount) || isReverse)\n      return setJupiterProps({ ...DEFAULT_JUPITER_PROPS })\n    const bidAmountBN = await decimalizeMintAmount(bidAmount, bidMint)\n    setJupiterProps({\n      amount: utilsBN.toNumber(bidAmountBN),\n      inputMint: new web3.PublicKey(bidMint),\n      outputMint: new web3.PublicKey(askMint),\n      slippage: slippageTolerance,\n      debounceTime: 250,\n    })\n  }, [\n    askMint,\n    bidAmount,\n    bidMint,\n    decimalizeMintAmount,\n    isReverse,\n    slippageTolerance,\n  ])\n  useDebounce(() => composeJupiterProps(), 300, [composeJupiterProps])\n\n  const composeBestRoute = useCallback(async () => {\n    const bestJupiterRoute = routes?.[0]\n    if (\n      !bidMint ||\n      !askMint ||\n      !Number(bidAmount) ||\n      isReverse ||\n      !bestJupiterRoute\n    )\n      return setBestRouteInfo(DEFAULT_EMPTY_ROUTE)\n\n    const route = bestJupiterRoute.marketInfos.map((market) => {\n      return {\n        bidAmount: new BN(market.inAmount.toString()),\n        bidMint: market.inputMint.toBase58(),\n        askAmount: new BN(market.outAmount.toString()),\n        askMint: market.outputMint.toBase58(),\n        pool: '',\n        priceImpact: market.priceImpactPct,\n      }\n    })\n\n    const inAmount = await undecimalizeMintAmount(\n      new BN(bestJupiterRoute.inAmount.toString()),\n      bidMint,\n    )\n    const outAmount = await undecimalizeMintAmount(\n      new BN(bestJupiterRoute.outAmount.toString()),\n      askMint,\n    )\n\n    return setBestRouteInfo({\n      route,\n      bidAmount: Number(inAmount),\n      askAmount: Number(outAmount),\n      priceImpact: bestJupiterRoute.priceImpactPct,\n    })\n  }, [askMint, bidAmount, bidMint, isReverse, routes, undecimalizeMintAmount])\n  useDebounce(() => composeBestRoute(), 300, [composeBestRoute])\n\n  const swap = useCallback(async () => {\n    if (!routes?.length) throw new Error('No available route')\n    const wrappedWallet = new JupiterWalletWrapper(\n      walletAddress,\n      window.sentre.solana,\n    )\n    const result: any = await exchange({\n      wallet: wrappedWallet,\n      routeInfo: routes[0],\n      onTransaction: async (txid: string) => {\n        await connection.confirmTransaction(txid, 'confirmed')\n        return await connection.getTransaction(txid, {\n          commitment: 'confirmed',\n        })\n      },\n    })\n    if (result.error) throw new Error(result.error?.message || 'Unknown Error')\n    const { txid, outputAddress } = result\n    return { txId: txid, dstAddress: outputAddress }\n  }, [exchange, routes, walletAddress])\n\n  return useMemo(() => {\n    return {\n      ...bestRouteInfo,\n      swap,\n      platform: SwapPlatform.Jupiter,\n      loading: !Number(bidAmount) ? false : loading,\n    }\n  }, [bestRouteInfo, bidAmount, loading, swap])\n}\n","import {\n  createContext,\n  useContext,\n  ReactNode,\n  useMemo,\n  useCallback,\n  useState,\n} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useDebounce } from 'react-use'\nimport { BN } from '@project-serum/anchor'\nimport { net } from '@sentre/senhub'\n\nimport { AppDispatch, AppState } from 'model'\nimport { setSwapState } from 'model/swap.controller'\nimport { useSwapBalansol } from './swap/useSwapBalansol'\nimport { useJupiterAggregator } from './jupiter/useJupiterAggregator'\n\nexport type RouteSwapInfo = {\n  route: Route\n  bidAmount: number\n  askAmount: number\n  priceImpact: number\n}\nexport enum SwapPlatform {\n  Balansol,\n  Jupiter,\n}\nexport type SwapProvider = RouteSwapInfo & {\n  loading: boolean\n  platform: SwapPlatform\n  swap: () => Promise<{ txId: string }>\n}\nexport type RouteInfo = {\n  pool: string\n  bidMint: string\n  bidAmount: BN\n  askMint: string\n  askAmount: BN\n  priceImpact: number\n}\nexport type Route = RouteInfo[]\n\nconst DEFAULT_EMPTY_ROUTE = {\n  route: [],\n  bidAmount: 0,\n  askAmount: 0,\n  priceImpact: 0,\n  swap: async () => {\n    return { txId: '' }\n  },\n  loading: false,\n  platform: SwapPlatform.Balansol,\n}\n\nconst Context = createContext<SwapProvider>({ ...DEFAULT_EMPTY_ROUTE })\n\n/**\n * Swap Context Provider\n */\nconst Provider = ({ children }: { children: ReactNode }) => {\n  const isReverse = useSelector((state: AppState) => state.swap.isReverse)\n  const dispatch = useDispatch<AppDispatch>()\n  const [platformSwap, setPlatformSwap] = useState<SwapProvider>({\n    ...DEFAULT_EMPTY_ROUTE,\n  })\n  //Route balansol\n  const balansol = useSwapBalansol()\n  // Route Jupiter\n  const jupiter = useJupiterAggregator()\n\n  const updateRouteFromBid = useCallback(() => {\n    if (isReverse) return\n    if (balansol.loading || (jupiter.loading && net === 'mainnet'))\n      return dispatch(setSwapState({ askAmount: '0', loading: true }))\n\n    let askAmountBalansol = balansol.askAmount.toString()\n    let askAmountJup = jupiter.askAmount.toString()\n    // Select platform\n    let platformSwap = balansol\n    if (\n      Number(askAmountJup) > 1.05 * Number(askAmountBalansol) &&\n      net === 'mainnet'\n    )\n      platformSwap = jupiter\n    // Update platform\n    let askAmount = platformSwap.askAmount.toString()\n    dispatch(setSwapState({ askAmount, loading: false }))\n    return setPlatformSwap(platformSwap)\n  }, [balansol, dispatch, isReverse, jupiter])\n  useDebounce(() => updateRouteFromBid(), 1000, [updateRouteFromBid])\n\n  const updateRouteFromAsk = useCallback(() => {\n    if (!isReverse) return\n    let bidAmount = balansol.bidAmount.toString()\n    const loading = balansol.loading\n    if (loading) bidAmount = ''\n    dispatch(setSwapState({ bidAmount, loading }))\n    return setPlatformSwap(balansol)\n  }, [balansol, dispatch, isReverse])\n  useDebounce(() => updateRouteFromAsk(), 500, [updateRouteFromAsk])\n\n  const provider = useMemo((): SwapProvider => {\n    return platformSwap\n  }, [platformSwap])\n\n  // Context provider\n  return <Context.Provider value={provider}>{children}</Context.Provider>\n}\nexport default Provider\n\n/**\n * Swap Hook\n */\nexport const useSwap = () => {\n  return useContext<SwapProvider>(Context)\n}\n","import { useCallback, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { initTxCreateMultiTokenAccount } from '@sen-use/web3'\nimport { getAnchorProvider } from '@sentre/senhub'\n\nimport { AppState } from 'model'\nimport { SwapPlatform, SwapProvider } from '../useSwap'\nimport { useOracles } from '../useOracles'\nimport { useBestRouteFromAsk } from './routeFromAsk/useBestRouteFromAsk'\nimport { useBestRouteFromBid } from './routeFromBid/useBestRouteFromBid'\nimport { useWrapAndUnwrapSolIfNeed } from 'hooks/useWrapAndUnwrapSolIfNeed'\n\nexport const useSwapBalansol = (): SwapProvider => {\n  const { bidAmount, bidMint, askMint, slippageTolerance, isReverse } =\n    useSelector((state: AppState) => state.swap)\n  const { decimalizeMintAmount } = useOracles()\n  const routesFromBid = useBestRouteFromBid()\n  const routesFromAsk = useBestRouteFromAsk()\n  const { createWrapSolTxIfNeed, createUnWrapSolTxIfNeed } =\n    useWrapAndUnwrapSolIfNeed()\n\n  const { loading, bestRoute } = isReverse ? routesFromAsk : routesFromBid\n\n  const initTokenAccountTxs = useCallback(async () => {\n    const provider = getAnchorProvider()!\n    const transactions = await initTxCreateMultiTokenAccount(provider, {\n      mints: bestRoute.route.map((route) => route.askMint),\n    })\n    return transactions\n  }, [bestRoute.route])\n\n  const swap = useCallback(async () => {\n    const provider = getAnchorProvider()!\n    const bidAmountBN = await decimalizeMintAmount(bidAmount, bidMint)\n    const limit = Number(bestRoute.askAmount) * (1 - slippageTolerance / 100)\n    const limitBN = await decimalizeMintAmount(limit, askMint)\n    const transactions = await initTokenAccountTxs()\n    const wrapSolTx = await createWrapSolTxIfNeed(bidMint, bidAmount)\n    if (wrapSolTx) transactions.push(wrapSolTx)\n\n    const { transaction } = await window.balansol.createRouteTransaction(\n      bidAmountBN,\n      bestRoute.route,\n      limitBN,\n    )\n    transactions.push(transaction)\n\n    const unwrapSolTx = await createUnWrapSolTxIfNeed(askMint)\n    if (unwrapSolTx) transactions.push(unwrapSolTx)\n\n    const txIds = await provider.sendAll(\n      transactions.map((tx) => {\n        return { tx, signers: [] }\n      }),\n    )\n    return { txId: txIds[txIds.length - 1] }\n  }, [\n    askMint,\n    bestRoute.askAmount,\n    bestRoute.route,\n    bidAmount,\n    bidMint,\n    createUnWrapSolTxIfNeed,\n    createWrapSolTxIfNeed,\n    decimalizeMintAmount,\n    initTokenAccountTxs,\n    slippageTolerance,\n  ])\n\n  return useMemo(() => {\n    return {\n      ...bestRoute,\n      swap,\n      loading: loading,\n      platform: SwapPlatform.Balansol,\n    }\n  }, [bestRoute, swap, loading])\n}\n","import { Fragment } from 'react'\n\nimport { Divider, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar } from '@sen-use/app'\nimport PoweredByJupiter from 'components/poweredByJupiter'\n\nimport { SwapPlatform, useSwap } from 'hooks/useSwap'\n\nconst RouteAvatar = () => {\n  const { route, platform } = useSwap()\n\n  const routeMints: string[] = []\n  route.forEach((routeElm, idx) => {\n    if (idx === 0) routeMints.push(routeElm.bidMint)\n    routeMints.push(routeElm.askMint)\n  })\n\n  return (\n    <Space>\n      {routeMints.map((mintAddress, i) => (\n        <Fragment key={i}>\n          {i > 0 && <IonIcon name=\"chevron-forward-outline\" />}\n          <MintAvatar mintAddress={mintAddress} />\n        </Fragment>\n      ))}\n      {!!route.length && platform === SwapPlatform.Jupiter && (\n        <Fragment>\n          <Divider type=\"vertical\" style={{ margin: 0 }} />\n          <PoweredByJupiter />\n        </Fragment>\n      )}\n      {!route.length && <Fragment>--</Fragment>}\n    </Space>\n  )\n}\nexport default RouteAvatar\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { util } from '@sentre/senhub'\n\nimport { Button, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintSymbol } from '@sen-use/app'\n\nimport { AppState } from 'model'\nimport { useSwap } from 'hooks/useSwap'\n\nconst MintRatio = ({ reversed = false }: { reversed?: boolean }) => {\n  const { askMint, bidMint } = useSelector((state: AppState) => state.swap)\n  const { bidAmount, askAmount } = useSwap()\n\n  let spotPrice = reversed ? askAmount / bidAmount : bidAmount / askAmount\n  if (!bidAmount || !askAmount) spotPrice = 0\n  const actualBid = reversed ? bidMint : askMint\n  const actualAsk = reversed ? askMint : bidMint\n\n  return (\n    <Space>\n      <MintSymbol mintAddress={actualBid} />\n      <Typography.Text>=</Typography.Text>\n      <Typography.Text>\n        {util.numeric(spotPrice).format('0.[0000]')}\n      </Typography.Text>\n      <MintSymbol mintAddress={actualAsk} />\n    </Space>\n  )\n}\n\nconst SpotPrice = () => {\n  const [reversed, setReversed] = useState(false)\n\n  const onReversed = () => {\n    setReversed(!reversed)\n  }\n\n  return (\n    <Space>\n      <Button\n        type=\"text\"\n        onClick={onReversed}\n        shape=\"circle\"\n        icon={<IonIcon name=\"swap-horizontal-outline\" />}\n        style={{ background: 'transparent' }}\n      />\n      <Typography.Text>1</Typography.Text>\n      <MintRatio reversed={reversed} />\n    </Space>\n  )\n}\n\nexport default SpotPrice\n","import { ReactNode, CSSProperties } from 'react'\nimport { PoolData } from '@senswap/sen-js'\nimport { useSelector } from 'react-redux'\nimport { util } from '@sentre/senhub'\n\nimport { Col, Row, Skeleton, Typography } from 'antd'\nimport RouteAvatar from './routeAvatar'\nimport SpotPrice from './spotPrice'\n\nimport { AppState } from 'model'\nimport { priceImpactColor } from 'helper'\nimport { useSwap } from 'hooks/useSwap'\n\nexport type LiteMintInfo = {\n  address: string\n  decimals: number\n}\n\nexport type HopData = {\n  poolData: PoolData & { address: string }\n  srcMintAddress: string\n  dstMintAddress: string\n}\n\ntype ExtraTypographyProps = {\n  label?: string\n  content?: string | ReactNode\n  loading?: boolean\n}\n\nconst ExtraTypography = ({\n  label = '',\n  content = '',\n  loading = false,\n}: ExtraTypographyProps) => {\n  return (\n    <Row align=\"middle\" style={{ width: '100%' }}>\n      <Col flex=\"auto\" style={{ justifyContent: 'left' }}>\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>\n        {loading ? (\n          <Skeleton.Input style={{ width: 150 }} active size=\"small\" />\n        ) : (\n          <span>{content}</span>\n        )}\n      </Col>\n    </Row>\n  )\n}\n\nconst SwapInfo = ({ extraStyle }: { extraStyle?: CSSProperties }) => {\n  const { slippageTolerance, loading, bidAmount, askAmount } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const { priceImpact } = useSwap()\n\n  const priceImpactDisplay = util.numeric(priceImpact).format('0.[0000]')\n  const swapLoading = loading && (!!Number(bidAmount) || !!Number(askAmount))\n\n  return (\n    <Row gutter={[12, 12]} style={{ ...extraStyle }}>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Price impact\"\n          content={\n            <Typography.Text style={{ color: priceImpactColor(priceImpact) }}>\n              {Number(priceImpactDisplay) > 0\n                ? util.numeric(priceImpactDisplay).format('0.[0000]%')\n                : '~ 0%'}\n            </Typography.Text>\n          }\n          loading={swapLoading}\n        />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Price\"\n          content={<SpotPrice />}\n          loading={swapLoading}\n        />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Slippage Tolerance\"\n          content={`${slippageTolerance}%`}\n          loading={swapLoading}\n        />\n      </Col>\n      <Col span={24} style={{ minHeight: 24 }}>\n        <ExtraTypography\n          label=\"Route\"\n          content={<RouteAvatar />}\n          loading={swapLoading}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapInfo\n","import { useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Row,\n  Col,\n  Space,\n  Typography,\n  Modal,\n  Card,\n  Checkbox,\n  Button,\n} from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\nimport PreviewSwap from 'view/swap/swapInfo'\n\nimport { AppDispatch, AppState } from 'model'\nimport { setSwapState } from 'model/swap.controller'\nimport { notifyError, notifySuccess } from 'helper'\nimport { PriceImpact } from 'constant'\nimport { useSwap } from 'hooks/useSwap'\n\nimport './index.less'\n\nexport type ConfirmSwapProps = {\n  visible?: boolean\n  onCancel?: () => void\n}\n\nconst ConfirmSwap = ({\n  visible = false,\n  onCancel = () => {},\n}: ConfirmSwapProps) => {\n  const [checked, setChecked] = useState(false)\n  const [isDisplayWarning, setIsDisplayWarning] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const dispatch = useDispatch<AppDispatch>()\n  const { bidAmount, bidMint, askMint } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const { askAmount, priceImpact, swap } = useSwap()\n\n  useEffect(() => {\n    if (priceImpact > PriceImpact.goodSwap) return setIsDisplayWarning(true)\n    setIsDisplayWarning(false)\n  }, [priceImpact])\n\n  const onCloseModal = useCallback(() => {\n    onCancel()\n    setChecked(false)\n  }, [onCancel])\n\n  const onSwap = async () => {\n    setIsLoading(true)\n    try {\n      const { txId } = await swap()\n      onCancel()\n      dispatch(setSwapState({ bidAmount: '', askAmount: '' }))\n      notifySuccess('Swap', txId)\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      closeIcon={<IonIcon name=\"close\" />}\n      footer={null}\n      open={visible}\n      forceRender\n    >\n      <Row gutter={[16, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}> Review</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row align=\"middle\" justify=\"space-between\">\n            <Col>\n              <Space direction=\"vertical\">\n                <Typography.Text>From</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={bidMint} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={bidMint} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{bidAmount}</Typography.Title>\n              </Space>\n            </Col>\n            <Col>\n              <IonIcon name=\"arrow-forward-outline\" style={{ fontSize: 24 }} />\n            </Col>\n            <Col>\n              <Space direction=\"vertical\" align=\"end\">\n                <Typography.Text>To</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={askMint} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={askMint} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{askAmount}</Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col>\n          <Card bordered={false} className=\"confirm-info\">\n            <PreviewSwap />\n          </Card>\n        </Col>\n        {isDisplayWarning && (\n          <Col span={24}>\n            <Checkbox checked={checked} onChange={() => setChecked(!checked)}>\n              The price impact is currently high. Tick the checkbox to accept\n              the swap.\n            </Checkbox>\n          </Col>\n        )}\n\n        <Col span={24}>\n          <Button\n            type=\"primary\"\n            onClick={onSwap}\n            disabled={isDisplayWarning && !checked}\n            loading={isLoading}\n            block\n            size=\"large\"\n          >\n            Swap\n          </Button>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\nexport default ConfirmSwap\n","import { memo, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Col, Row } from 'antd'\nimport ConfirmSwap from './confirmSwap'\n\nimport { AppState } from 'model'\nimport { useSwap } from 'hooks/useSwap'\nimport { useWrapAccountBalance } from 'hooks/useWrapAccountBalance'\n\nimport './index.less'\n\nconst ReviewSwap = () => {\n  const bidAmount = useSelector((state: AppState) => state.swap.bidAmount)\n  const askAmount = useSelector((state: AppState) => state.swap.askAmount)\n  const bidMint = useSelector((state: AppState) => state.swap.bidMint)\n  const loading = useSelector((state: AppState) => state.swap.loading)\n\n  const [visible, setVisible] = useState(false)\n  const { route } = useSwap()\n  const { balance } = useWrapAccountBalance(bidMint)\n\n  const errorMessage = useMemo(() => {\n    if (!Number(bidAmount)) return 'Enter an amount'\n    if (balance < Number(bidAmount)) return 'Balance not enough'\n    if (!Number(askAmount) || !route.length) return 'Route not found'\n\n    return ''\n  }, [askAmount, balance, bidAmount, route.length])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          onClick={() => setVisible(true)}\n          disabled={!!errorMessage}\n          loading={loading && Number(bidAmount) + Number(askAmount) !== 0}\n          block\n          size=\"large\"\n        >\n          {!errorMessage ? 'Review' : errorMessage}\n        </Button>\n      </Col>\n      <ConfirmSwap visible={visible} onCancel={() => setVisible(false)} />\n    </Row>\n  )\n}\n\nexport default memo(ReviewSwap)\n","var _defs, _path, _path2;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSen(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 283.465 283.465\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: -1222.504,\n    y1: -2883.343,\n    x2: -1135.428,\n    y2: -2970.419,\n    gradientTransform: \"translate(1300.837 3068.613)\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#f9575e\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.27,\n    stopColor: \"#f8555b\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.486,\n    stopColor: \"#f44f51\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.685,\n    stopColor: \"#ee4540\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.871,\n    stopColor: \"#e63728\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#de2a13\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: 1314.111,\n    y1: -895.144,\n    x2: 1389.882,\n    y2: -811.556,\n    gradientTransform: \"translate(1516.988 -707.868) rotate(180)\",\n    xlinkHref: \"#linear-gradient\"\n  }))), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Senswap logo FINAL\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.179,85.127H114a92.562,92.562,0,0,1,92.562,92.562v20.648a0,0,0,0,1,0,0H129.741a92.562,92.562,0,0,1-92.562-92.562V85.127A0,0,0,0,1,37.179,85.127Z\",\n    transform: \"translate(107.828 328.128) rotate(-135)\",\n    fill: \"url(#linear-gradient)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M169.462,85.127h76.823a0,0,0,0,1,0,0v20.648a92.562,92.562,0,0,1-92.562,92.562H76.9a0,0,0,0,1,0,0V177.689a92.562,92.562,0,0,1,92.562-92.562Z\",\n    transform: \"translate(-52.89 155.776) rotate(-45)\",\n    fill: \"url(#linear-gradient-2)\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSen);\nexport default __webpack_public_path__ + \"static/media/sen.f2d012c907167ba613b035621b6423cb.svg\";\nexport { ForwardRef as ReactComponent };","import SentreIcon from 'static/images/sen.svg'\nimport { Avatar, Space, Tooltip, Typography } from 'antd'\n\nexport type PoweredBySentreProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredBySentre = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredBySentreProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"Sentre Protocol\">\n        <Avatar src={SentreIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredBySentre\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Card, Space, Typography } from 'antd'\n\nimport { setSwapState } from 'model/swap.controller'\nimport { AppState } from 'model'\n\nconst slippageOptions = [0.5, 1, 2, 100]\n\nconst Setting = () => {\n  const slippageTolerance = useSelector(\n    (state: AppState) => state.swap.slippageTolerance,\n  )\n  const dispatch = useDispatch()\n\n  const onChange = (value: number) => {\n    dispatch(\n      setSwapState({\n        slippageTolerance: value,\n      }),\n    )\n  }\n\n  return (\n    <Card\n      bodyStyle={{\n        padding: 16,\n      }}\n      style={{ boxShadow: 'none' }}\n    >\n      <Space size={24} direction=\"vertical\">\n        <Typography.Title level={5}>Slippage tolerance</Typography.Title>\n        <Space size={12}>\n          {slippageOptions.map((value) => {\n            const slippageSelected =\n              value === slippageTolerance ? 'selected' : ''\n            return (\n              <Button\n                className={`btn-slippage ${slippageSelected}`}\n                onClick={() => {\n                  onChange(value)\n                }}\n                key={value}\n              >\n                {value === 100 ? 'Freely' : `${value}%`}\n              </Button>\n            )\n          })}\n        </Space>\n      </Space>\n    </Card>\n  )\n}\n\nexport default Setting\n","import { Button, Divider, Popover, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport PoweredBySentre from './poweredBySentre'\nimport Setting from './setting'\n\nconst SettingArea = () => {\n  return (\n    <Space>\n      <PoweredBySentre />\n      <Divider type=\"vertical\" />\n      <Popover\n        placement=\"bottomRight\"\n        content={<Setting />}\n        trigger=\"click\"\n        overlayClassName=\"slippage\"\n        overlayInnerStyle={{ borderRadius: 24 }}\n      >\n        <Button\n          style={{ marginRight: -7 }}\n          type=\"text\"\n          icon={<IonIcon name=\"cog-outline\" />}\n        />\n      </Popover>\n    </Space>\n  )\n}\n\nexport default SettingArea\n","import { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Card, Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport AskInput from './askInput'\nimport BidInput from './bidInput'\nimport ActionReview from './reviewSwap'\nimport SettingArea from './settingArea'\nimport SwapInfo from 'view/swap/swapInfo'\n\nimport { setSwapState } from 'model/swap.controller'\nimport { AppState } from 'model'\nimport { useAppRouter } from 'hooks/useAppRouter'\n\nimport './index.less'\n\nconst Swap = () => {\n  const dispatch = useDispatch()\n  const { askMint, bidMint, askAmount } = useSelector(\n    (state: AppState) => state.swap,\n  )\n  const { pushHistory, getAllQuery } = useAppRouter()\n\n  useEffect(() => {\n    if (!askMint || !bidMint) return\n    const { bid_mint, ask_mint } = getAllQuery<{\n      bid_mint: string\n      ask_mint: string\n    }>()\n    if (bidMint !== bid_mint || askMint !== ask_mint) {\n      pushHistory(`/swap`, { bid_mint: bidMint, ask_mint: askMint }, false)\n    }\n  }, [askMint, bidMint, getAllQuery, pushHistory])\n\n  const onSwitch = () => {\n    dispatch(\n      setSwapState({\n        askMint: bidMint,\n        bidMint: askMint,\n        bidAmount: askAmount,\n        askAmount: '',\n        isReverse: false,\n        loading: true,\n      }),\n    )\n  }\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\">\n      <Col xs={24} md={14} lg={12} xl={8}>\n        <Card style={{ boxShadow: 'unset' }}>\n          <Row gutter={[0, 16]} justify=\"end\">\n            <Col>\n              <SettingArea />\n            </Col>\n            <Col span={24}>\n              <Row gutter={[0, 4]}>\n                <Col span={24}>\n                  <BidInput />\n                </Col>\n                <Col span={24}>\n                  <Button\n                    className=\"btn-switch-type\"\n                    size=\"small\"\n                    icon={<IonIcon name=\"git-compare-outline\" />}\n                    onClick={onSwitch}\n                  />\n                </Col>\n                <Col span={24}>\n                  <AskInput />\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24}>\n              <SwapInfo />\n            </Col>\n            <Col span={24} />\n            <Col span={24}>\n              <ActionReview />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n      <Col span={24} />\n    </Row>\n  )\n}\n\nexport default Swap\n","import { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { TokenInfo } from '@solana/spl-token-registry'\nimport { tokenProvider, useTheme, util } from '@sentre/senhub'\n\nimport { Card, Space, Typography } from 'antd'\n\nimport { AppState } from 'model'\nimport { calcNormalizedWeight } from 'helper/oracles'\n\nexport type PercentGroupMintsProps = { poolAddress: string }\n\nconst PercentGroupMints = ({ poolAddress }: PercentGroupMintsProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const [poolSymbol, setPoolSymbol] = useState<string[]>([])\n  const theme = useTheme()\n\n  useEffect(() => {\n    ;(async () => {\n      let poolSymbols = await Promise.all(\n        poolData.mints.map(async (mint, index) => {\n          const normalizedWeight = calcNormalizedWeight(\n            poolData.weights,\n            poolData.weights[index],\n          )\n          const tokenInfo: TokenInfo | undefined =\n            await tokenProvider.findByAddress(mint.toBase58())\n\n          return `${util.numeric(normalizedWeight).format('0,0.[00]%')} ${\n            tokenInfo?.symbol || mint.toBase58().substring(0, 4)\n          }`\n        }),\n      )\n      return setPoolSymbol(poolSymbols)\n    })()\n  }, [poolData.mints, poolData.weights])\n\n  return (\n    <Space size={[16, 8]} align=\"center\" wrap={true}>\n      <Typography.Text style={{ whiteSpace: 'nowrap' }}>\n        Balansol LP\n      </Typography.Text>\n\n      {poolSymbol.map((value, idx) => (\n        <Card\n          bodyStyle={{ padding: '2px 8px' }}\n          style={{\n            background: theme === 'dark' ? '#394360' : '#ffffff',\n            marginRight: '-8px',\n            boxShadow: 'none',\n          }}\n          key={value + idx}\n        >\n          <Typography.Text>{value}</Typography.Text>\n        </Card>\n      ))}\n    </Space>\n  )\n}\n\nexport default PercentGroupMints\n","import { MouseEvent, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useWalletAddress, util } from '@sentre/senhub'\nimport { PoolState } from '@senswap/balancer'\n\nimport { Button, Space, Tooltip, Typography } from 'antd'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport IonIcon from '@sentre/antd-ionicon'\nimport { AppState } from 'model'\n\nexport type PoolAddressActionsProps = { poolAddress: string }\n\nconst PoolAddressActions = ({ poolAddress }: PoolAddressActionsProps) => {\n  const [copied, setCopied] = useState(false)\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const walletAddress = useWalletAddress()\n  const state = poolData.state as PoolState\n\n  const onCopy = async (e: MouseEvent<HTMLElement>) => {\n    setCopied(true)\n    setTimeout(() => setCopied(false), 1500)\n    e.stopPropagation()\n  }\n  return (\n    <Space size={10}>\n      {state['frozen'] && (\n        <Tooltip title=\"Frozen Pool\">\n          <IonIcon name=\"snow-outline\" />\n        </Tooltip>\n      )}\n      {poolData.authority.toBase58() === walletAddress && (\n        <Tooltip title=\"Your pool\">\n          <IonIcon name=\"person-outline\" />\n        </Tooltip>\n      )}\n      <Tooltip title={`Pool Address: ${poolAddress}`}>\n        <Typography.Text\n          type=\"secondary\"\n          style={{ cursor: 'pointer' }}\n          onClick={(e) => {\n            window.open(util.explorer(poolAddress), '_blank')\n            e?.stopPropagation()\n          }}\n        >\n          {util.shortenAddress(poolAddress, 3, '...')}\n        </Typography.Text>\n      </Tooltip>\n      <Tooltip title=\"Copied\" open={copied}>\n        <CopyToClipboard text={poolAddress}>\n          <Button\n            type=\"text\"\n            icon={<IonIcon name=\"copy-outline\" />}\n            onClick={onCopy}\n            style={{ width: 'unset', height: 'unset' }}\n          />\n        </CopyToClipboard>\n      </Tooltip>\n    </Space>\n  )\n}\nexport default PoolAddressActions\n","import { useSelector } from 'react-redux'\nimport { useWalletAddress, util } from '@sentre/senhub'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\nimport PercentGroupMints from './percentGroupMints'\nimport PoolAddressActions from './poolAddressActions'\nimport { PoolAvatar } from 'components/pools/poolAvatar'\n\nimport { useAppRouter } from 'hooks/useAppRouter'\nimport { useTVL } from 'hooks/useTVL'\nimport { useVolume24h } from 'hooks/useVolume24h'\nimport { AppState } from 'model'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\n\nexport type DetailsCardProps = { poolAddress: string }\n\nconst DetailsCard = ({ poolAddress }: DetailsCardProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const walletAddress = useWalletAddress()\n  const { vol24h } = useVolume24h(poolAddress)\n  const { pushHistory } = useAppRouter()\n\n  const poolState: any = poolData.state\n  const { TVL } = useTVL(poolAddress)\n  const { balance } = useAccountBalanceByMintAddress(\n    poolData.mintLpt.toBase58(),\n  )\n\n  const validPool =\n    poolState['initialized'] || poolData.authority.toBase58() === walletAddress\n\n  return (\n    <Card\n      className={`${validPool ? 'pool-card-detail' : 'disabled-pool'}`}\n      style={{ boxShadow: 'unset' }}\n      onClick={() => pushHistory(`/details`, { pool: poolAddress })}\n    >\n      <Row style={{ marginBottom: '16px' }}>\n        <Col flex=\"auto\">\n          <PoolAvatar size={32} poolAddress={poolAddress} max={3} />\n        </Col>\n        <Col>\n          <PoolAddressActions poolAddress={poolAddress} />\n        </Col>\n      </Row>\n      <Row gutter={[0, 24]}>\n        <Col span={24}>\n          <PercentGroupMints poolAddress={poolAddress} />\n        </Col>\n        <Col span={24}>\n          <Row align=\"bottom\" wrap={false}>\n            <Col flex=\"auto\">\n              <Row gutter={[32, 0]}>\n                <Col>\n                  <Space size={4} direction=\"vertical\">\n                    <Typography.Text type=\"secondary\">TVL:</Typography.Text>\n                    <Typography.Title level={5}>\n                      {' '}\n                      {util.numeric(TVL).formatCurrency('($0.00a)')}\n                    </Typography.Title>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space size={4} direction=\"vertical\">\n                    <Typography.Text type=\"secondary\">Vol 24h:</Typography.Text>\n                    <Typography.Title level={5}>\n                      {' '}\n                      {util.numeric(vol24h).formatCurrency('($0.00a)')}\n                    </Typography.Title>\n                  </Space>\n                </Col>\n                <Col flex=\"auto\">\n                  <Space size={4} direction=\"vertical\">\n                    <Typography.Text type=\"secondary\">\n                      My Contribution:\n                    </Typography.Text>\n                    <Typography.Title level={5}>\n                      {' '}\n                      {util.numeric(balance).format('0,0.[00]')} LP\n                    </Typography.Title>\n                  </Space>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default DetailsCard\n","import { Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { PoolState } from '@senswap/balancer'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { notifyError } from '@sen-use/app'\n\nimport { Col, Row, Spin } from 'antd'\nimport DetailsCard from './detailsCard'\n\nimport { useFilterPools } from 'hooks/pools/useFilterPools'\nimport { useSearchedPools } from 'hooks/pools/useSearchedPools'\nimport { fetchServerTVL } from 'helper'\n\nconst ListPools = () => {\n  const [loading, setLoading] = useState(true)\n  const [tvls, setTVLs] = useState<Record<string, number>>({})\n  const { poolsFilter } = useFilterPools()\n  const listPool = useSearchedPools(poolsFilter)\n\n  const sortedPool = useMemo(\n    () => Object.keys(listPool).sort((a, b) => (tvls[b] || 0) - (tvls[a] || 0)),\n    [listPool, tvls],\n  )\n\n  const fetchTVL = useCallback(async () => {\n    try {\n      setLoading(true)\n      const poolTVLs = await fetchServerTVL()\n      const newTVLs: Record<string, number> = {}\n      for (const { address, tvl } of poolTVLs) newTVLs[address] = tvl\n\n      setTVLs(newTVLs)\n    } catch (err) {\n      notifyError(err)\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    fetchTVL()\n  }, [fetchTVL])\n\n  if (loading)\n    return (\n      <Row justify=\"center\">\n        <Col>\n          <Spin />\n        </Col>\n      </Row>\n    )\n\n  return (\n    <Row gutter={[24, 24]}>\n      {sortedPool.map((poolAddress) => {\n        const poolData = listPool[poolAddress]\n        if (!poolData) return <Fragment />\n        let poolState: PoolState = poolData.state\n        if (poolState['uninitialized'] || poolState['deleted']) return null\n        if (poolData.reserves.map((val) => val.toString()).includes('0'))\n          return null\n\n        return (\n          <Col xs={24} md={24} key={poolAddress}>\n            <LazyLoad height={198}>\n              <DetailsCard poolAddress={poolAddress} />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default ListPools\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useAccounts, useWalletAddress } from '@sentre/senhub'\nimport { utils, web3 } from '@project-serum/anchor'\n\nimport { AppState } from 'model'\nimport { PoolsState } from 'model/pools.controller'\nimport { FilterPools } from 'constant'\n\nexport const useFilterPools = () => {\n  const [poolsFilter, setPoolsFilter] = useState<PoolsState>({})\n  const pools = useSelector((state: AppState) => state.pools)\n  const filterPool = useSelector(\n    (state: AppState) => state.searchPools.filterPool,\n  )\n  const walletAddress = useWalletAddress()\n  const accounts = useAccounts()\n\n  const checkIsYourPool = useCallback(\n    (address: string) => pools[address].authority.toBase58() === walletAddress,\n    [pools, walletAddress],\n  )\n\n  const checkIsDepositedPool = useCallback(\n    async (poolAddress: string) => {\n      const tokenAccountLpt = await utils.token.associatedAddress({\n        mint: pools[poolAddress].mintLpt,\n        owner: new web3.PublicKey(walletAddress),\n      })\n      const balance = accounts[tokenAccountLpt.toBase58()]?.amount\n      if (!balance) return false\n      return true\n    },\n    [accounts, pools, walletAddress],\n  )\n\n  const filterListPools = useCallback(\n    async (pools: PoolsState) => {\n      let newPools: PoolsState = {}\n      for (const poolAddress in pools) {\n        let isValid = false\n        switch (filterPool) {\n          case FilterPools.YourPools:\n            isValid = checkIsYourPool(poolAddress)\n            break\n          case FilterPools.DepositedPools:\n            isValid = await checkIsDepositedPool(poolAddress)\n            break\n          default:\n            isValid = true\n            break\n        }\n        if (isValid) newPools[poolAddress] = pools[poolAddress]\n      }\n      setPoolsFilter(newPools)\n    },\n    [checkIsDepositedPool, checkIsYourPool, filterPool],\n  )\n\n  useEffect(() => {\n    filterListPools(pools)\n  }, [filterListPools, pools])\n\n  return { poolsFilter, filterListPools, checkIsYourPool }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { forceCheck } from '@sentre/react-lazyload'\nimport { tokenProvider } from '@sentre/senhub'\n\nimport { AppState } from 'model'\nimport { PoolsState } from 'model/pools.controller'\n\nconst KEY_SIZE = 3\n\nexport const useSearchedPools = (pools: PoolsState) => {\n  const [poolsSearched, setPoolsSearched] = useState<PoolsState>({})\n  const searchInput = useSelector(\n    (state: AppState) => state.searchPools.searchInput,\n  )\n\n  const search = useCallback(async () => {\n    const newPoolsSearch: PoolsState = {}\n    const listTokenInfo = await tokenProvider.find(searchInput)\n    const listTokenAddress = listTokenInfo.map((info) => info.address)\n\n    const listPoolsAddress = Object.keys(pools).filter((poolAddress) => {\n      if (!searchInput || !pools || searchInput.length < KEY_SIZE) return true\n      const poolData = pools[poolAddress]\n      const { mintLpt, mints } = poolData\n      // Search poolAddress\n      if (poolAddress.includes(searchInput)) return true\n      // Search minLpt\n      if (mintLpt.toBase58().includes(searchInput)) return true\n      // Search Token\n      for (const mint in mints) {\n        if (listTokenAddress.includes(mints[mint].toBase58())) return true\n        if (searchInput.includes(mints[mint].toBase58())) return true\n      }\n      return false\n    })\n    listPoolsAddress\n      .sort()\n      .map((poolAddress) => (newPoolsSearch[poolAddress] = pools[poolAddress]))\n    setPoolsSearched(newPoolsSearch)\n  }, [pools, searchInput])\n\n  useEffect(() => {\n    search().then(() => {\n      // fix lazyload\n      setTimeout(() => {\n        forceCheck()\n      }, 500)\n    })\n  }, [search])\n\n  return poolsSearched\n}\n","import { MintAvatar } from '@sen-use/app'\nimport { util } from '@sentre/senhub'\n\nimport { TokenInfo } from 'view/pools/newPool'\n\nexport default function Proportion({ tokenList }: { tokenList: TokenInfo[] }) {\n  const weightTotal = tokenList.reduce(\n    (previousSum, currentValue) => previousSum + Number(currentValue.weight),\n    0,\n  )\n\n  const remainingPortion = 100 - weightTotal\n\n  return (\n    <div style={{ display: 'flex', marginTop: 8 }}>\n      {tokenList.map((value, index) => {\n        if (Number(value.weight) === 0) return null\n        return (\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'center',\n              width:\n                index !== 1\n                  ? `calc(${value.weight}% + 8px)`\n                  : `${value.weight}%`,\n              background: `${util.randomColor(value.addressToken || '_', 1)}`,\n              height: '8px',\n              borderRadius: '20px',\n              zIndex: `${index}`,\n              marginRight: '-8px',\n              alignItems: 'center',\n            }}\n            key={`${value.addressToken}${index}`}\n          >\n            <MintAvatar mintAddress={value.addressToken} />\n          </div>\n        )\n      })}\n      <div\n        style={{\n          width: `${remainingPortion}%`,\n          background: '#142042',\n          borderRadius: '20px',\n        }}\n      ></div>\n    </div>\n  )\n}\n","import { Button, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { MintSetup } from '../index'\nimport NumericInput from 'components/numericInput'\n\nexport type WeightControlProps = {\n  tokenInfo: MintSetup\n  onChangeWeight: (weight: string) => void\n  onChangeLock: (isLocked: boolean) => void\n  onRemoveToken: () => void\n}\n\nconst WeightControl = ({\n  tokenInfo,\n  onChangeWeight,\n  onChangeLock,\n  onRemoveToken,\n}: WeightControlProps) => {\n  const { weight, isLocked } = tokenInfo\n\n  return (\n    <Space size={4}>\n      <NumericInput\n        value={weight}\n        controls={false}\n        size=\"large\"\n        bordered={false}\n        onValue={onChangeWeight}\n        addonAfter={<div style={{ marginLeft: -4 }}>%</div>}\n        maxLength={5}\n        placeholder=\"0\"\n      />\n      <Button\n        onClick={() => {\n          onChangeLock(!isLocked)\n        }}\n        shape=\"circle\"\n        icon={\n          <IonIcon\n            name={isLocked ? 'lock-closed-outline' : 'lock-open-outline'}\n          />\n        }\n        style={{ background: 'unset' }}\n        type=\"text\"\n      />\n      <Button\n        onClick={onRemoveToken}\n        shape=\"circle\"\n        icon={<IonIcon name=\"trash-outline\" />}\n        type=\"text\"\n      />\n    </Space>\n  )\n}\n\nexport default WeightControl\n","import { Col, Row } from 'antd'\nimport WeightControl from './weightControl'\n\nimport { MintSetup } from '../index'\nimport { MintSelection } from '@sen-use/app'\nimport { useTheme } from '@sentre/senhub'\n\nexport type TokenSetupProps = {\n  tokenList: MintSetup[]\n  mintSetup: MintSetup\n  onChangeTokenInfo: (value: MintSetup, index: number) => void\n  onRemoveToken: (index: number) => void\n  id: number\n}\n\nconst TokenSetup = ({\n  tokenList,\n  mintSetup,\n  onChangeTokenInfo,\n  onRemoveToken,\n  id,\n}: TokenSetupProps) => {\n  const theme = useTheme()\n\n  const onChangeToken = (addressToken: string) => {\n    onChangeTokenInfo(\n      {\n        ...mintSetup,\n        addressToken,\n      },\n      id,\n    )\n  }\n\n  const onChangeWeight = (weight: string) => {\n    onChangeTokenInfo(\n      {\n        ...mintSetup,\n        weight,\n      },\n      id,\n    )\n  }\n\n  const onChangeLock = (isLocked: boolean) => {\n    onChangeTokenInfo(\n      {\n        ...mintSetup,\n        isLocked,\n      },\n      id,\n    )\n  }\n\n  return (\n    <Row wrap={false}>\n      <Col flex=\"auto\">\n        <MintSelection\n          value={mintSetup.addressToken}\n          onChange={onChangeToken}\n          style={{ background: theme === 'dark' ? '#394360' : '#F2F4FA' }}\n        />\n      </Col>\n      <Col>\n        <WeightControl\n          tokenInfo={mintSetup}\n          onChangeWeight={onChangeWeight}\n          onChangeLock={onChangeLock}\n          onRemoveToken={() => onRemoveToken(id)}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default TokenSetup\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { BN, web3 } from '@project-serum/anchor'\nimport { MintActionStates } from '@senswap/balancer'\n\nimport { Button, Col, Row } from 'antd'\nimport Proportion from 'components/proportion'\nimport IonIcon from '@sentre/antd-ionicon'\nimport TokenSetup from './tokenSetup'\n\nimport { GENERAL_NORMALIZED_NUMBER, PoolCreatingStep } from 'constant'\nimport { notifyError, notifySuccess } from 'helper'\nimport { MintSetup } from '../index'\nimport configs from 'configs'\n\nconst DEFAULT_SWAP_FEE = new BN(2_500_000) // 0.25%\nconst DEFAULT_TAX_FEE = new BN(500_000) // 0.05%\nconst DEFAULT_EMPTY_TOKEN = {\n  addressToken: '',\n  weight: '',\n  isLocked: false,\n}\nconst TOKEN_LIMIT = 8\n\nexport type ListTokenSetupProps = {\n  setCurrentStep: (step: PoolCreatingStep) => void\n}\n\nconst ListTokenSetup = ({ setCurrentStep }: ListTokenSetupProps) => {\n  const [listMintSetting, setListMintSetting] = useState<MintSetup[]>([])\n  const [indexJustUpdated, setIndexJustUpdated] = useState(-1)\n  const [loading, setLoading] = useState(false)\n\n  const autoEstimateWeight = useCallback(() => {\n    let totalWeight = 100\n    // Locked mint\n    let lockedMintsAmount = 0\n    let lastUnlockIndex = -1\n    listMintSetting.forEach((mintSetting, idx) => {\n      const locked = mintSetting.isLocked || idx === indexJustUpdated\n      if (!locked) return (lastUnlockIndex = idx)\n      totalWeight -= Number(mintSetting.weight)\n      lockedMintsAmount++\n    })\n    if (totalWeight < 0) totalWeight = 0\n\n    // Unlocked mint\n    const unlockedMintsAmount = listMintSetting.length - lockedMintsAmount\n    let averageWeight = totalWeight / unlockedMintsAmount\n    const newListMintSetting = JSON.parse(\n      JSON.stringify(listMintSetting),\n    ) as MintSetup[]\n    newListMintSetting.forEach((mintSetting, idx) => {\n      const locked = mintSetting.isLocked || idx === indexJustUpdated\n      if (locked) return\n      if (idx === lastUnlockIndex)\n        return (mintSetting.weight = totalWeight.toFixed(2))\n      mintSetting.weight = averageWeight.toFixed(2)\n      return (totalWeight -= Number(mintSetting.weight))\n    })\n    if (JSON.stringify(listMintSetting) !== JSON.stringify(newListMintSetting))\n      setListMintSetting(newListMintSetting)\n  }, [indexJustUpdated, listMintSetting])\n\n  useEffect(() => {\n    autoEstimateWeight()\n  }, [autoEstimateWeight])\n\n  const onCreatePool = async () => {\n    try {\n      setLoading(true)\n      const mintsConfig = listMintSetting.map(({ addressToken, weight }) => {\n        const normalizeWeight = Number(weight) * GENERAL_NORMALIZED_NUMBER\n        return {\n          publicKey: new web3.PublicKey(addressToken),\n          action: MintActionStates.Active,\n          amountIn: new BN(0),\n          weight: new BN(normalizeWeight),\n        }\n      })\n      const { txId } = await window.balansol.initializePool(\n        DEFAULT_SWAP_FEE,\n        DEFAULT_TAX_FEE,\n        mintsConfig,\n        configs.sol.taxmanAddress,\n      )\n      notifySuccess('Create pool', txId)\n      setCurrentStep(PoolCreatingStep.addLiquidity)\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const onChangeTokenInfo = (mintSetting: MintSetup, index: number) => {\n    if (loading) return\n    const newListMintSetting = [...listMintSetting]\n    newListMintSetting[index] = { ...mintSetting }\n    setListMintSetting(newListMintSetting)\n    // Change weight\n    if (mintSetting.weight !== listMintSetting[index].weight)\n      setIndexJustUpdated(index)\n  }\n\n  const onAddNewToken = () => {\n    if (loading || listMintSetting.length >= TOKEN_LIMIT) return\n    setListMintSetting([...listMintSetting, { ...DEFAULT_EMPTY_TOKEN }])\n  }\n\n  const onRemoveToken = (index: number) => {\n    if (loading) return\n    setListMintSetting(listMintSetting.filter((e, i) => i !== index))\n  }\n\n  // Set default tokens new pool\n  useEffect(() => {\n    setListMintSetting([{ ...DEFAULT_EMPTY_TOKEN }, { ...DEFAULT_EMPTY_TOKEN }])\n  }, [])\n\n  const disabled = useMemo(() => {\n    if (listMintSetting.length < 2) return true\n    let sum = 0\n    for (const setting of listMintSetting) {\n      if (!setting.addressToken || !Number(setting.weight)) return true\n      sum += Number(setting.weight)\n    }\n    return sum !== 100\n  }, [listMintSetting])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row gutter={[0, 12]}>\n          <Col flex=\"auto\">Token</Col>\n          <Col>Weight</Col>\n          {listMintSetting.map((mintSetup, index) => (\n            <Col span={24} key={mintSetup.addressToken + index}>\n              <TokenSetup\n                tokenList={listMintSetting}\n                mintSetup={mintSetup}\n                onChangeTokenInfo={onChangeTokenInfo}\n                onRemoveToken={onRemoveToken}\n                id={index}\n              />\n            </Col>\n          ))}\n          {listMintSetting.length < TOKEN_LIMIT && (\n            <Col span={24}>\n              <Button\n                icon={<IonIcon name=\"add-outline\" />}\n                onClick={onAddNewToken}\n                ghost\n                disabled={loading}\n              >\n                Add a token\n              </Button>\n            </Col>\n          )}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Proportion tokenList={listMintSetting} />\n      </Col>\n      <Col span={24}>\n        <Row gutter={[16, 16]}>\n          <Col span={24}>\n            <Button\n              type=\"primary\"\n              onClick={onCreatePool}\n              disabled={disabled}\n              loading={loading}\n              block\n            >\n              Supply\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ListTokenSetup\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { PoolData, PoolState } from '@senswap/balancer'\nimport { account } from '@senswap/sen-js'\n\n/**\n * Interface & Utility\n */\n\nexport type PoolsState = Record<string, PoolData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'pools'\nconst initialState: PoolsState = {}\n\n/**\n * Actions\n */\n\nexport const getPools = createAsyncThunk(`${NAME}/getPools`, async () => {\n  const pools = await window.balansol.getAllPoolData()\n  let bulk: PoolsState = {}\n  for (const pool of pools) {\n    const poolData = pool.account as PoolData\n    const poolState = poolData.state as PoolState\n    if (poolState['deleted']) continue\n    bulk[pool.publicKey.toBase58()] = poolData\n  }\n  return bulk\n})\n\nexport const getPool = createAsyncThunk<\n  PoolsState,\n  { address: string },\n  { state: any }\n>(`${NAME}/getPool`, async ({ address }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid pool address')\n  const {\n    pools: { [address]: data },\n  } = getState()\n  if (data) return { [address]: data }\n\n  const poolData = await window.balansol.getPoolData(address)\n  return { [address]: poolData }\n})\n\nexport const upsetPool = createAsyncThunk<\n  PoolsState,\n  { address: string; data: PoolData },\n  { state: any }\n>(`${NAME}/upsetPool`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid pool address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const removePool = createAsyncThunk<\n  PoolsState,\n  { address: string },\n  { state: any }\n>(`${NAME}/removePool`, async ({ address }, { getState }) => {\n  const { pools } = getState()\n  if (!account.isAddress(address)) throw new Error('Invalid pool address')\n  if (!pools[address]) throw new Error('Pool address does not exist!')\n  const newPools = { ...pools }\n  delete newPools[address]\n  return newPools\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(getPools.fulfilled, (state, { payload }) => payload)\n      .addCase(\n        getPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(removePool.fulfilled, (state, { payload }) => payload),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getAnchorProvider, util } from '@sentre/senhub'\nimport { MintPrice, MintSymbol, useGetMintPrice } from '@sen-use/app'\nimport { web3 } from '@project-serum/anchor'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\n\nimport { notifyError, notifySuccess } from 'helper'\nimport { PoolCreatingStep } from 'constant'\nimport { AppDispatch, AppState } from 'model'\nimport { useOracles } from 'hooks/useOracles'\nimport { useMintBalance } from 'hooks/useMintBalance'\nimport { removePool } from 'model/pools.controller'\nimport { useWrapAndUnwrapSolIfNeed } from 'hooks/useWrapAndUnwrapSolIfNeed'\n\nexport type LiquidityInfoProps = {\n  poolAddress: string\n  setCurrentStep: (step: PoolCreatingStep) => void\n  amounts: string[]\n  onClose?: () => void\n}\n\nconst LiquidityInfo = ({\n  poolAddress,\n  setCurrentStep,\n  amounts,\n  onClose = () => {},\n}: LiquidityInfoProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const dispatch = useDispatch<AppDispatch>()\n  const [tokenPrice, setTokenPrice] = useState<number[]>([])\n  const [loadingAdd, setLoadingAdd] = useState(false)\n  const [loadingClose, setLoadingClose] = useState(false)\n  const [disabledSupply, setDisabledSupply] = useState(true)\n  const { decimalizeMintAmount } = useOracles()\n  const { getMintBalance } = useMintBalance()\n  const getPrice = useGetMintPrice()\n  const { createWrapSolTxIfNeed } = useWrapAndUnwrapSolIfNeed()\n\n  const fetchMarketData = useCallback(async () => {\n    const tokensPrice = await Promise.all(\n      poolData.mints.map(async (mint) => (await getPrice(mint)) || 0),\n    )\n    setTokenPrice(tokensPrice)\n  }, [getPrice, poolData.mints])\n\n  useEffect(() => {\n    fetchMarketData()\n  }, [fetchMarketData])\n\n  const onAddLiquidity = async () => {\n    try {\n      setLoadingAdd(true)\n      const txs: web3.Transaction[] = []\n      for (const idx in poolData.mints) {\n        const mintAddress = poolData.mints[idx]\n        if (!poolData.reserves[idx].isZero()) continue\n        const amount = await decimalizeMintAmount(amounts[idx], mintAddress)\n        const wrapSolTx = await createWrapSolTxIfNeed(\n          mintAddress.toBase58(),\n          amounts[idx],\n        )\n        if (wrapSolTx) txs.push(wrapSolTx)\n\n        const { transaction } = await window.balansol.initializeJoin(\n          poolAddress,\n          mintAddress,\n          amount,\n          false,\n        )\n        txs.push(transaction)\n      }\n\n      const anchorProvider = getAnchorProvider()!\n      const txIds = await anchorProvider.sendAll(\n        txs.map((tx) => {\n          return { tx, signers: [] }\n        }),\n      )\n      notifySuccess('Fund pool', txIds[txIds.length])\n      setCurrentStep(PoolCreatingStep.confirmCreatePool)\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setLoadingAdd(false)\n    }\n  }\n\n  const onClosePool = async () => {\n    try {\n      setLoadingClose(true)\n      const { txId } = await window.balansol.closePool(poolAddress)\n      notifySuccess('Close pool', txId)\n      onClose()\n      dispatch(removePool({ address: poolAddress }))\n    } catch (error) {\n      notifyError(error)\n    } finally {\n      setLoadingClose(false)\n    }\n  }\n\n  const totalValue = useMemo(() => {\n    let total = 0\n    amounts.forEach((amount, idx) => {\n      if (!poolData.reserves[idx].isZero()) return\n      total += Number(amount) * (tokenPrice[idx] || 0)\n    })\n    return total\n  }, [amounts, poolData.reserves, tokenPrice])\n\n  const checkAmountIns = useCallback(async () => {\n    const { mints } = poolData\n    for (let i in amounts) {\n      const { balance } = await getMintBalance(mints[i].toBase58(), true)\n      if (Number(amounts[i]) > balance || Number(amounts[i]) <= 0)\n        return setDisabledSupply(true)\n    }\n    return setDisabledSupply(false)\n  }, [amounts, getMintBalance, poolData])\n\n  useEffect(() => {\n    checkAmountIns()\n  }, [checkAmountIns])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          {poolData.mints.map((mint, idx) => {\n            const mintValue = Number(amounts[idx]) * (tokenPrice[idx] || 0)\n            return (\n              <Col span={24} key={mint.toBase58()}>\n                <Row key={idx}>\n                  <Col flex={1}>\n                    <Space>\n                      <Typography.Text type=\"secondary\">\n                        <MintSymbol mintAddress={mint.toBase58()} />\n                      </Typography.Text>\n                      <Typography.Text type=\"secondary\">\n                        (<MintPrice mintAddress={mint} />)\n                      </Typography.Text>\n                    </Space>\n                  </Col>\n                  <Col>\n                    <Typography.Text>\n                      {util.numeric(mintValue).format('$0,0.[0000]')}\n                    </Typography.Text>\n                  </Col>\n                </Row>\n              </Col>\n            )\n          })}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row align=\"middle\">\n          <Col flex={1}>\n            <Typography.Text type=\"secondary\">Total value</Typography.Text>\n          </Col>\n          <Col>\n            <Typography.Title level={3}>\n              ${util.numeric(totalValue).format('0,0.[0000]')}\n            </Typography.Title>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={12}>\n        <Button\n          type=\"ghost\"\n          disabled={loadingAdd}\n          loading={loadingClose}\n          onClick={onClosePool}\n          block\n        >\n          Delete pool\n        </Button>\n      </Col>\n      <Col span={12}>\n        <Button\n          type=\"primary\"\n          onClick={onAddLiquidity}\n          disabled={disabledSupply || loadingClose}\n          loading={loadingAdd}\n          block\n        >\n          Supply\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default LiquidityInfo\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useGetMintDecimals, util } from '@sentre/senhub'\nimport { MintSymbol, useGetMintPrice } from '@sen-use/app'\n\nimport { Button, Col, Row, Tooltip, Typography } from 'antd'\nimport LiquidityInfo from './liquidityInfo'\nimport MintInput from 'components/mintInput'\n\nimport { PoolCreatingStep } from 'constant'\nimport { AppState } from 'model'\nimport { useOracles } from 'hooks/useOracles'\nimport { calcNormalizedWeight } from 'helper/oracles'\n\nexport type AddLiquidityProps = {\n  setCurrentStep: (step: PoolCreatingStep) => void\n  onClose?: () => void\n  poolAddress: string\n}\n\nconst AddLiquidity = ({\n  setCurrentStep,\n  poolAddress,\n  onClose = () => {},\n}: AddLiquidityProps) => {\n  const [inputAmounts, setInputAmounts] = useState<string[]>([])\n  const [suggestedAmounts, setSuggestAmounts] = useState<string[]>([])\n  const [baseTokenIndex, setBaseTokenIndex] = useState(0)\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const { undecimalizeMintAmount } = useOracles()\n  const getPrice = useGetMintPrice()\n  const getDecimals = useGetMintDecimals()\n\n  const isVisibleSuggestion = (idx: number) =>\n    baseTokenIndex !== idx &&\n    Number(inputAmounts[baseTokenIndex]) > 0 &&\n    Number(suggestedAmounts[idx]) > 0 &&\n    Number(suggestedAmounts[idx]) !== Number(inputAmounts[idx])\n\n  const initInputAmountFromPoolData = useCallback(async () => {\n    if (!poolData || inputAmounts.length !== 0) return\n    const initInputAmounts = await Promise.all(\n      poolData.mints.map((mint, idx) => {\n        if (Number(inputAmounts[idx])) return inputAmounts[idx]\n        return undecimalizeMintAmount(poolData.reserves[idx], mint)\n      }),\n    )\n    setInputAmounts(initInputAmounts)\n  }, [inputAmounts, poolData, undecimalizeMintAmount])\n\n  useEffect(() => {\n    initInputAmountFromPoolData()\n  }, [initInputAmountFromPoolData])\n\n  const onApplySuggestion = async (index: number) => {\n    const newAmounts = [...inputAmounts]\n    newAmounts[index] = suggestedAmounts[index]\n    setInputAmounts(newAmounts)\n  }\n\n  const onUpdateAmount = async (amount: string, baseIdx: number) => {\n    const newAmounts = [...inputAmounts]\n    newAmounts[baseIdx] = amount\n    setBaseTokenIndex(baseIdx)\n    setInputAmounts(newAmounts)\n    // handle suggestion for other tokens\n    const { mints, weights } = poolData\n    const basePrice = await getPrice(mints[baseIdx])\n\n    if (!basePrice) return null\n    const baseNormalizedWeight = calcNormalizedWeight(weights, weights[baseIdx])\n\n    const newSuggestAmounts = await Promise.all(\n      mints.map(async (mint, index) => {\n        if (baseIdx === index) return ''\n        const price = await getPrice(mint)\n        if (!price) return ''\n\n        const appliedNormalizedWeight = calcNormalizedWeight(\n          weights,\n          weights[index],\n        )\n        const decimals = await getDecimals({ mintAddress: mint.toBase58() })\n        const suggestedAmount = (\n          ((basePrice * Number(amount)) / baseNormalizedWeight) *\n          (appliedNormalizedWeight / price)\n        ).toFixed(decimals)\n\n        return suggestedAmount\n      }),\n    )\n    setSuggestAmounts(newSuggestAmounts)\n  }\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row justify=\"center\" gutter={[8, 8]}>\n          {poolData.mints.map((mint, idx) => {\n            const normalizedWeight = calcNormalizedWeight(\n              poolData.weights,\n              poolData.weights[idx],\n            )\n            return (\n              <Col span={24} key={`${mint.toBase58() + idx}`}>\n                <MintInput\n                  amount={inputAmounts[idx]}\n                  selectedMint={mint.toBase58()}\n                  onChangeAmount={\n                    !poolData.reserves[idx].toNumber()\n                      ? (value: string) => onUpdateAmount(value, idx)\n                      : undefined\n                  }\n                  mintLabel={\n                    <Fragment>\n                      <Typography.Text>\n                        <MintSymbol mintAddress={mint.toBase58() || ''} />\n                      </Typography.Text>\n                      <Typography.Text>\n                        {util.numeric(normalizedWeight).format('0,0.[0000]%')}\n                      </Typography.Text>\n                    </Fragment>\n                  }\n                  placeholder={suggestedAmounts[idx]}\n                  force\n                  ratioButton={\n                    isVisibleSuggestion(idx) && (\n                      <Tooltip title={suggestedAmounts[idx]}>\n                        <Button\n                          type=\"text\"\n                          onClick={() => onApplySuggestion(idx)}\n                          style={{ marginRight: -15 }}\n                        >\n                          Apply suggestion\n                        </Button>\n                      </Tooltip>\n                    )\n                  }\n                />\n              </Col>\n            )\n          })}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <LiquidityInfo\n          onClose={onClose}\n          amounts={inputAmounts}\n          poolAddress={poolAddress}\n          setCurrentStep={setCurrentStep}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default AddLiquidity\n","import { util } from '@sentre/senhub'\n\nimport { Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\n\nimport { MintSetup } from '../index'\nimport { PoolInfo } from './index'\n\nexport const COLUMNS_CONFIG = [\n  {\n    title: 'TOKEN',\n    dataIndex: 'token',\n    render: (token: MintSetup) => {\n      return (\n        <Typography.Text>\n          <Space size={8}>\n            <MintAvatar mintAddress={token.addressToken} />\n            <MintSymbol mintAddress={token.addressToken} />\n          </Space>\n        </Typography.Text>\n      )\n    },\n  },\n  {\n    title: 'WEIGHT',\n    dataIndex: 'token',\n    render: (token: MintSetup) => {\n      return (\n        <Typography.Text style={{ fontWeight: 700 }}>\n          {Number(token.weight)}\n        </Typography.Text>\n      )\n    },\n  },\n  {\n    title: 'AMOUNT',\n    dataIndex: 'amount',\n    render: (amount: number, poolData: PoolInfo) => {\n      return (\n        <Typography.Text>\n          {util\n            .numeric(amount)\n            .format(`0,0.[${'0'.repeat(poolData.token.decimal || 9)}]a`)}\n        </Typography.Text>\n      )\n    },\n  },\n  {\n    title: 'VALUE',\n    dataIndex: 'value',\n    render: (value: number, poolData: PoolInfo) => {\n      return (\n        <Typography.Text>\n          {util.numeric(value).format(`$0,0.[0000]`)}\n        </Typography.Text>\n      )\n    },\n  },\n]\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { util, tokenProvider } from '@sentre/senhub'\nimport { useGetMintPrice } from '@sen-use/app'\n\nimport { Button, Card, Col, Row, Table, Typography } from 'antd'\nimport { MintSetup } from '../index'\nimport { COLUMNS_CONFIG } from './columns'\n\nimport { AppState } from 'model'\nimport { useOracles } from 'hooks/useOracles'\nimport { getMintInfo } from 'helper/oracles'\nimport './index.less'\n\nexport type PoolInfo = {\n  token: MintSetup\n  amount: number\n  value: number\n}\n\nexport type ConfirmPoolInfoProps = {\n  onConfirm: () => void\n  poolAddress: string\n}\n\nconst ConfirmPoolInfo = ({ onConfirm, poolAddress }: ConfirmPoolInfoProps) => {\n  const poolData = useSelector((state: AppState) => state.pools[poolAddress])\n  const [poolInfo, setPoolInfo] = useState<PoolInfo[]>([])\n  const [poolTotalValue, setPoolTotalValue] = useState(0)\n\n  const { undecimalizeMintAmount } = useOracles()\n  const getPrice = useGetMintPrice()\n\n  const getPoolInfo = useCallback(async () => {\n    if (!poolData) {\n      setPoolInfo([])\n      return setPoolTotalValue(0)\n    }\n    const { mints, reserves } = poolData\n    let totalValue = 0\n    const newPoolInfo: PoolInfo[] = await Promise.all(\n      mints.map(async (mint, idx) => {\n        const mintAddress = mint.toBase58()\n        const mintInfo = getMintInfo(poolData, mint)\n        const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n        let mintAmount = await undecimalizeMintAmount(\n          reserves[idx],\n          mintAddress,\n        )\n        const price = await getPrice(mintAddress)\n        let mintTotalValue = Number(mintAmount) * (price || 0)\n        totalValue += mintTotalValue\n        return {\n          token: {\n            addressToken: mintAddress,\n            weight: util.numeric(mintInfo.normalizedWeight).format('0,0.[00]'),\n            isLocked: true,\n            decimal: tokenInfo?.decimals,\n          },\n          amount: Number(mintAmount),\n          value: mintTotalValue,\n        }\n      }),\n    )\n    setPoolTotalValue(totalValue)\n    setPoolInfo(newPoolInfo)\n  }, [getPrice, poolData, undecimalizeMintAmount])\n\n  useEffect(() => {\n    getPoolInfo()\n  }, [getPoolInfo])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Table\n          columns={COLUMNS_CONFIG}\n          dataSource={poolInfo}\n          rowClassName={(_, index) => (index % 2 ? 'odd-row' : 'even-row')}\n          pagination={false}\n          rowKey={(record) => record.token.addressToken}\n          scroll={{ x: true }}\n        />\n      </Col>\n      <Col span={24}>\n        <Card\n          style={{\n            borderRadius: '8px',\n          }}\n          bodyStyle={{ padding: 16 }}\n          bordered={false}\n          className=\"card-total-value\"\n        >\n          <Row align=\"middle\">\n            <Col flex={1}>\n              <Typography.Text type=\"secondary\">Total value</Typography.Text>\n            </Col>\n            <Col>\n              <Typography.Title level={3}>\n                ${util.numeric(poolTotalValue).format('0,0.[00]')}\n              </Typography.Title>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          onClick={onConfirm}\n          style={{ borderRadius: 40 }}\n          block\n          size=\"large\"\n        >\n          Confirm\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConfirmPoolInfo\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useWalletAddress } from '@sentre/senhub'\n\nimport { Col, Row, Steps, Typography } from 'antd'\nimport ListTokenSetup from './listTokenSetup'\nimport AddLiquidity from './addLiquidity'\nimport ConfirmPoolInfo from './confirmPoolInfo'\n\nimport { AppState } from 'model'\nimport { PoolCreatingStep } from 'constant'\nimport { PoolState } from '@senswap/balancer'\n\nconst { Step } = Steps\n\nexport type MintSetup = {\n  addressToken: string\n  weight: string\n  isLocked: boolean\n  decimal?: number\n}\n\nexport type ModalNewPoolProps = { onClose: () => void }\n\nconst ModalNewPool = ({ onClose = () => {} }: ModalNewPoolProps) => {\n  const pools = useSelector((state: AppState) => state.pools)\n  const [currentStep, setCurrentStep] = useState(PoolCreatingStep.setupToken)\n  const [poolAddress, setPoolAddress] = useState('')\n  const walletAddress = useWalletAddress()\n\n  const recoverCreatePoolProcess = useCallback(async () => {\n    if (poolAddress) return\n    for (const poolAddress in pools) {\n      const poolData = pools[poolAddress]\n      if (poolData.authority.toBase58() !== walletAddress) continue\n      if (!(poolData.state as PoolState)['uninitialized']) continue\n      setCurrentStep(PoolCreatingStep.addLiquidity)\n      return setPoolAddress(poolAddress)\n    }\n    return setPoolAddress('')\n  }, [poolAddress, pools, walletAddress])\n\n  useEffect(() => {\n    recoverCreatePoolProcess()\n  }, [recoverCreatePoolProcess])\n\n  const creatingPoolProcess = useMemo(() => {\n    switch (currentStep) {\n      case PoolCreatingStep.setupToken:\n        return <ListTokenSetup setCurrentStep={setCurrentStep} />\n      case PoolCreatingStep.addLiquidity:\n        if (!pools[poolAddress]) return null\n        return (\n          <AddLiquidity\n            setCurrentStep={setCurrentStep}\n            poolAddress={poolAddress}\n            onClose={onClose}\n          />\n        )\n      case PoolCreatingStep.confirmCreatePool:\n        if (!pools[poolAddress]) return null\n        return <ConfirmPoolInfo onConfirm={onClose} poolAddress={poolAddress} />\n    }\n  }, [currentStep, onClose, poolAddress, pools])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Typography.Title level={4}>New Pool</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Steps size=\"small\" current={currentStep}>\n          <Step title=\"Select tokens & weights\" />\n          <Step title=\"Add liquidity\" />\n          <Step title=\"Confirm\" />\n        </Steps>\n      </Col>\n      <Col span={24}>{creatingPoolProcess}</Col>\n    </Row>\n  )\n}\n\nexport default ModalNewPool\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolState } from '@senswap/balancer'\nimport { useWalletAddress } from '@sentre/senhub'\n\nimport { Button, Modal } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ModalNewPool from './modalNewPool'\nimport { AppState } from 'model'\n\nexport type TokenInfo = {\n  addressToken: string\n  weight: string\n  isLocked: boolean\n}\n\nconst NewPool = () => {\n  const pools = useSelector((state: AppState) => state.pools)\n  const [visible, setVisible] = useState(false)\n  const [isInProcess, setIsInProcess] = useState(false)\n  const walletAddress = useWalletAddress()\n\n  const checkUninitializedPool = useCallback(async () => {\n    for (const poolAddress in pools) {\n      const poolData = pools[poolAddress]\n      if (poolData.authority.toBase58() !== walletAddress) continue\n      if (!(poolData.state as PoolState)['uninitialized']) continue\n      return setIsInProcess(true)\n    }\n    return setIsInProcess(false)\n  }, [pools, walletAddress])\n\n  useEffect(() => {\n    checkUninitializedPool()\n  }, [checkUninitializedPool])\n\n  return (\n    <Fragment>\n      <Button\n        icon={<IonIcon name={!isInProcess ? 'add-outline' : 'sync-outline'} />}\n        onClick={() => setVisible(true)}\n        style={{ borderRadius: 40 }}\n        block\n        ghost\n      >\n        {!isInProcess ? 'New Pool' : 'Resume'}\n      </Button>\n      <Modal\n        open={visible}\n        onCancel={() => {\n          setVisible(false)\n        }}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose\n        centered\n        width={572}\n      >\n        <ModalNewPool onClose={() => setVisible(false)} />\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default NewPool\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { FilterPools } from 'constant'\n\n/**\n * Interface & Utility\n */\n\nexport type SearchState = {\n  searchInput: string\n  filterPool: FilterPools\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'searchPools'\nconst initialState: SearchState = {\n  searchInput: '',\n  filterPool: FilterPools.AllPools,\n}\n\n/**\n * Actions\n */\n\nexport const setFilterPool = createAsyncThunk(\n  `${NAME}/setSearchSelection`,\n  async ({ filterPool }: { filterPool: FilterPools }) => {\n    return {\n      filterPool: filterPool,\n    }\n  },\n)\n\nexport const setSearchInput = createAsyncThunk(\n  `${NAME}/setSearchInput`,\n  async ({ searchText }: { searchText: string }) => {\n    return {\n      searchInput: searchText,\n    }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        setFilterPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setSearchInput.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Col, Input, Row, Select } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { FilterPools } from 'constant'\nimport { AppDispatch, AppState } from 'model'\nimport { setSearchInput, setFilterPool } from 'model/searchPools.controller'\n\nconst Search = () => {\n  const { searchInput, filterPool } = useSelector(\n    (state: AppState) => state.searchPools,\n  )\n\n  const dispatch = useDispatch<AppDispatch>()\n\n  const onSearch = (value: string) => {\n    dispatch(setSearchInput({ searchText: value }))\n  }\n\n  return (\n    <Row className=\"search-pools\" gutter={[12, 12]}>\n      <Col md={8} xs={10}>\n        <Select\n          value={filterPool}\n          onChange={(value: FilterPools) => {\n            dispatch(setFilterPool({ filterPool: value }))\n          }}\n          style={{ width: '100%', height: '32px' }}\n          className=\"category\"\n        >\n          <Select.Option value={FilterPools.AllPools}>All pools</Select.Option>\n          <Select.Option value={FilterPools.DepositedPools}>\n            Deposited pools\n          </Select.Option>\n          <Select.Option value={FilterPools.YourPools}>\n            Your pools\n          </Select.Option>\n        </Select>\n      </Col>\n      <Col flex={'1 0'}>\n        <Input\n          placeholder=\"Search\"\n          value={searchInput}\n          prefix={\n            searchInput ? (\n              <Button\n                type=\"text\"\n                style={{\n                  width: 'auto',\n                  height: 'auto',\n                  background: 'transparent',\n                  marginLeft: -7,\n                }}\n                onClick={() => onSearch('')}\n                icon={<IonIcon name=\"close-outline\" />}\n              />\n            ) : (\n              <IonIcon\n                style={{ fontSize: '24px', marginLeft: -5 }}\n                name=\"search-outline\"\n              />\n            )\n          }\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            onSearch(e.target.value)\n          }}\n          style={{ borderRadius: '24px', height: '32px' }}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Search\n","import { Infix, useInfix } from '@sentre/senhub'\nimport { Col, Row } from 'antd'\n\nimport ListPools from './listPools'\nimport New from './newPool'\nimport Search from './search'\n\nconst Pools = () => {\n  const infix = useInfix()\n\n  const isMobile = infix < Infix.md\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\" align=\"middle\">\n      <Col xs={24} md={20} lg={16} xl={12} xxl={8}>\n        <Row gutter={[12, 12]} justify=\"space-between\">\n          <Col flex=\"auto\">\n            <Search />\n          </Col>\n          <Col span={isMobile ? 24 : undefined}>\n            <New />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24} />\n      <Col xs={24} md={20} lg={16} xl={12} xxl={8}>\n        <ListPools />\n      </Col>\n      <Col span={24} />\n    </Row>\n  )\n}\nexport default Pools\n","import { Row, Col, Spin, Typography, Space } from 'antd'\n\nimport './index.less'\n\nconst Loading = () => {\n  return (\n    <div className=\"loading-screen\" style={{ display: 'block' }}>\n      <Row gutter={[24, 24]}>\n        <Col span={24} style={{ height: 256 }} />\n        <Col span={24}>\n          <Row gutter={[24, 24]} justify=\"center\">\n            <Col>\n              <Space direction=\"vertical\" align=\"center\" size={32}>\n                <Spin size=\"large\" />\n                <Typography.Title level={5} style={{ textAlign: 'center' }}>\n                  Welcome to Balansol. The application is loading...\n                </Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default Loading\n","import {\n  Fragment,\n  FunctionComponent,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react'\nimport { useDispatch } from 'react-redux'\nimport { tokenProvider } from '@sentre/senhub'\n\nimport Loading from '../loading'\n\nimport { getPools, upsetPool } from 'model/pools.controller'\nimport { AppDispatch } from 'model'\n\n// Watch id\nlet watchId = 0\n\nconst PoolWatcher: FunctionComponent = (props) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const [loading, setLoading] = useState(true)\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      await tokenProvider.all()\n      await dispatch(getPools()).unwrap()\n      setLoading(false)\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of pools',\n      })\n    }\n  }, [dispatch])\n\n  // Watch account changes\n  const watchData = useCallback(async () => {\n    if (watchId) return console.warn('Already watched')\n    watchId = window.balansol.watch((er: string | null, re) => {\n      if (er) return console.error(er)\n      if (re) return dispatch(upsetPool({ address: re.address, data: re.data }))\n    }, [])\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await window.balansol.unwatch(watchId)\n        } catch (er) {}\n      })()\n      watchId = 0\n    }\n  }, [fetchData, watchData])\n\n  if (loading) return <Loading />\n  return <Fragment>{props.children}</Fragment>\n}\n\nexport default PoolWatcher\n","import {\n  Fragment,\n  FunctionComponent,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react'\nimport { getAnchorProvider, useWalletAddress, util } from '@sentre/senhub'\nimport Balancer from '@senswap/balancer'\n\nimport configs from 'configs'\nimport PoolWatcher from './pool.watcher'\n\nexport const AppWatcher: FunctionComponent = (props) => {\n  const [loading, setLoading] = useState(true)\n  const address = useWalletAddress()\n\n  const watchWallet = useCallback(() => {\n    if (!util.isAddress(address)) return\n    // init window balancer\n    const anchorProvider = getAnchorProvider()!\n    window.balansol = new Balancer(anchorProvider, configs.sol.balancerAddress)\n    setLoading(false)\n  }, [address])\n\n  useEffect(() => {\n    watchWallet()\n  }, [watchWallet])\n\n  if (loading) return <Fragment />\n  return <PoolWatcher>{props.children}</PoolWatcher>\n}\n","import { useEffect } from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport { web3 } from '@project-serum/anchor'\nimport { JupiterProvider } from '@jup-ag/react-hook'\nimport {\n  useWalletAddress,\n  useSetBackground,\n  useAppRoute,\n  util,\n} from '@sentre/senhub'\n\nimport { Col, Empty, Row } from 'antd'\nimport Navigation from './navigation'\nimport PoolDetails from './poolDetails'\nimport Swap from './swap'\nimport Pools from './pools'\n\nimport configs from 'configs'\nimport { AppWatcher } from 'components/watcher'\nimport BalansolPoolsProvider from 'hooks/useBalansolPools'\nimport BalansolProvider from 'hooks/useSwap'\n\nimport BG_DARK from 'static/images/background-dark.png'\nimport BG_LIGHT from 'static/images/background-light.png'\nimport './index.less'\n\nconst {\n  sol: { connection, balancerAddress },\n} = configs\n\nconst View = () => {\n  const setBackground = useSetBackground()\n  const { extend } = useAppRoute()\n  const walletAddress = useWalletAddress()\n\n  useEffect(() => {\n    setBackground({ light: BG_LIGHT, dark: BG_DARK })\n  }, [setBackground])\n\n  if (!util.isAddress(balancerAddress))\n    return (\n      <Empty\n        description={'Coming soon.'}\n        image={Empty.PRESENTED_IMAGE_SIMPLE}\n      />\n    )\n\n  return (\n    <JupiterProvider\n      connection={connection}\n      cluster={'mainnet-beta'}\n      userPublicKey={new web3.PublicKey(walletAddress)}\n    >\n      <AppWatcher>\n        {/* Balansol provider context */}\n        <BalansolPoolsProvider>\n          <BalansolProvider>\n            <Row gutter={[24, 24]} style={{ paddingTop: 32 }}>\n              <Col span={24}>\n                <Navigation />\n              </Col>\n              <Col span={24}>\n                <Switch>\n                  <Route path={extend('/details')} component={PoolDetails} />\n                  <Route path={extend('/swap')}>\n                    <Swap />\n                  </Route>\n                  <Route path={extend('/pools')}>\n                    <Pools />\n                  </Route>\n                  <Route path={extend('/farms')}>\n                    <Redirect to=\"/app/sen_farming_v2?autoInstall=true\" />\n                  </Route>\n                  <Redirect\n                    from=\"*\"\n                    to={extend('/swap', { absolutePath: true })}\n                  />\n                </Switch>\n              </Col>\n            </Row>\n          </BalansolProvider>\n        </BalansolPoolsProvider>\n      </AppWatcher>\n    </JupiterProvider>\n  )\n}\n\nexport default View\n","import { PublicKey } from '@solana/web3.js'\nimport BN from 'bn.js'\n\n// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint' ||\n    val instanceof PublicKey ||\n    val instanceof BN ||\n    Buffer.isBuffer(val)\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\n/**\n * Interface & Utility\n */\n\nexport type State = {\n  counter: number\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'main'\nconst initialState: State = {\n  counter: 0,\n}\n\n/**\n * Actions\n */\n\nexport const increaseCounter = createAsyncThunk<State, void, { state: any }>(\n  `${NAME}/increaseCounter`,\n  async (_, { getState }) => {\n    const {\n      main: { counter },\n    } = getState()\n    return { counter: counter + 1 }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      increaseCounter.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools } from 'model/devTools'\n\nimport main from 'model/main.controller'\nimport pools from 'model/pools.controller'\nimport swap from 'model/swap.controller'\nimport searchPools from 'model/searchPools.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false,\n    }),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    main,\n    pools,\n    swap,\n    searchPools,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport { AntdProvider } from '@sentre/senhub'\n\nimport View from 'view'\n\nimport model from 'model'\nimport configs from 'configs'\n\nimport 'static/styles/light.less'\nimport 'static/styles/dark.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <AntdProvider appId={appId} prefixCls={appId}>\n      <Provider store={model}>\n        <View />\n      </Provider>\n    </AntdProvider>\n  )\n}\n\nexport * from 'static.app'\n"],"names":["Object","defineProperty","exports","value","enumerable","get","_logo","default","_README","_panel","_interopRequireDefault","require","_panel2","_panel3","obj","__esModule","panels","VISIBLE_ROUTES","HOMEPAGE_TABS","label","disabled","Tooltip","title","to","useAppRoute","pathname","useLocation","activeRoute","useMemo","temp","split","length","route","Row","gutter","justify","Col","Segmented","className","options","onChange","val","toString","block","Fragment","InputStyle","max","onValue","inputStyle","InputRight","styles","props","onAmount","useCallback","parseFloat","InputNumber","stringMode","style","width","fontSize","onBlur","e","target","decimalSeparator","formatter","chars","replace","formatterNumber","parser","Number","PoolTabs","QueryParams","PoolStatus","PoolCreatingStep","GENERAL_NORMALIZED_NUMBER","PRECISION","PriceImpact","FilterPools","shared","appId","process","url","development","production","devnet","connection","Connection","rpc","balancerAddress","taxmanAddress","bidMintDefault","askMintDefault","testnet","mainnet","generator","origin","version","base","tvl","this","detailTvl","manifest","env","sol","net","api","notifySuccess","content","txId","window","notify","type","description","onClick","open","util","notifyError","er","console","log","message","priceImpactColor","priceImpact","goodSwap","acceptableSwap","getMintState","mintStates","idx","keys","config","Content","percent","currentPercent","onChangeValue","tooltipContent","span","flex","Space","size","Typography","textTransform","name","bordered","InputLeft","placeholder","controls","poolAddress","poolData","useSelector","state","pools","currentFee","fee","toNumber","currentTaxFee","taxFee","setFee","useState","setTaxFee","loading","setLoading","authority","toBase58","Button","ghost","async","updateFee","balansol","BN","err","statusColor","statusContent","align","direction","Badge","status","thawPool","icon","freezePool","FreezeAndThawToken","mints","actions","mintActions","setMintActions","map","mint","mintState","index","newMintActions","MintActionStates","onClickToken","mintAddress","ellipsis","fontWeight","color","updateActions","JSON","stringify","Tabs","tab","newOwner","setNewOwner","Input","account","transferOwnership","utilsBN","decimalize","num","decimals","Error","n","m","mul","substring","repeat","undecimalize","numBN","integer","fraction","pop","join","getMintInfo","mintIdx","indexOf","web3","findMintIndex","normalizedWeight","calcNormalizedWeight","weights","reserve","reserves","treasury","treasuries","complement","calcOutGivenInSwap","amountIn","balanceOut","balanceIn","weightOut","weightIn","swapFee","numBalanceOut","numBalanceIn","numAmountIn","numSwapFee","ratioBeforeAfterBalance","ratioInOutWeight","calcInGivenOutSwap","amountOut","weightToken","numWeightsIn","BigInt","reduce","pre","curr","calcSpotPriceExactInSwap","amount","poolPairData","decimalIn","decimalOut","Bi","Bo","wi","wo","Ai","f","calcPriceImpactSwap","bidAmount","currentSpotPrice","spotPriceAfterSwap","calcLpForTokensZeroPriceImpact","tokenAmountIns","balanceIns","weightIns","totalSupply","decimalIns","totalBptOut","i","nomalizedWeight","LpPrice","Ao","Math","pow","spotPriceAfterSwapTokenInForExactBPTOut","calcDepositPriceImpact","amountIns","lpOut","impactPrice","numTotalSupply","numBalanceIns","numAmountIns","balanceRatiosWithFee","Array","invariantRatioWithFees","invariantRatio","amountInWithoutFee","nonTaxableAmount","calcBptOutGivenExactTokensIn","toFixed","calcWithdrawPriceImpact","lpAmount","indexTokenOut","balanceOuts","weightOuts","decimalOuts","isZero","tokenAmountOut","tokenAmounts","_","tokenAmount","balance","lpAmountIn","lpTotalSupply","decimal","numBalance","amountOutWithoutFee","taxableAmount","calcTokenOutGivenExactLpIn","lpOutZeroPriceImpact","numLpAmount","calcPriceImpact","p","forEach","elmInfo","s","Token","tokensInfo","setTokensInfo","theme","useTheme","fetchWeights","nextWeights","addressToken","weight","format","isLocked","validateWeight","numWeight","remainingPercent","values","actualWeight","useEffect","wrap","prefix","borderRadius","background","addonAfter","newTokensInfo","amountTokenNotLock","filter","token","firstTime","nextWeight","newWeight","onWeightChange","shape","newWeights","lockWeight","updateWeights","Card","echarts","TitleComponent","GridComponent","PieChart","CanvasRenderer","LegendComponent","buildOptions","data","legend","bottom","textStyle","tooltip","trigger","borderWidth","params","ticket","callback","backgroundColor","extraCssText","series","radius","avoidLabelOverlap","top","show","position","labelLine","symbol","STYLE","light","dark","option","notMerge","lazyUpdate","poolWeights","setPoolWeights","getDecimals","useGetMintDecimals","doughnutChartData","newData","Promise","all","tokenInfo","tokenProvider","level","Spin","tip","spinning","TooltipComponent","BC","xAxis","axisLine","axisTick","yAxis","splitLine","axisLabel","valueFormatter","itemStyle","grid","left","right","SECOND_PER_MILLISECOND","TimeFormat","DateHelper","milliSeconds","Date","valueOf","setMilliSeconds","seconds","date","ymd","moment","YMD","ymdFrom","ymdTo","dates","dateFrom","fromYmd","dateTo","push","addDay","dateFormat","subtractDay","dayAmount","subtract","fromSeconds","add","TransLog","programId","programInfo","signature","blockTime","time","owner","actionType","actionTransfers","programTransfer","ActionInfo","address","preBalance","postBalance","ActionTransfer","source","destination","DEFAULT_LIMIT","Solana","conn","lastSignature","limit","before","getConfirmedSignaturesForAddress2","signatures","confirmedTransactions","promiseTransGroup","offset","skip","signaturesGroup","slice","getParsedConfirmedTransactions","transGroups","transGroup","concat","currentTime","getTime","secondFrom","secondTo","floor","programPublicKey","PublicKey","isStop","confirmedSignatureInfos","fetchSignatures","info","fetchConfirmTransaction","ParsedType","SwapActionType","PoolTransLogService","parseAction","transLog","configs","filterTransLog","solana","transLogs","lastSignatureTmp","smartLimit","confirmedTrans","fetchTransactions","trans","transaction","parseTransLog","meta","postTokenBalances","preTokenBalances","postBalances","preBalances","innerInstructionData","innerInstructions","instructions","instructionData","mapAccount","parseAccountInfo","accountKeys","isParsedInstruction","parseListActionTransfer","undefined","parsed","actionTransfer","action","actionParsed","Transfer","parsedAction","parseActionTransfer","parsedTransfer","lamports","amountTransfer","has","mapAccountInfo","Map","accountIndex","uiTokenAmount","pubkey","set","accountData","String","programDataEncode","swapData","program","coder","instruction","decode","Swap","error","DailyReport","totalTrans","DailyReportService","parserDailyReport","reports","parseDailyReport","mergeDailyReport","dailyReports","transfer","report","key","results","PoolService","constructor","poolTransLogService","dailyReportService","TokenProvider","getPoolData","getUsd","amountBigint","mintInfo","findByAddress","extensions","cgkData","coingeckoId","price","fetchTransLog","timeFrom","timeTo","db","PDB","createInstance","cacheTransLog","getItem","sort","a","b","fistTransLog","lastTransLog","beginTransLogs","collect","setItem","getDailyInfo","mapTimeDailyReport","includes","mapTimeTotal","volume","currentReport","prevDate","totalFee","useOracles","decimalizeMintAmount","undecimalizeMintAmount","useTVL","TVL","setTVL","getPrice","useGetMintPrice","getTVL","totalValueLocked","tokenPrice","reserver","updateTvl","useStat","apy","setApy","dailyInfo","setDailyInfo","fetchVolume","poolStatService","DataLoader","cache","ttl","dateCount","roi","isFinite","useVolume24h","chartData","setChartData","vol24h","today","yesterday","getHours","buildResult","useAccountBalance","accountAddress","walletAddress","useWalletAddress","useWalletBalance","useAccountSelector","accounts","useMintDecimals","DEFAULT_EMPTY_ADDRESS","useAccountBalanceByMintAddress","setAccountAddress","splt","bg","mintLpt","lg","md","xs","tvlBg","Skeleton","active","paragraph","rows","apyBg","myContributeBg","PoolAvatar","Avatar","whiteSpace","maxCount","keyword","setKeyword","search","toLowerCase","bodyStyle","padding","suffix","marginRight","hoverable","display","margin","Divider","selectedMint","visible","onClose","mintsSearched","setMintsSearched","Modal","closeIcon","footer","destroyOnClose","centered","onCancel","height","overflow","mintLabel","mintAvatar","setVisible","useWrapAccountBalance","wsol","NATIVE_MINT","totalSolBalance","total","PROPORTIONS","portionValue","onChangeAmount","bigintBalance","proportionActive","activePortion","proportion","proportionVal","bg_default","Radio","newAmountBN","divRound","newAmount","MintInput","onSelect","ratioButton","unit","force","mintSelection","onInput","invalidValue","justifyContent","cursor","useLptSupply","supply","setSupply","getMint","useGetMintData","fetchLptSupply","then","useMintBalance","useAccounts","getMintBalance","wrapSol","utils","r","isWsolAddress","DEFAULT_WSOL","returnedBalance","useWrapAndUnwrapSolIfNeed","createWrapSolTxIfNeed","tx","neededWrappedSol","wSolATA","getAssociatedTokenAddress","creatingATAIx","ATA","wallet","createAssociatedTokenAccountInstruction","createATAIx","wSolIx","fromPubkey","toPubkey","createWrapSolIx","createSyncNativeInstruction","createUnWrapSolTxIfNeed","uwSolIx","createCloseAccountInstruction","createUnWrapSolIx","hideModal","amounts","setAmounts","fill","suggestedAmounts","setSuggestAmounts","disable","setDisable","isAcceptHighPrice","setIsAcceptHighPrice","baseTokenIndex","setBaseTokenIndex","lpOutTotal","setLpOutTotal","setImpactPrice","lpOutDisplay","clonedLp","estimateImpactPriceAndLP","amountBn","checkAmountIns","newAmounts","newSuggestAmounts","mintDecimal","baseBalance","currentBalance","balanceRatio","onApplySuggestion","Checkbox","checked","provider","getAnchorProvider","amountsIn","transactions","wrapSolTx","addLiquidityTx","addLiquidity","txIds","sendAll","signers","lptAmount","onSuccess","calcMintReceiveFullSide","minPltAddress","mintPool","emptyAmounts","lptSupply","lpt_rate","calcMintReceivesRemoveFullSide","initTxCreateMultiTokenAccount","initTokenAccountTxs","createRemoveLiquidityTransaction","unwrapSolTx","withdrawableMax","amountReserve","setAmountReserve","isExceedWithdrawLimitation","lptAmountBN","removeSidedLiquidity","selectedMints","setSelectedMints","setLptAmount","acceptWithdrawLimit","setAcceptWithdrawLimit","supplyInNumber","recommendedMax","maxAmount","isSelectedAll","selected","Tag","border","Info","copied","setCopied","wordBreak","arrowPointAtCenter","text","isMobile","useInfix","Infix","Popover","placement","marginLeft","APP_ROUTE","useAppRouter","history","useHistory","query","URLSearchParams","getQuery","queryId","getAllQuery","queries","pushHistory","path","newQuery","currentQuery","assign","newParams","appRoute","textAlign","Empty","infix","isOwner","paddingBottom","maxWidth","NAME","setSwapState","createAsyncThunk","newState","createSlice","initialState","bidMint","askMint","askAmount","isReverse","slippageTolerance","reducers","extraReducers","builder","addCase","fulfilled","payload","swap","dispatch","useDispatch","ask_mint","defaultAskMint","unwrap","Context","createContext","activePools","children","setActivePools","filterPools","addr","useActivePools","Provider","useBalansolPools","useContext","mintsSwap","useMintsCanSwap","bid_mint","defaultBidMint","filteredMints","spacing","iconSize","src","JupiterIcon","useMetaRoutes","tokenRoutes","addPoolToRoute","routes","pool","bidMintIdx","askMintIdx","mintRoutes","useMintRoutes","metaRoutes","setMetaRoutes","validRoute","marketBid","marketAsk","computeMetaRoutes","deep","routesFromBidMint","markets","market","nextMint","nextMintMarkets","deepRoutes","deepRoute","nextMintMarket","newRoute","compareMetaRoutes","useDebounce","useBestRouteFromAsk","routeSwapInfo","setRouteSwapInfo","setRoutes","computeRouteInfos","metaRoute","isValidRoute","currentAskAmount","reverse","bidMintInfo","askMintInfo","gt","tokenInAmount","lten","dataForSlippage","newPriceImpact","useAllRoutesFromAsk","getBestRoute","bestRoute","routeA","routeB","bidAmountA","bidAmountB","bestRouteFullInfo","useBestRouteFromBid","bidAmountBN","tokenOutAmount","useAllRouteFromBid","askAmountA","_wallet","publicKey","signTransaction","sendRawTransaction","serializeMessage","signAllTransactions","DEFAULT_JUPITER_PROPS","inputMint","outputMint","slippage","debounceTime","DEFAULT_EMPTY_ROUTE","SwapPlatform","platform","Balansol","platformSwap","setPlatformSwap","routesFromBid","routesFromAsk","limitBN","createRouteTransaction","useSwapBalansol","jupiter","bestRouteInfo","setBestRouteInfo","jupiterProps","setJupiterProps","exchange","useJupiter","composeJupiterProps","composeBestRoute","bestJupiterRoute","marketInfos","inAmount","outAmount","priceImpactPct","wrappedWallet","JupiterWalletWrapper","sentre","result","routeInfo","onTransaction","confirmTransaction","txid","getTransaction","commitment","outputAddress","dstAddress","Jupiter","useJupiterAggregator","updateRouteFromBid","askAmountBalansol","askAmountJup","updateRouteFromAsk","useSwap","routeMints","routeElm","MintRatio","reversed","spotPrice","actualBid","actualAsk","setReversed","ExtraTypography","extraStyle","priceImpactDisplay","swapLoading","minHeight","setChecked","isDisplayWarning","setIsDisplayWarning","isLoading","setIsLoading","onCloseModal","forceRender","ReviewSwap","errorMessage","memo","SentreIcon","slippageOptions","boxShadow","slippageSelected","overlayClassName","overlayInnerStyle","xl","poolSymbol","setPoolSymbol","poolSymbols","stopPropagation","setTimeout","poolState","validPool","marginBottom","formatCurrency","tvls","setTVLs","poolsFilter","setPoolsFilter","filterPool","searchPools","checkIsYourPool","checkIsDepositedPool","tokenAccountLpt","filterListPools","newPools","isValid","YourPools","DepositedPools","useFilterPools","listPool","poolsSearched","setPoolsSearched","searchInput","newPoolsSearch","listTokenAddress","listPoolsAddress","forceCheck","useSearchedPools","sortedPool","fetchTVL","poolTVLs","axios","fetchServerTVL","newTVLs","Proportion","tokenList","remainingPortion","previousSum","currentValue","marginTop","zIndex","alignItems","onChangeWeight","onChangeLock","onRemoveToken","maxLength","mintSetup","onChangeTokenInfo","id","DEFAULT_SWAP_FEE","DEFAULT_TAX_FEE","DEFAULT_EMPTY_TOKEN","setCurrentStep","listMintSetting","setListMintSetting","indexJustUpdated","setIndexJustUpdated","autoEstimateWeight","totalWeight","lockedMintsAmount","lastUnlockIndex","mintSetting","unlockedMintsAmount","averageWeight","newListMintSetting","parse","sum","setting","mintsConfig","normalizeWeight","initializePool","getPools","getAllPoolData","bulk","getPool","getState","upsetPool","removePool","setTokenPrice","loadingAdd","setLoadingAdd","loadingClose","setLoadingClose","disabledSupply","setDisabledSupply","fetchMarketData","tokensPrice","totalValue","mintValue","closePool","txs","initializeJoin","anchorProvider","confirmCreatePool","inputAmounts","setInputAmounts","isVisibleSuggestion","initInputAmountFromPoolData","initInputAmounts","baseIdx","basePrice","baseNormalizedWeight","appliedNormalizedWeight","onUpdateAmount","COLUMNS_CONFIG","dataIndex","render","onConfirm","poolInfo","setPoolInfo","poolTotalValue","setPoolTotalValue","getPoolInfo","newPoolInfo","mintAmount","mintTotalValue","Table","columns","dataSource","rowClassName","pagination","rowKey","record","scroll","x","Step","Steps","currentStep","setupToken","setPoolAddress","recoverCreatePoolProcess","creatingPoolProcess","current","isInProcess","setIsInProcess","checkUninitializedPool","AllPools","setFilterPool","setSearchInput","searchText","onSearch","Select","xxl","watchId","fetchData","watchData","warn","watch","re","unwatch","AppWatcher","watchWallet","Balancer","setBackground","useSetBackground","extend","BG_LIGHT","BG_DARK","cluster","userPublicKey","paddingTop","Switch","Route","component","PoolDetails","Redirect","from","absolutePath","image","prototype","toJSON","increaseCounter","main","counter","configureStore","middleware","getDefaultMiddleware","serializableCheck","devTools","reducer","Page","AntdProvider","prefixCls","store","model"],"sourceRoot":""}