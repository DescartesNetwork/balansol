(globalThis.webpackChunkbalansol=globalThis.webpackChunkbalansol||[]).push([["src_bootstrap_app_tsx-src_static_images_background-dark_png-src_static_images_background-ligh-d83fef"],{45597:(e,t,n)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return a.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return i.default}});var s=l(n(27803)),o=l(n(85468)),r=l(n(83943)),a=l(n(69363)),i=l(n(83272));function l(e){return e&&e.__esModule?e:{default:e}}const c=[s.default,o.default,r.default];t.h0=c},38878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Page:()=>Ss,__esModule:()=>Cs.X$,logo:()=>Cs.jY,panels:()=>Cs.h0,readme:()=>Cs.ng});var s=n(55754),o=n(68275),r=n(92950),a=n(45055),i=n(50794),l=n(15835),c=n(32671),d=n(45263);const u=["swap","pools","launchpad"],p=[{label:"Swap",value:"swap",disabled:!1},{label:"Pools",value:"pools",disabled:!1},{label:(0,d.jsx)(c.Tooltip,{title:"Comming Soon",children:"Launchpad"}),value:"launchpad",disabled:!0}],h=()=>{const{to:e}=(0,o.useAppRoute)(),{pathname:t}=(0,a.useLocation)(),n=(0,r.useMemo)((()=>{const e=t.split("/");return e[e.length-1]}),[t]);return(0,r.useMemo)((()=>{for(const e of u)if(n===e)return!0;return!1}),[n])?(0,d.jsx)(c.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Segmented,{className:"swap-and-pool",options:p,value:n,onChange:t=>e(`/${t.toString()}`),block:!0})})}):(0,d.jsx)(r.Fragment,{})};var m=n(69716);let x;!function(e){e.InputRight="input-right",e.InputLeft="input-left",e.InputCenter="input-center"}(x||(x={}));const g=e=>{let{max:t,onValue:n=(()=>{}),inputStyle:s=x.InputRight,styles:o,...a}=e;const i=(0,r.useCallback)((e=>{if(null===e||t&&parseFloat(e.toString())>parseFloat(t.toString()))return n("");n(e.toString())}),[t,n]);return(0,d.jsx)(c.InputNumber,{...a,stringMode:!0,onChange:i,className:`${s}`,style:{width:"100%",fontSize:24,...o},onBlur:e=>{e.target.value||i("0")},decimalSeparator:".",formatter:e=>(e=>{if(!e)return"0";const t=`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",").split(".");return t[1]?`${t[0]}.${t[1].replace(/,/g,"")}`:t[0]})(e),parser:e=>{if(!e)return 0;const t=e.split(".");return t[1]?Number.parseFloat(`${t[0].replace(/\D/g,"")}.${t[1].replace(/\D/g,"")}`):Number.parseFloat(`${t[0].replace(/\D/g,"")}`)}})};let y,f,j,w;!function(e){e.Sentre="sentre-pools",e.Deposited="deposited-pools",e.YourPools="your-pools",e.Community="community-pools"}(y||(y={})),function(e){e.details="details",e.address="poolAddress",e.category="category",e.wrapTab="tab",e.tabInPools="tab-in-pools"}(f||(f={})),function(e){e[e.Frozen=2]="Frozen",e[e.Active=1]="Active"}(j||(j={})),function(e){e[e.setupToken=0]="setupToken",e[e.addLiquidity=1]="addLiquidity",e[e.confirmCreatePool=2]="confirmCreatePool"}(w||(w={}));const b=10**9,C=1e9;let A,S;!function(e){e[e.goodSwap=.01]="goodSwap",e[e.acceptableSwap=.05]="acceptableSwap"}(A||(A={})),function(e){e.AllPools="all-pools",e.DepositedPools="deposited-pools",e.YourPools="your-pools"}(S||(S={}));var v=n(95418),k=n(83342),T=n(25829),B=n(31892),N=n(20547),z=n(51013);const M={appId:"balansol",url:"https://descartesnetwork.github.io/balansol/index.js"},P={development:{...M},production:{...M}};var R=n(71256);const I={devnet:{connection:new R.Connection(o.rpc),balancerAddress:"Ff5wgqZ7B63J3iySASitrD6u3h5JHgrHyfSpAmm1Ufmw",taxmanAddress:"GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54",bidMintDefault:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",askMintDefault:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},testnet:{connection:new R.Connection(o.rpc),balancerAddress:"",taxmanAddress:"",bidMintDefault:"",askMintDefault:""},mainnet:{connection:new R.Connection(o.rpc),balancerAddress:"D3BBjqUdCYuP18fNvvMbPAZ8DpcRi4io2EsYHQawJDag",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e",bidMintDefault:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",askMintDefault:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M"}},L=e=>({origin:e,version:{base:e+"/public/api/v1",get tvl(){return this.base+"/tvl"},get detailTvl(){return this.base+"/tvl/all/"}}}),D={development:{...L("https://stat.sentre.io")},production:{...L("https://stat.sentre.io")}},Z={manifest:P[o.env],sol:I[o.net],api:D[o.env]},F=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(o.util.explorer(t),"_blank")}),E=e=>(console.log("er",e),window.notify({type:"error",description:e.message})),O=e=>!e||e<A.goodSwap?"#14E041":e>A.acceptableSwap?"#D72311":"#FA8C16",W=(e,t)=>Object.keys(e[t])[0],{sol:{taxmanAddress:Y}}=Z,U=e=>{let{title:t,percent:n,currentPercent:s,onChangeValue:o=(()=>{}),tooltipContent:r,disabled:a}=e;return(0,d.jsxs)(c.Row,{gutter:[8,8],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsxs)(c.Space,{size:8,children:[(0,d.jsxs)(c.Typography.Text,{style:{textTransform:"capitalize"},children:[t," (%)"]}),(0,d.jsx)(c.Tooltip,{title:r,children:(0,d.jsx)(m.Z,{name:"information-circle-outline"})})]})}),(0,d.jsxs)(c.Col,{children:[(0,d.jsxs)(c.Typography.Text,{type:"secondary",children:["Current ",t,":"]})," ",(0,d.jsxs)(c.Typography.Text,{children:[s,"%"]})]})]})}),(0,d.jsx)(c.Col,{span:24,className:"fee",children:(0,d.jsx)(g,{bordered:!1,inputStyle:x.InputLeft,placeholder:"0",controls:!1,value:n,styles:{fontSize:14},onValue:o,disabled:a})})]})},G=e=>{let{poolAddress:t}=e;const n=(0,s.useSelector)((e=>e.pools[t])),o=100*n.fee.toNumber()/C,a=100*n.taxFee.toNumber()/C,[l,u]=(0,r.useState)(o.toString()),[p,h]=(0,r.useState)(a.toString()),[m,x]=(0,r.useState)(!1);return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(U,{title:"LP Reward Rate",percent:l,currentPercent:o,onChangeValue:u,tooltipContent:"The portion of trading fee a liquidity provider earns upon depositing into the pool"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(U,{title:"Platform Fee",percent:p,currentPercent:a,onChangeValue:h,tooltipContent:"The portion of fee your pool will pay to Balansol for maintaining the system",disabled:n.authority.toBase58()!==Y})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{ghost:!0,block:!0,size:"large",loading:m,onClick:async()=>{x(!0);try{const{updateFee:e}=window.balansol,{txId:n}=await e(t,new i.BN(Number(l)*C/100),new i.BN(Number(p)*C/100));return F("Update Fee",n)}catch(e){E(e)}finally{x(!1)}},children:"Update"})})]})},K=e=>{let{description:t,statusColor:n="success",statusContent:s}=e;return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{size:12,align:"start",children:[(0,d.jsx)(m.Z,{name:"information-circle-outline"}),(0,d.jsx)(c.Space,{direction:"vertical",size:0,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:12},children:t})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{size:0,children:[(0,d.jsx)(c.Badge,{status:n}),(0,d.jsxs)(c.Typography.Text,{children:["Current status: ",s]})]})})]})},V=e=>{let{poolAddress:t}=e;const[n,s]=(0,r.useState)(!1);return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(K,{statusColor:"error",statusContent:"Frozen",description:"Unfreeze a pool will active all actions"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{ghost:!0,onClick:async()=>{s(!0);try{const{thawPool:e}=window.balansol,{txId:n}=await e(t);return F("Unfreeze",n)}catch(e){E(e)}finally{s(!1)}},icon:(0,d.jsx)(m.Z,{name:"sunny-outline"}),block:!0,loading:n,size:"large",children:"Unfreeze Pool"})})]})},q=e=>{let{poolAddress:t}=e;const[n,s]=(0,r.useState)(!1);return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(K,{statusColor:"success",statusContent:"Active",description:"Freezing a pool will prevent all actions until the pool has been unfreezed."})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{onClick:async()=>{s(!0);try{const{freezePool:e}=window.balansol,{txId:n}=await e(t);return F("Freeze",n)}catch(e){E(e)}finally{s(!1)}},icon:(0,d.jsx)(m.Z,{name:"snow-outline"}),block:!0,loading:n,ghost:!0,size:"large",children:"Freeze Pool"})})]})};var H=n(43933),J=n.n(H),X=n(74939),Q=n(99370);const $=e=>{let{poolAddress:t}=e;const{mints:n,actions:o}=(0,s.useSelector)((e=>e.pools[t])),[a,i]=(0,r.useState)(o),[l,u]=(0,r.useState)(!1);return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{size:12,align:"start",children:[(0,d.jsx)(m.Z,{name:"alert-circle-outline"}),(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Freezing tokens will prevent all actions until the tokens has been unfreezed."})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[12,12],children:n.map(((e,t)=>{const n=W(a,t);return(0,d.jsx)(c.Col,{span:12,children:(0,d.jsxs)(c.Button,{block:!0,onClick:()=>(e=>{const t=[...a];switch(W(t,e)){case"paused":t[e]=H.MintActionStates.Active;break;case"active":t[e]=H.MintActionStates.Paused}i(t)})(t),size:"large",children:[(0,d.jsxs)(c.Space,{size:8,className:"individual-token",children:[(0,d.jsx)(X.Z,{mintAddress:e.toBase58()}),(0,d.jsx)(c.Typography.Text,{ellipsis:!0,style:{fontWeight:400,fontSize:14},children:(0,d.jsx)(Q.Z,{mintAddress:e.toBase58()})})]}),"paused"===n&&(0,d.jsx)(c.Space,{className:"disable-mask",align:"center",children:(0,d.jsx)(m.Z,{name:"snow-outline",style:{color:"#F3F3F5"}})})]})})}))})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{block:!0,ghost:!0,onClick:async()=>{u(!0);try{const{updateActions:e}=window.balansol,{txId:n}=await e(t,a);return F("Freeze",n)}catch(e){E(e)}finally{u(!1)}},size:"large",disabled:JSON.stringify(o)===JSON.stringify(a),loading:l,children:"Confirm"})})]})},_=e=>{let{poolAddress:t}=e;const n=(0,s.useSelector)((e=>e.pools[t])),o=n.state;return(0,d.jsxs)(c.Tabs,{className:"freeze-thaw",type:"card",children:[(0,d.jsxs)(c.Tabs.TabPane,{tab:"Pool",children:[o.initialized&&(0,d.jsx)(q,{poolAddress:t}),o.frozen&&(0,d.jsx)(V,{poolAddress:t})]},"pool"),(0,d.jsx)(c.Tabs.TabPane,{tab:"Individual token",disabled:!!o.frozen,children:(0,d.jsx)($,{poolAddress:t})},"individual_token")]})},ee=e=>{let{poolAddress:t}=e;const[n,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{size:12,align:"center",children:[(0,d.jsx)(m.Z,{style:{fontSize:16},name:"information-circle-outline"}),(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"Your current account will lose the pool control when you transfer ownership."})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Text,{children:"Transfer to Owner"})}),(0,d.jsx)(c.Col,{span:24,className:"transfer-owner",children:(0,d.jsx)(c.Input,{className:"transfer-owner-input",value:n,onChange:e=>s(e.target.value),placeholder:"E.g. AgTMC..."})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{ghost:!0,size:"large",onClick:async()=>{if(a(!0),v.account.isAddress(n))try{const{transferOwnership:e}=window.balansol,{txId:s}=await e(t,n);return F("Update weights",s)}catch(e){E(e)}finally{a(!1)}},loading:o,disabled:!n,block:!0,children:"Transfer"})})]})};var te=n(40106);const ne={decimalize:(e,t)=>{if(!e)return new i.BN(0);if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");const n=e.toString();if(!t)return new i.BN(n);const s=n.split(".");if(s.length>2)throw new Error("Invalid number");return 1===s.length?new i.BN(e).mul(new i.BN(10**t)):s[1].length>=t?new i.BN(s[0]+s[1].substring(0,t)):new i.BN(s[0]+s[1]+"0".repeat(t-s[1].length))},undecimalize:(e,t)=>{if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");if(!e)return"0";const n=e.toString();if(!t)return n;let s=n.length>t?n.substring(0,n.length-t):"0",o="";for(o=n.length>t?n.substring(n.length-t,n.length):n.length===t?n:"0".repeat(t-n.length)+n,o=o.split("");"0"===o[o.length-1];)o.pop();return o=o.join(""),o?s+"."+o:s},toNumber:e=>Number(ne.undecimalize(e,0))},se=(e,t)=>{const n=((e,t)=>e.mints.map((e=>e.toBase58())).indexOf(new i.web3.PublicKey(t).toBase58()))(e,t);if(-1===n)throw new Error("Can not find mint in pool");const s=ie(e.weights,e.weights[n]);return{reserve:e.reserves[n],normalizedWeight:s,treasury:e.treasuries[n]}},oe=e=>e<1?1-e:0,re=(e,t,n,s,o,r)=>{const a=ne.toNumber(t),l=ne.toNumber(n),c=ne.toNumber(e),d=ne.toNumber(r)/b,u=l/(l+c),p=o/s;return new i.BN(a*(1-u**p)*(1-d))},ae=(e,t,n,s,o,r)=>{const a=ne.toNumber(t),l=ne.toNumber(n),c=ne.toNumber(r)/b,d=a/(a-ne.toNumber(e)/(1-c)),u=s/o;return new i.BN(l*(d**u-1))},ie=(e,t)=>{const n=e.map((e=>Number(te.default.undecimalize(BigInt(e.toString()),9))));return Number(te.default.undecimalize(BigInt(t.toString()),9))/n.reduce(((e,t)=>e+t),0)};function le(e,t){const{balanceIn:n,decimalIn:s,balanceOut:o,decimalOut:r,weightIn:a,weightOut:i,swapFee:l}=t,c=Number(te.default.undecimalize(BigInt(n.toString()),s)),d=Number(te.default.undecimalize(BigInt(o.toString()),r)),u=a,p=i,h=Number(te.default.undecimalize(BigInt(e.toString()),s)),m=Number(te.default.undecimalize(BigInt(l.toString()),9));return-c*p/(d*(-1+m)*(c/(h+c-h*m))**((u+p)/p)*u)}const ce=(e,t)=>{const n=le(new i.BN(0),t),s=le(e,t);if(s<n)return 0;return 1-n/s},de=(e,t,n,s,o)=>e.map(((e,t)=>Number(te.default.undecimalize(BigInt(e.toString()),o[t])))).reduce(((e,r,a)=>{const l=ie(n,n[a]),c={balanceIn:t[a],balanceOut:s,weightIn:l,decimalIn:o[a],swapFee:new i.BN(0)},d=((e,t)=>{const n=Number(te.default.undecimalize(BigInt(t.balanceOut.toString()),9)),s=Number(te.default.undecimalize(BigInt(e.toString()),9)),o=t.weightIn,r=Number(te.default.undecimalize(BigInt(t.balanceIn.toString()),t.decimalIn)),a=Number(te.default.undecimalize(BigInt(t.swapFee.toString()),9));return Math.pow((s+n)/n,1/o)*r/((s+n)*(1+a*(-1+o))*o)})(new i.BN(0),c);return e+r/d}),0),ue=(e,t,n,s,o,r)=>{if(0===o.length)return{lpOut:0,impactPrice:0};const a=Number(((e,t,n,s,o,r)=>{const a=Number(te.default.undecimalize(BigInt(r.toString()),9)),i=Number(te.default.undecimalize(BigInt(s.toString()),9)),l=t.map(((e,t)=>Number(te.default.undecimalize(BigInt(e.toString()),o[t])))),c=e.map(((e,t)=>Number(te.default.undecimalize(BigInt(e.toString()),o[t])))),d=new Array(e.length);let u=0;for(let h=0;h<e.length;h++){const e=ie(n,n[h]);d[h]=(l[h]+c[h])/l[h],u+=d[h]*e}let p=1;for(let h=0;h<e.length;h++){const e=ie(n,n[h]);let t=c[h];if(d[h]>u){let e=l[h]*(u-1);t=e+(c[h]-e)*(1-a)}p*=((l[h]+t)/l[h])**e}return p>1?i*(p-1):0})(e,t,n,s,o,r).toFixed(9));return{lpOut:a,impactPrice:1-a/Number(de(e,t,n,s,o).toFixed(9))||0}},pe=(e,t,n,s,o,r,a)=>{if(0===r.length||e.isZero())return{lpOut:0,impactPrice:0};let l=new i.BN(0);const c=n.map(((c,d)=>{if(t!==d)return new i.BN(0);const u=ie(s,s[d]),p=((e,t,n,s,o,r)=>{const a=Number(te.default.undecimalize(BigInt(e.toString()),o)),i=Number(te.default.undecimalize(BigInt(n.toString()),9)),l=Number(te.default.undecimalize(BigInt(s.toString()),9)),c=Number(te.default.undecimalize(BigInt(r.toString()),9)),d=a*oe(((l-i)/l)**(1/t)),u=d*oe(t);return d-u+u*oe(c)})(n[d],u,e,o,r[d],a);return l=new i.BN(te.default.decimalize(p,r[d]).toString()),l})),d=Number(de(c,n,s,o,r).toFixed(9)),u=Number(te.default.undecimalize(BigInt(e.toString()),9));if(u<d)return{tokenAmountOut:l,impactPrice:0};return{tokenAmountOut:l,impactPrice:u/d-1}},he=e=>{let t=1;return e.forEach((e=>{const n=e.priceImpact;t*=1-n})),1-t},me=e=>{let{mintAddress:t}=e;return(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(X.Z,{mintAddress:t}),(0,d.jsx)(Q.Z,{mintAddress:t})]})},xe=e=>{let{poolAddress:t}=e;const[n,a]=(0,r.useState)(),[l,u]=(0,r.useState)(!1),{mints:p,weights:h}=(0,s.useSelector)((e=>e.pools[t])),x=(0,o.useTheme)(),y=(0,r.useCallback)((()=>{const e={};p.forEach(((t,n)=>{const s=ie(h,h[n]),r=t.toBase58();e[r]={addressToken:r,weight:o.util.numeric(100*s).format("0,0.[00]"),isLocked:!1}})),a(e)}),[p,h]),f=(0,r.useCallback)((e=>{if(!n)return!1;const{weight:t}=n[e],s=Number(t);if(s>100||s<0)return!1;let r=0;for(const{addressToken:o,weight:i}of Object.values(n))e!==o&&(r+=Number(i));const a=100-r;return s===Number(o.util.numeric(a).format("0,0.[00]"))}),[n]),j=(0,r.useMemo)((()=>{if(!n)return!0;for(const e of Object.keys(n))if(!f(e))return!0;return!1}),[n,f]);return(0,r.useEffect)((()=>{y()}),[y]),(0,d.jsxs)(c.Row,{gutter:[12,12],children:[p.map(((e,t)=>{const s=e.toBase58();if(!n)return null;const{isLocked:r,weight:i}=n[s];return(0,d.jsx)(c.Col,{span:24,className:"weight",children:(0,d.jsxs)(c.Row,{gutter:12,align:"middle",wrap:!1,children:[(0,d.jsx)(c.Col,{flex:"auto",className:f(s)?"weight-input":"weight-input-error",children:(0,d.jsx)(g,{prefix:(0,d.jsx)(me,{mintAddress:s}),disabled:r,bordered:!1,controls:!1,styles:{borderRadius:40,background:"light"===x?"#e6eaf5":"#142042"},addonAfter:(0,d.jsx)(c.Typography.Text,{children:"%"}),value:i,name:s,onValue:e=>((e,t)=>{const s={...n};s[t]={...s[t],weight:e};let r=100-Number(e);const i=Object.values(s).filter((e=>!e.isLocked&&e.addressToken!==t)).length;let l=!0;for(const n of p){const{isLocked:e,weight:a,addressToken:c}=s[n.toBase58()];if(t===c)continue;if(e){r-=Number(a);continue}const d=(r/i).toFixed(2);if(l){const e=r-Number(d)*(i-1);s[c]={...s[c],weight:o.util.numeric(e).format("0,0.[00]")},l=!1}else s[c]={...s[c],weight:o.util.numeric(d).format("0,0.[00]")}}return a(s)})(e,s)})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Button,{shape:"circle",type:"text",onClick:()=>(e=>{const t={...n},{isLocked:s}=t[e];t[e]={...t[e],isLocked:!s},a(t)})(s),icon:(0,d.jsx)(m.Z,{name:r?"lock-closed-outline":"lock-open-outline"})})})]})},s+t)})),(0,d.jsx)(c.Col,{span:24})," ",(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{onClick:async()=>{if(u(!0),!n)return;const e=Object.values(n).map((e=>{let{weight:t}=e;const n=Number(t)*b;return new i.BN(n)}));try{const{updateWeights:n}=window.balansol,{txId:s}=await n(t,e);return F("Update weights",s)}catch(s){E(s)}finally{u(!1)}},loading:l,disabled:j,block:!0,ghost:!0,size:"large",children:"Update"})})]})},ge=e=>{let{poolAddress:t}=e;return(0,d.jsx)(c.Card,{children:(0,d.jsxs)(c.Tabs,{children:[(0,d.jsx)(c.Tabs.TabPane,{tab:"Weights",children:(0,d.jsx)(xe,{poolAddress:t})},"weights"),(0,d.jsx)(c.Tabs.TabPane,{tab:"Freeze/Unfreeze",children:(0,d.jsx)(_,{poolAddress:t})},"freeze-thaw"),(0,d.jsx)(c.Tabs.TabPane,{tab:"Fee",children:(0,d.jsx)(G,{poolAddress:t})},"fee"),(0,d.jsx)(c.Tabs.TabPane,{tab:"Ownership",children:(0,d.jsx)(ee,{poolAddress:t})},"ownership")]})})};var ye=n(40426),fe=n(69954),je=n(44521),we=n(54179),be=n(45198),Ce=n(90404),Ae=n(54132),Se=n(8399);je.D([be.N,Ce.N,we.N,Se.N,Ae.N]);const ve=(e,t)=>({legend:{bottom:0,icon:"circle",textStyle:{color:t.color}},tooltip:{trigger:"item",borderWidth:"1",formatter:function(e,t,n){return`<div style="min-width: 200px; font-weight: 400"><span style="color: #9CA1AF; font-size: 12px">${e.data.name}</span><br/><span style="display: flex; justify-content: space-between"><span style="font-size: 14px, font-weight: 400">Weight&nbsp;</span> <span style="font-size: 16px; font-weight: 700">${e.data.value}%</span></span> <span style="display: flex; justify-content: space-between;"><span style="font-size: 14px; font-weight: 400">Token amount&nbsp;</span> <span style="font-size: 16px; font-weight: 700">${e.data.tokenAmount}</span></span></div>`},backgroundColor:t.backgroundColor,extraCssText:"border-radius: 24px",textStyle:{color:t.color}},series:[{type:"pie",radius:"70%",avoidLabelOverlap:!1,top:0,label:{show:!0,position:"inside",formatter:"{c}%"},labelLine:{show:!0},bottom:0,data:e.map((e=>({name:e.symbol,value:o.util.numeric(e.weight).format("0,0.[00]"),tokenAmount:e.tokenAmount})))}]}),ke={light:{color:"#081438",backgroundColor:"#F2F4FA"},dark:{color:"#F3F3F5",backgroundColor:"#212C4C"}},Te=e=>{let{data:t}=e;const n=(0,o.useTheme)();return(0,d.jsx)(ye.Z,{echarts:fe,option:ve(t,ke[n]),notMerge:!0,lazyUpdate:!0})},Be=e=>{let{poolAddress:t}=e;const[n,a]=(0,r.useState)(!1),[i,l]=(0,r.useState)([]),u=(0,s.useSelector)((e=>e.pools[t])),p=(0,o.useGetMintDecimals)(),h=(0,r.useCallback)((async()=>{try{if(a(!0),!u)return;const e=await Promise.all(u.mints.map((async e=>{const{normalizedWeight:t,reserve:n}=se(u,e.toBase58()),s=await o.tokenProvider.findByAddress(e.toBase58());if(s)return{symbol:s.symbol,tokenAmount:ne.undecimalize(n,s.decimals),weight:100*t};const r=await p({mintAddress:e.toBase58()})||0;return{symbol:e.toBase58().substring(0,4),tokenAmount:ne.undecimalize(n,r)||"0",weight:100*t}})));l(e)}catch(e){E(e)}finally{a(!1)}}),[p,u]);return(0,r.useEffect)((()=>{h()}),[h]),(0,d.jsx)(c.Card,{className:"chart-card",children:(0,d.jsxs)(c.Row,{children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,children:"Pool Weights"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Spin,{tip:"Loading...",spinning:n,children:(0,d.jsx)(Te,{data:i})})})]})})};var Ne=n(56967),ze=n(72870);je.D([be.N,ze.N,Ce.N,Ne.N,Se.N,Ae.N]);const Me=e=>({xAxis:{type:"category",data:e.map((e=>e.label)),axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",splitLine:{show:!1},axisLabel:{formatter:e=>o.util.numeric(e).format("0,0.[00]a")}},tooltip:{trigger:"item",borderWidth:"1",valueFormatter:e=>"$"+e.toFixed(2)},series:[{data:e.map((e=>e.data)),type:"bar",itemStyle:{color:"#87E0C0"}}],grid:{show:!1,top:10,left:40,right:10,bottom:50}}),Pe=e=>{let{data:t}=e;return(0,d.jsx)(c.Row,{justify:"center",className:"barchart-container",children:(0,d.jsx)(ye.Z,{echarts:fe,option:Me(t)})})};var Re=n(4550),Ie=n.n(Re);const Le=1e3;let De;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(De||(De={}));class Ze{constructor(){this.milliSeconds=(new Date).valueOf()}setMilliSeconds(e){this.milliSeconds=e}static fromSeconds(e){const t=new Ze,n=e*Le;return t.setMilliSeconds(n),t}static fromYmd(e){const t=new Ze,n=Ie()(e,De.YMD).valueOf();return t.setMilliSeconds(n),t}static getListDate(e,t){const n=[];let s=Ze.fromYmd(e);const o=Ze.fromYmd(t);for(;s.ymd()<=o.ymd();)n.push(s.ymd()),s=s.addDay();return n}format(e){const t=new Date(this.milliSeconds);return Ie()(t).format(e)}subtractDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=Ie()(this.milliSeconds).subtract(e,"days").valueOf();return Ze.fromSeconds(t/Le)}addDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=Ie()(this.milliSeconds).add(e,"days").valueOf();return Ze.fromSeconds(t/Le)}seconds(){return(this.milliSeconds-this.milliSeconds%Le)/Le}ymd(){return Number(this.format(De.YMD))}static today(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De.YMD;return Ie()().format(e)}}class Fe{constructor(){this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]}}class Ee{constructor(){this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"}}class Oe{constructor(){this.source=void 0,this.destination=void 0,this.amount="0"}}const We=700;class Ye{constructor(){this.conn=o.connection}async fetchSignatures(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We;n>We&&(n=We);const s={limit:n,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,s)}async fetchConfirmTransaction(e){let t=[];const n=[];for(let o=0;o<=e.length/200;o++){const t=200*o,s=e.slice(t,t+200);n.push(this.conn.getParsedConfirmedTransactions(s))}const s=await Promise.all(n);for(const o of s)t=t.concat(o);return t}async fetchTransactions(e,t){const n=(new Date).getTime()/1e3;let{secondFrom:s,secondTo:o,lastSignature:r,limit:a}=t;s=Math.floor(s||0),o=Math.floor(o||n);const i=new R.PublicKey(e);let l=[],c=!1;for(;!c;){const e=await this.fetchSignatures(i,r,a);if(null===e||void 0===e||!e.length||c)break;for(const t of e){const e=t.blockTime;if(e&&!(e>o)){if(e<s){c=!0;break}r=t.signature,l.push(t.signature)}}if(a&&l.length>=a)break;if((null===e||void 0===e?void 0:e.length)<We)break}return await this.fetchConfirmTransaction(l)}}let Ue;!function(e){e.Transfer="transfer"}(Ue||(Ue={}));let Ge;!function(e){e.Swap="SWAP"}(Ge||(Ge={}));class Ke extends class{constructor(){this.parseAction=e=>""}async collect(e,t,n){let{lastSignature:s,limit:o}=t;const r=new Ye;let a=[],i=s,l=!1,c=200;for(;!l;){const s=await r.fetchTransactions(e,{...t,lastSignature:i,limit:c});for(const e of s){i=e.transaction.signatures[0];const t=this.parseTransLog(e);if(t){if(n){if(!await n(t))continue}if(a.push(t),o&&a.length>=o){l=!0;break}}}if(o&&(c=c*o/(a.length||1)),!s.length)break;if(l)break}return a}parseTransLog(e){var t,n;const{blockTime:s,meta:o,transaction:r}=e;if(!s||!o)return;const{postTokenBalances:a,preTokenBalances:i,postBalances:l,preBalances:c}=o,{signatures:d,message:u}=r,p=(null===(t=o.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],h=u.instructions[0]||[],m=new Fe;m.signature=d[0],m.blockTime=s,m.time=Ze.fromSeconds(s).ymd(),m.programId=h.programId.toString();const x=this.parseAccountInfo(u.accountKeys,a||[],i||[],l,c);return this.isParsedInstruction(h)?(m.programTransfer=this.parseListActionTransfer([h],x),m):(m.actionTransfers=this.parseListActionTransfer(p,x),m.programInfo={programId:h.programId.toString(),data:h.data},m.actionType=this.parseAction(m),m)}isParsedInstruction(e){return void 0!==e.parsed}parseListActionTransfer(e,t){const n=[];for(const s of e){if(!this.isParsedInstruction(s))continue;const e=s.parsed||{};if(e.type===Ue.Transfer){const s=e.info,o=this.parseActionTransfer(s,t);o&&n.push(o)}}return n}parseActionTransfer(e,t){const{source:n,destination:s,amount:o,lamports:r}=e,a=o||r.toString();if(!a||!t.has(n)||!t.has(s))return;const i=new Oe;return i.source=t.get(n),i.destination=t.get(s),i.amount=a,i}parseAccountInfo(e,t,n,s,o){const r=new Map;for(const a of t){const{accountIndex:t,mint:n,uiTokenAmount:s}=a,o=new Ee;o.address=e[t].pubkey.toString(),o.postBalance=s.amount,o.mint=n,o.decimals=s.decimals,r.set(o.address,o)}for(const a of n){const{accountIndex:t,uiTokenAmount:n}=a,s=e[t].pubkey.toString(),o=r.get(s)||new Ee;o.preBalance=n.amount,r.set(o.address,o)}return e.forEach(((e,t)=>{const n=e.pubkey.toString();if(!v.account.isAssociatedAddress(n)){const e=r.get(n)||new Ee;e.address=n,e.mint="11111111111111111111111111111111",e.postBalance=String(s[t]||0),e.preBalance=String(o[t]||0),e.decimals=9,r.set(e.address,e)}})),r}}{constructor(){super(...arguments),this.parseAction=e=>{try{var t;const n=null===(t=e.programInfo)||void 0===t?void 0:t.data,s=window.balansol.program.coder.instruction.decode(n,"base58");if("route"===(null===s||void 0===s?void 0:s.name))return Ge.Swap}catch(n){}return""}}}class Ve{constructor(){this.programId="",this.time=0,this.address="",this.mint="",this.actionType="",this.amountIn=BigInt(0),this.amountOut=BigInt(0),this.totalTrans=0}}class qe{parserDailyReport(e){let t=new Array;for(const n of e)t=t.concat(this.parseDailyReport(n));return this.mergeDailyReport(t)}parseDailyReport(e){const t=new Array,{programId:n,time:s,actionType:o,actionTransfers:r}=e;for(const a of r){const{source:e,destination:r,amount:i}=a,l=new Ve;if(l.programId=n,l.time=s,l.actionType=o,e){const{mint:n,address:s}=e;t.push({...l,mint:n,address:s,amountOut:BigInt(i)})}if(r){const{mint:e,address:n}=r;t.push({...l,mint:e,address:n,amountIn:BigInt(i)})}}return t}mergeDailyReport(e){const t=new Map;for(const s of e){const e=`${s.time}^${s.address}^${s.mint}^${s.actionType}`;if(t.has(e)){const n=t.get(e);void 0!==n&&(s.amountIn+=n.amountIn,s.amountOut+=n.amountOut,s.totalTrans+=n.totalTrans)}t.set(e,s)}const n=new Array;return t.forEach((e=>n.push(e))),n}}class He{constructor(e){this.poolAddress=void 0,this.poolData=void 0,this.poolTransLogService=new Ke,this.dailyReportService=new qe,this.tokenProvider=new o.TokenProvider,this.getPoolData=async()=>{if(!this.poolData){const e=window.balansol;this.poolData=await e.getPoolData(this.poolAddress)}return this.poolData},this.getUsd=async(e,t)=>{const n=await this.tokenProvider.findByAddress(e);if(!n)return 0;const{decimals:s,extensions:r}=n;try{const e=await o.util.fetchCGK(null===r||void 0===r?void 0:r.coingeckoId);if(null===e||void 0===e||!e.price)return 0;const n=ne.undecimalize(new i.BN(t.toString()),s);return Number(n)*e.price}catch(a){return 0}},this.fetchTransLog=async(e,t)=>{const n=new o.PDB(this.poolAddress).createInstance("stat");let s=await n.getItem("translogs")||[];s=s.sort(((e,t)=>t.blockTime-e.blockTime));const r=s[0],a=s[s.length-1];if(r&&a){const[n]=await Promise.all([this.poolTransLogService.collect(this.poolAddress,{secondFrom:r.blockTime,secondTo:t})]);s=s.filter((t=>t.blockTime>e)),s=[...n,...s]}else s=await this.poolTransLogService.collect(this.poolAddress,{secondFrom:e,secondTo:t});return await n.setItem("translogs",s),s},this.getDailyInfo=async()=>{let e=new Ze;const t=(new Ze).subtractDay(8),{fee:n,taxFee:s,treasuries:o}=await this.getPoolData(),r=await this.fetchTransLog(t.seconds(),e.seconds()),a=this.dailyReportService.parserDailyReport(r),i={};for(const c of a){const{time:e,address:t}=c;o.map((e=>e.toBase58().includes(t)))&&(i[e]||(i[e]=[]),i[e].push(c))}const l={};for(l[e.ymd()]={tvl:0,fee:0,volume:0};e.ymd()>t.ymd();){const o=i[e.ymd()]||[],r=l[e.ymd()],a=e.subtractDay(1);!l[a.ymd()]&&a.ymd()>=t.ymd()&&(l[a.ymd()]={tvl:r.tvl,fee:0,volume:0});for(const t of o){const o=await this.getUsd(t.mint,t.amountOut),r=await this.getUsd(t.mint,t.amountIn);if(l[a.ymd()]&&(l[a.ymd()].tvl+=o-r,l[a.ymd()].tvl<0&&(l[a.ymd()].tvl=0)),t.actionType===Ge.Swap){l[e.ymd()].volume+=r+o;const t=Number(ne.undecimalize(n.add(s),9))*o;l[e.ymd()].fee+=t}}e=e.subtractDay(1)}return l},this.poolAddress=e}}var Je=n(32083);const Xe=()=>{const e=(0,o.useGetMintDecimals)(),t=(0,r.useCallback)((async(t,n)=>{const s=await e({mintAddress:new i.web3.PublicKey(n).toString()})||0;return new i.BN(te.default.decimalize(t,s).toString())}),[e]),n=(0,r.useCallback)((async(t,n)=>{const s=await e({mintAddress:new i.web3.PublicKey(n).toString()})||0;return te.default.undecimalize(BigInt(t.toString()),s)}),[e]);return{decimalize:(0,r.useCallback)(((e,t)=>new i.BN(te.default.decimalize(e,t).toString())),[]),undecimalize:(0,r.useCallback)(((e,t)=>te.default.undecimalize(BigInt(e.toString()),t)),[]),decimalizeMintAmount:t,undecimalizeMintAmount:n}},Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,s.useSelector)((t=>t.pools[e])),[n,o]=(0,r.useState)(0),a=(0,Je.G)(),{undecimalizeMintAmount:i}=Xe(),l=(0,r.useCallback)((async e=>{if(!e)return 0;let t=0;for(let n in e.reserves){const s=await a(e.mints[n]);if(!s)continue;const o=await i(e.reserves[n],e.mints[n]);t+=s*Number(o)}return t}),[a,i]),c=(0,r.useCallback)((async()=>{const e=await l(t);return o(e)}),[l,t]);return(0,r.useEffect)((()=>{c()}),[c]),{TVL:n,getTVL:l}},$e=e=>{const[t,n]=(0,r.useState)(0),[s,a]=(0,r.useState)({}),[i,l]=(0,r.useState)(!1),{TVL:c}=Qe(e),d=(0,r.useCallback)((async()=>{try{if(l(!0),!e||!c)return l(!1),n(0),a({});const t=new He(e),s=await o.DataLoader.load("getDailyInfo"+e,(()=>t.getDailyInfo()),{cache:{ttl:3e5}});let r=0,i=0;for(const e in s)r+=s[e].fee,s[e].fee&&s[e].volume&&s[e].tvl&&i++;const d=r/i/c,u=Math.pow(1+d,365)-1;n(Number.isFinite(u)?u:0),a(s)}catch(t){}finally{l(!1)}}),[e,c]);return(0,r.useEffect)((()=>{d()}),[d]),{apy:t,dailyInfo:s,loading:i}},_e=e=>{const[t,n]=(0,r.useState)([]),{dailyInfo:s,loading:o}=$e(e),a=(0,r.useCallback)((async()=>{if(!e)return n([]);const t=Object.keys(s).map((e=>({data:s[e].volume,label:Ie()(e,"YYYYMMDD").format("MM/DD")})));return n(t)}),[s,e]);(0,r.useEffect)((()=>{a()}),[a]);const i=(0,r.useMemo)((()=>{var e,n;const s=(null===(e=t[t.length-1])||void 0===e?void 0:e.data)||0,o=(null===(n=t[t.length-2])||void 0===n?void 0:n.data)||0;return s+(new Date).getHours()*o/24}),[t]);return{chartData:t,loading:o,vol24h:i}},et=e=>{let{poolAddress:t}=e;const{vol24h:n,loading:s,chartData:r}=_e(t);return(0,d.jsx)(c.Card,{className:"chart-card",children:(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{justify:"center",align:"middle",className:"chart-title",children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Title,{level:4,children:"Volume 24h"})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Typography.Title,{level:2,children:["$",o.util.numeric(n).format("0,0.[0]a")]})})]})}),(0,d.jsx)(c.Col,{span:24,flex:"auto",children:(0,d.jsx)(c.Spin,{tip:"Loading...",spinning:s,children:(0,d.jsx)(Pe,{data:r})})})]})})};var tt=n(4065);const nt=(e,t,n)=>v.account.isAddress(e)&&void 0!==t&&void 0!==n?{mintAddress:e,amount:t,decimals:n,balance:Number(tt.utilsBN.undecimalize(t,n))}:{amount:new i.BN(0),decimals:0,balance:0},st=e=>{const t=(0,o.useWalletAddress)(),n=(0,o.useWalletBalance)(),s=(0,o.useAccountSelector)((t=>t[e])),{amount:r,mint:a}=s||{},l=(0,o.useMintDecimals)({mintAddress:a})||0;return v.account.isAddress(t)&&v.account.isAddress(e)?e===t?nt(v.DEFAULT_EMPTY_ADDRESS,new i.BN(n),9):nt(a,new i.BN((null===r||void 0===r?void 0:r.toString())||0),l):nt()},ot=e=>{const[t,n]=(0,r.useState)(""),s=(0,o.useWalletAddress)(),a=st(t);return(0,r.useEffect)((()=>{(async()=>{if(!v.account.isAddress(s)||!v.account.isAddress(e))return n("");try{const t=await o.splt.deriveAssociatedAddress(s,e);n(t)}catch(t){return n("")}})()})),a},rt=e=>{let{title:t,content:n,bg:s}=e;return(0,d.jsx)(c.Card,{className:"card-detail-header",style:{background:`url(${s})`},children:(0,d.jsxs)(c.Row,{gutter:[0,8],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:t})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Space,{align:"end",children:n})})]})})};const at=n.p+"static/media/tvl.85fd6f5a6c3970dff1166cd0b28e15f8.svg";const it=n.p+"static/media/apy.e92b9714a458a3d8c34272011f0e8b3e.svg";const lt=n.p+"static/media/my-contribution.4131308b4ed787a3c77c8b39b9cefaea.svg",ct=e=>{let{poolAddress:t}=e;const{pools:{[t]:n}}=(0,s.useSelector)((e=>e)),{TVL:a}=Qe(t),{balance:i}=ot(n.mintLpt.toBase58()),{apy:l,loading:u}=$e(t);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{lg:8,md:8,xs:24,children:(0,d.jsx)(rt,{title:"TVL",content:(0,d.jsxs)(c.Typography.Title,{level:3,children:["$ ",o.util.numeric(a).format("0,0.[00]a")]}),bg:at})}),(0,d.jsx)(c.Col,{lg:8,md:8,xs:24,children:(0,d.jsx)(rt,{title:"APY",content:u?(0,d.jsx)(c.Skeleton,{style:{width:150},active:!0,paragraph:{rows:1},title:!1}):(0,d.jsx)(c.Typography.Title,{level:3,children:o.util.numeric(l).format("0,0.[00]a%")}),bg:it})}),(0,d.jsx)(c.Col,{lg:8,md:8,xs:24,children:(0,d.jsx)(rt,{title:"My Contribution",content:(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Typography.Title,{level:3,children:o.util.numeric(i).format("0,0.[00]")}),(0,d.jsx)(c.Typography.Text,{type:"secondary",children:" LP"})]}),bg:lt})})]})};var dt=n(51518),ut=n.n(dt);const pt=e=>{let{poolAddress:t,size:n=24,icon:o=(0,d.jsx)(m.Z,{name:"diamond-outline"}),max:r}=e;const a=(0,s.useSelector)((e=>e.pools[t]));return(0,d.jsx)(c.Avatar.Group,{style:{whiteSpace:"nowrap"},maxCount:r,size:n,children:a&&a.mints.map((e=>(0,d.jsx)(X.Z,{mintAddress:e.toBase58(),size:n,icon:o},e.toBase58())))})};var ht=n(58421);const mt=e=>{let{onChange:t,disabled:n=!1,mints:s}=e;const[a,i]=(0,r.useState)(""),l=(0,r.useCallback)((async()=>{if(!a||a.length<3)return t(s);const e=(await o.tokenProvider.find(a)).filter((e=>{let{address:t}=e;return s.includes(t)})).map((e=>{let{address:t}=e;return t}));return s.forEach((t=>{if(!e.includes(t)&&t.toLowerCase().includes(a.toLowerCase()))return e.push(t)})),t(e)}),[a,t,s]);return(0,r.useEffect)((()=>{l()}),[l]),(0,d.jsx)(c.Card,{className:"mint-search",bodyStyle:{padding:0},style:{padding:8},bordered:!1,children:(0,d.jsx)(c.Input,{placeholder:"Search",value:a,size:"small",bordered:!1,suffix:(0,d.jsx)(c.Button,{type:"text",style:{marginRight:-7},size:"small",onClick:a?()=>i(""):()=>{},icon:(0,d.jsx)(m.Z,{name:a?"close-outline":"search-outline"}),disabled:n}),onChange:e=>i(e.target.value),disabled:n})})};var xt=n(63396);const gt=e=>{let{mintAddress:t,onClick:n,active:s=!1}=e;return(0,d.jsx)(c.Card,{bodyStyle:{padding:0},className:"card-child-balansol mint-select-item",bordered:s,onClick:n,hoverable:!0,children:(0,d.jsxs)(c.Space,{size:12,style:{display:"flex"},children:[(0,d.jsx)(X.Z,{mintAddress:t,size:32}),(0,d.jsx)(c.Typography.Text,{style:{margin:0},children:(0,d.jsx)(Q.Z,{mintAddress:t})}),(0,d.jsx)(c.Divider,{type:"vertical",style:{margin:0}}),(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{margin:0,fontSize:12},children:(0,d.jsx)(xt.Z,{mintAddress:t})})]})})},yt=e=>{let{selectedMint:t,onChange:n,visible:s,mints:o,onClose:a}=e;const[i,l]=(0,r.useState)(o);return(0,d.jsx)(c.Modal,{open:s,closeIcon:(0,d.jsx)(m.Z,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,onCancel:a,children:(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,children:"Select token"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(mt,{mints:o,onChange:l})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[16,16],style:{height:300},className:"scrollbar",children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[16,16],children:i.slice(0,100).map(((e,s)=>(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(ht.ZP,{height:48,overflow:!0,children:(0,d.jsx)(gt,{mintAddress:e,onClick:()=>n(e),active:t===e})})},s)))})})})})]})})},ft=e=>{let{selectedMint:t,mints:n=[],onChange:s=(()=>{}),mintLabel:o,mintAvatar:a}=e;const[i,l]=(0,r.useState)(!1);return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsxs)(c.Space,{className:"mint-select",onClick:()=>l(n.length>0),children:[a||(0,d.jsx)(X.Z,{mintAddress:t}),o||(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(Q.Z,{mintAddress:t})}),n.length?(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(m.Z,{name:"chevron-down-outline"})}):null]})]}),i&&(0,d.jsx)(yt,{selectedMint:t,visible:i,onChange:e=>(s&&s(e),l(!1)),mints:n,onClose:()=>l(!1)})]})};var jt=n(48744);const wt=e=>{const t=(0,o.useWalletBalance)(),n=ot(e),s=ot(T.Gd.toBase58()),a=(0,r.useMemo)((()=>{const e=s.amount.add(new i.BN(t));return{balance:Number(tt.utilsBN.undecimalize(e,9)),amount:e}}),[t,s.amount]);return e===T.Gd.toBase58()?a:n},bt=[50,100],Ct=e=>{let{amount:t,selectedMint:n,portionValue:s,onChangeAmount:a}=e;const i=(0,o.useTheme)(),{balance:l,amount:u}=wt(n),{undecimalizeMintAmount:p}=Xe();let h=(0,r.useMemo)((()=>{let e=0;for(const n in bt){if(!l)break;const s=bt[n],o=l*s/100;Number(t).toFixed(4)===o.toFixed(4)&&(e=s)}return e}),[t,l]);const m="dark"===i?"#394360":"#ced0d7";return(0,d.jsxs)(c.Space,{size:4,direction:"vertical",children:[(0,d.jsx)(c.Radio.Button,{className:"proportion-btn",disabled:!a,onClick:async()=>{if(!a)return;const e=new jt.BN(u.toString()).mul(new jt.BN(s)).divRound(new jt.BN(100)),t=await p(e,n);a(t)},style:{background:s<=h?"#63e0b3":m}}),(0,d.jsx)(c.Typography.Text,{type:"secondary",className:"caption",children:`${s}%`})]},s)},At=[50,100];function St(e){let{amount:t,onChangeAmount:n,selectedMint:s,mints:a=[],onSelect:i=(()=>{}),mintLabel:l,mintAvatar:u,ratioButton:p,unit:h,force:m,mintSelection:x,footer:y,placeholder:f="0"}=e;const{balance:j}=wt(s),w=(0,r.useCallback)((e=>{if(!n)return;const t=Number(e)>j&&!!n;return n(e,t)}),[j,n]);return(0,d.jsxs)(c.Row,{gutter:[0,10],align:"middle",className:"card-swap-item",children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[10,0],wrap:!1,children:[(0,d.jsx)(c.Col,{children:x||(0,d.jsx)(ft,{selectedMint:s,onChange:i,mints:a,mintLabel:l,mintAvatar:u})}),(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(g,{bordered:!1,controls:!1,placeholder:String(Number(f)),value:t,max:m?j:void 0,onValue:w,disabled:!n||m&&!j})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{align:"middle",style:{width:"100%"},wrap:!1,children:[(0,d.jsx)(c.Col,{flex:"auto",style:{justifyContent:"left"},children:(0,d.jsxs)(c.Space,{className:"caption",children:[(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"Available:"}),(0,d.jsx)(c.Typography.Text,{style:{cursor:"pointer"},children:o.util.numeric(j).format("0,0.[00]")}),(0,d.jsx)(c.Typography.Text,{type:"secondary",children:h||(0,d.jsx)(Q.Z,{mintAddress:s})})]})}),(0,d.jsx)(c.Col,{className:"proportion-wrap",style:{display:null===p?"none":""},children:p||(0,d.jsx)(c.Space,{children:At.map(((e,o)=>(0,d.jsx)(Ct,{amount:t,selectedMint:s,portionValue:e,onChangeAmount:n},o)))})})]})}),y]})}const vt=e=>{const[t,n]=(0,r.useState)(new i.BN(0)),s=(0,o.useGetMintData)(),a=(0,r.useCallback)((async()=>{if(!e)return n(new i.BN(0));let t=new i.web3.PublicKey(e).toString();try{const e=await s({mintAddress:t}).then((e=>e?e[t].supply.toString():"0"));return n(new i.BN(e))}catch(o){}}),[s,e]);return(0,r.useEffect)((()=>{a()}),[a]),{supply:t}},kt=()=>{const e=(0,o.useWalletAddress)(),t=(0,o.useWalletBalance)(),n=(0,o.useGetMintDecimals)(),s=(0,o.useAccounts)(),a=(e,t,n)=>o.util.isAddress(e)&&void 0!==t&&void 0!==n?{mintAddress:e,amount:t,decimals:n,balance:Number(tt.utilsBN.undecimalize(t,n))}:{amount:new i.BN(0),decimals:0,balance:0};return{getMintBalance:(0,r.useCallback)((async function(r){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!o.util.isAddress(e)||!o.util.isAddress(r))return a();try{const o=await i.utils.token.associatedAddress({mint:new i.web3.PublicKey(r),owner:new i.web3.PublicKey(e)}).then((e=>e.toBase58())),c=r===v.DEFAULT_WSOL;if(o===e||c){const{amount:e=BigInt(0)}=s[o]||{},n=c?v.DEFAULT_WSOL:v.DEFAULT_EMPTY_ADDRESS,r=c?new i.BN((null===e||void 0===e?void 0:e.toString())||0):new i.BN((null===t||void 0===t?void 0:t.toString())||0);return a(n,l?new i.BN((null===t||void 0===t?void 0:t.toString())||0+(null===e||void 0===e?void 0:e.toString())||0):r,9)}const{amount:d,mint:u}=s[o]||{},p=await n({mintAddress:u});return a(u,new i.BN((null===d||void 0===d?void 0:d.toString())||0),p)}catch(c){return a()}}),[s,n,t,e])}};var Tt=n(82714);const Bt=()=>{const{getMintBalance:e}=kt(),t=(0,o.useWalletAddress)(),n=(0,o.useAccounts)(),s=(0,r.useCallback)((async(s,o)=>{const r=new i.web3.Transaction,{balance:a}=await e(s);if(s!==T.Gd.toBase58()||a>=o)return;const l=v.utils.decimalize(o,9)-v.utils.decimalize(a,9),c=await(0,k.Am)(T.Gd,new i.web3.PublicKey(t));if(!n[c.toBase58()]){const e=await(async e=>{const t=await(0,k.Am)(T.Gd,e);return(0,B.E)(e,t,e,T.Gd)})(new i.web3.PublicKey(t));r.add(e)}const d=await(async(e,t)=>{const n=await(0,k.Am)(T.Gd,t);return i.web3.SystemProgram.transfer({fromPubkey:t,toPubkey:n,lamports:e})})(l,new i.web3.PublicKey(t));return r.add(d,(0,Tt.D2)(c)),r}),[n,e,t]);return{createWrapSolTxIfNeed:s,createUnWrapSolTxIfNeed:async e=>{if(e!==T.Gd.toBase58())return;const n=await(async e=>{const t=await(0,k.Am)(T.Gd,e);return(0,N.Zu)(t,e,e)})(new i.web3.PublicKey(t));return(new i.web3.Transaction).add(n)}}},Nt=e=>{let{poolAddress:t,hideModal:n}=e;const a=(0,s.useSelector)((e=>e.pools[t])),[i,l]=(0,r.useState)(new Array(a.mints.length).fill("0")),[u,p]=(0,r.useState)([]),[h,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!0),[y,f]=(0,r.useState)(!1),[j,w]=(0,r.useState)(0),[b,C]=(0,r.useState)(0),[S,v]=(0,r.useState)(0),{supply:k}=vt(a.mintLpt),{decimalizeMintAmount:T,undecimalizeMintAmount:B}=Xe(),N=(0,o.useGetMintDecimals)(),{getMintBalance:z}=kt(),{createWrapSolTxIfNeed:M}=Bt(),P=(0,r.useMemo)((()=>{const e=o.util.numeric(b).format("0,0.[0000]");return b>0&&b<1e-4?"LP < 0.0001":e}),[b]),R=(0,r.useCallback)((async()=>{v(0);const{reserves:e,weights:t,fee:n,taxFee:s,mints:o}=a;let r=[],l=[];for(let a in i){const e=await N({mintAddress:o[a].toBase58()})||0,t=await T(i[a],o[a]);r.push(t),l.push(e)}const{lpOut:c,impactPrice:d}=ue(r,e,t,k,l,n.add(s));C(c),v(d)}),[i,T,N,a,k]);(0,r.useEffect)((()=>{R()}),[R]);const I=(0,r.useCallback)((async()=>{const{mints:e}=a;for(let t in i){const{balance:n}=await z(e[t].toBase58(),!0);if(Number(i[t])>n)return g(!0)}return b?S>A.acceptableSwap&&!y?g(!0):g(!1):g(!0)}),[i,z,S,y,b,a]);(0,r.useEffect)((()=>{I()}),[I]);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,children:"Deposit"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[24,8],children:a.mints.map(((e,t)=>{let n=e.toBase58();const s=ie(a.weights,a.weights[t]);return(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(St,{selectedMint:n,amount:i[t],onChangeAmount:e=>(async(e,t)=>{const{reserves:n,mints:s}=a;let o=[...i];o[e]=t,l(o),w(e),l(o);const r=await Promise.all(s.map((async(o,r)=>{if(e===r)return"";const a=await N({mintAddress:s[r].toBase58()})||0,i=await B(n[j],s[j]),l=await B(n[r],s[r]),c=(Number(i)+Number(t))/Number(i);return(Number(l)*(c-1)).toFixed(a)})));p(r)})(t,e),mintLabel:(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(Q.Z,{mintAddress:n||""})}),(0,d.jsx)(c.Typography.Text,{children:o.util.numeric(s).format("0,0.[0000]%")})]}),ratioButton:(h=t,j!==h&&Number(i[j])>0&&Number(u[h])>0&&Number(u[h])!==Number(i[h])&&(0,d.jsx)(c.Tooltip,{title:u[t],children:(0,d.jsx)(c.Button,{type:"text",style:{marginRight:-15},onClick:()=>(async e=>{const t=[...i];t[e]=u[e],l(t)})(t),children:"Apply suggestion"})}))})},e.toBase58());var h}))})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[0,13],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{align:"middle",children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"Price impact"})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)("span",{style:{color:O(S)},children:o.util.numeric(S).format("0,0.[0000]%")})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{align:"middle",children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"You will receive"})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Typography.Title,{level:4,children:[P," LP"]})})]})})]})}),S>A.acceptableSwap&&(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Checkbox,{onChange:e=>f(e.target.checked),checked:y,children:"I agree to execute this trade with the high price impact."})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{size:"large",type:"primary",block:!0,onClick:async()=>{m(!0);try{const e=(0,o.getAnchorProvider)(),s=await Promise.all(a.mints.map((async(e,t)=>await T(i[t],e)))),r=[];for(const t in a.mints){const e=await M(a.mints[t].toBase58(),i[t]);e&&r.push(e)}const{tx:l}=await window.balansol.addLiquidity(t,s,!1);r.push(l);const c=await e.sendAll(r.map((e=>({tx:e,signers:[]}))));F("Deposit",c[c.length-1]),n()}catch(e){E(e)}finally{m(!1)}},loading:h,disabled:x,children:"Deposit"})})]})},zt=e=>{let{poolAddress:t}=e;const[n,s]=(0,r.useState)(!1);return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Button,{type:"primary",onClick:()=>s(!0),block:!0,children:"Deposit"}),(0,d.jsx)(c.Modal,{open:n,onCancel:()=>s(!1),footer:null,destroyOnClose:!0,centered:!0,closeIcon:(0,d.jsx)(m.Z,{name:"close-outline"}),children:(0,d.jsx)(Nt,{poolAddress:t,hideModal:()=>s(!1)})})]})};var Mt=n(60914);const Pt=e=>{let{mintAddress:t,amount:n}=e;return(0,d.jsxs)(c.Row,{children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(X.Z,{mintAddress:t}),(0,d.jsx)(c.Typography.Text,{type:"secondary",children:(0,d.jsx)(Q.Z,{mintAddress:t})})]})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(Mt.Z,{mintAddress:t,amount:n})})})]})},Rt=e=>{let{poolAddress:t,lptAmount:n,onSuccess:a=(()=>{})}=e;const[l,u]=(0,r.useState)([]),[p,h]=(0,r.useState)(!1),m=(0,s.useSelector)((e=>e.pools[t])),x=(0,o.useGetMintData)(),{decimalize:g}=Xe(),{createUnWrapSolTxIfNeed:y}=Bt();const f=(0,r.useCallback)((async()=>{var e;let t=m.mintLpt.toBase58(),s=await x({mintAddress:t});if(!s){const e=new Array(m.reserves.length).fill(new i.BN(0));return u(e)}let o=null===(e=s[t])||void 0===e?void 0:e.supply,r=await g(n,9),a=((e,t,n)=>{let s=e.toNumber()/t.toNumber();return n.map((e=>new i.BN(s*Number(e))))})(new i.BN(String(r)),new i.BN(String(o)),m.reserves);return u(a)}),[g,x,n,m.mintLpt,m.reserves]);return(0,r.useEffect)((()=>{f()}),[f]),(0,d.jsxs)(c.Row,{gutter:[0,24],className:"withdraw",children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[0,14],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:"12px"},children:"You will receive"})}),m.mints.map(((e,t)=>(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Pt,{mintAddress:e.toBase58(),amount:l[t]},t)},e.toBase58())))]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",block:!0,onClick:async()=>{try{h(!0);let e=g(n,9);const s=(0,o.getAnchorProvider)(),r=await async function(){const e=(0,o.getAnchorProvider)();return await(0,tt.initTxCreateMultiTokenAccount)(e,{mints:m.mints})}(),{transaction:i}=await window.balansol.createRemoveLiquidityTransaction(t,e);r.push(i);for(const t of m.mints){const e=await y(t.toBase58());e&&r.push(e)}const l=await s.sendAll(r.map((e=>({tx:e,signers:[]}))));F("Withdraw",l[l.length-1]),a()}catch(e){E(e)}finally{h(!1)}},size:"large",loading:p,disabled:!Number(n),children:"Withdraw"})})]})},It=e=>{let{poolAddress:t,lptAmount:n,mintAddress:a,onSuccess:l=(()=>{}),withdrawableMax:u}=e;const[p,h]=(0,r.useState)(new i.BN(0)),[m,x]=(0,r.useState)(0),[g,y]=(0,r.useState)(!1),f=(0,o.useGetMintDecimals)(),j=(0,s.useSelector)((e=>e.pools[t])),{decimalize:w}=Xe(),{supply:b}=vt(j.mintLpt),{createUnWrapSolTxIfNeed:C}=Bt(),A=Number(n)>u,S=(0,r.useCallback)((async()=>{let e=w(n,9);x(0);let t=[];for(let n in j.reserves){const e=await f({mintAddress:j.mints[n].toBase58()})||0;t.push(e)}const s=j.mints.map((e=>e.toBase58())).indexOf(a),{tokenAmountOut:o,impactPrice:r}=pe(e,s,j.reserves,j.weights,b,t,j.fee.add(j.taxFee));h(o||new i.BN(0)),x(r)}),[w,f,n,a,j,b]);return(0,r.useEffect)((()=>{S()}),[S]),(0,d.jsxs)(c.Row,{gutter:[12,12],className:"withdraw",children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:"14px"},children:"Price impact"})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)("span",{style:{color:O(m)},children:o.util.numeric(m).format("0,0.[0000]%")})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[14,14],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:"14px"},children:"You will receive"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Pt,{mintAddress:a,amount:p})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[0,8],children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",size:"large",block:!0,onClick:async()=>{if(Number(n)>u)return E({message:"Please input amount less than 30% Liquidity Provider!"});try{y(!0);const e=[],s=(0,o.getAnchorProvider)();let r=w(n,9);const{tx:i}=await window.balansol.removeSidedLiquidity(t,a,r,!1);e.push(i);const c=await C(a);c&&e.push(c);const d=await s.sendAll(e.map((e=>({tx:e,signers:[]}))));F("Withdraw",d[d.length-1]),l()}catch(e){E(e)}finally{y(!1)}},disabled:p.isZero()||A,loading:g,children:"Withdraw"})})})})]})},Lt=e=>{let{poolAddress:t,hideModal:n}=e;const a=(0,s.useSelector)((e=>e.pools[t])),i=(0,r.useMemo)((()=>a?a.mints.map((e=>e.toBase58())):[]),[a]),[l,u]=(0,r.useState)(i),[p,h]=(0,r.useState)(""),[m,x]=(0,r.useState)(!0),{balance:g}=ot(a.mintLpt.toBase58()),{supply:y}=vt(a.mintLpt),f=(0,r.useMemo)((()=>Number(v.utils.undecimalize(BigInt(y.toString()),9))),[y]),j=(0,r.useMemo)((()=>Number((30*f/100).toFixed(9))),[f]),w=(0,r.useMemo)((()=>!m||j>g?g:j),[m,g,j]),b=l.length===(null===a||void 0===a?void 0:a.mints.length);return(0,d.jsxs)(c.Row,{gutter:[24,24],className:"withdraw",children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,children:"Withdraw"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[12,12],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:"12px"},children:"You want to receive"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[12,12],children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Button,{className:"btn-token-name "+(b?"selected":""),onClick:()=>u(i),children:(0,d.jsx)("span",{className:"title",children:"All"})})}),i.map((e=>{let t=l.includes(e)?"selected":"";return(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Button,{className:`btn-token-name ${t}`,onClick:()=>u([e]),children:(0,d.jsx)("span",{className:"title",children:(0,d.jsx)(Q.Z,{mintAddress:e})})})},e)}))]})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(St,{selectedMint:null===a||void 0===a?void 0:a.mintLpt.toBase58(),amount:p,onChangeAmount:e=>h(e),mintLabel:(0,d.jsx)(c.Typography.Text,{ellipsis:!0,children:"Balansol LP"}),mintAvatar:(0,d.jsx)(pt,{poolAddress:t,max:2}),unit:"LP",force:!0,ratioButton:!b&&(0,d.jsx)(c.Button,{onClick:()=>h(`${w}`),size:"small",children:"Max"}),footer:!b&&(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Tag,{style:{width:"100%",border:"none",padding:"5px 16px",whiteSpace:"unset"},color:"gold",children:(0,d.jsxs)(c.Space,{align:"center",size:6,children:[(0,d.jsx)(c.Checkbox,{className:"warning-checkbox",checked:m,onChange:()=>x(!m)}),(0,d.jsxs)(c.Typography.Text,{style:{color:"inherit"},children:["Prevent to withdraw more than 30% (Currently"," ",o.util.numeric(Number(p)/f).format("0,0.[00]%"),") of the total LP."]})]})})})})}),(0,d.jsx)(c.Col,{span:24,children:b?(0,d.jsx)(Rt,{poolAddress:t,lptAmount:p,onSuccess:n}):(0,d.jsx)(It,{poolAddress:t,mintAddress:l[0],lptAmount:p,onSuccess:n,withdrawableMax:w})})]})},Dt=e=>{let{poolAddress:t}=e;const[n,s]=(0,r.useState)(!1);return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Button,{ghost:!0,onClick:()=>s(!0),block:!0,children:"Withdraw"}),(0,d.jsx)(c.Modal,{open:n,onCancel:()=>s(!1),footer:null,destroyOnClose:!0,centered:!0,closeIcon:(0,d.jsx)(m.Z,{name:"close-outline"}),children:(0,d.jsx)(Lt,{poolAddress:t,hideModal:()=>s(!1)})})]})},Zt=e=>{let{title:t,value:n}=e;const[s,a]=(0,r.useState)(!1);return(0,d.jsxs)(c.Space,{direction:"vertical",size:4,children:[(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(c.Typography.Text,{type:"secondary",children:t}),(0,d.jsx)(c.Button,{type:"text",size:"small",icon:(0,d.jsx)(m.Z,{name:"open-outline"}),onClick:()=>window.open(o.util.explorer(n),"_blank")})]}),(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(c.Typography.Text,{style:{wordBreak:"break-all"},children:n}),(0,d.jsx)(c.Tooltip,{title:"Copied",open:s,arrowPointAtCenter:!0,children:(0,d.jsx)(ut(),{text:n,children:(0,d.jsx)(c.Button,{type:"text",size:"small",icon:(0,d.jsx)(m.Z,{name:"copy-outline"}),onClick:async()=>{a(!0),await o.util.asyncWait(1500),a(!1)}})})})]})]})},Ft=e=>{let{poolAddress:t}=e;const n=(0,s.useSelector)((e=>e.pools[t])),r=(0,o.useInfix)()<o.Infix.md;return(0,d.jsxs)(c.Row,{gutter:[24,24],justify:"space-between",children:[(0,d.jsx)(c.Col,{md:18,xs:24,children:(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(pt,{poolAddress:t,size:32}),(0,d.jsx)(c.Typography.Title,{level:4,children:"Balansol LP"}),(0,d.jsx)(c.Popover,{placement:"bottom",content:(0,d.jsxs)(c.Space,{direction:"vertical",children:[(0,d.jsx)(Zt,{title:"Pool Address",value:t}),(0,d.jsx)(Zt,{title:"LPT Address",value:n.mintLpt.toBase58()})]}),children:(0,d.jsx)(c.Button,{type:"text",style:{marginLeft:-4},icon:(0,d.jsx)(m.Z,{name:"information-circle-outline"})})})]})}),(0,d.jsx)(c.Col,{span:r?24:void 0,children:(0,d.jsxs)(c.Space,{style:{width:"100%"},children:[(0,d.jsx)(Dt,{poolAddress:t}),(0,d.jsx)(zt,{poolAddress:t})]})})]})},{manifest:{appId:Et}}=Z,Ot=`/app/${Et}`,Wt=()=>{const{search:e,pathname:t}=(0,a.useLocation)(),n=(0,a.useHistory)(),s=(0,r.useMemo)((()=>new URLSearchParams(e)),[e]),o=(0,r.useCallback)((e=>s.get(e)),[s]),i=(0,r.useCallback)((()=>{const e={};s.forEach(((t,n)=>{e[n]=t}));return e}),[s]),l=(0,r.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=i();!1===s&&(t=Object.assign(o,t));const r=new URLSearchParams(t);r&&(e+=`?${r.toString()}`),n.push(`${Ot}${e}`)}),[i,n]);return{getQuery:o,getAllQuery:i,pushHistory:l,appRoute:Ot,pathname:t}},Yt=()=>{const{pushHistory:e}=Wt();return(0,d.jsxs)(c.Row,{justify:"center",children:[(0,d.jsx)(c.Col,{span:24,style:{textAlign:"center"},children:(0,d.jsx)(c.Empty,{description:"Pool not found"})}),(0,d.jsx)(c.Col,{span:24,style:{textAlign:"center"},children:(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(m.Z,{name:"arrow-back-outline"}),onClick:()=>e("/pools"),children:"Go Back Home"})})]})},Ut=()=>{const{getQuery:e,pushHistory:t}=Wt(),n=e("pool")||"",r=(0,s.useSelector)((e=>e.pools[n])),a=(0,o.useWalletAddress)(),i=(0,o.useInfix)();if(!r||!n)return(0,d.jsx)(Yt,{});const l=a===r.authority.toBase58(),u=i<o.Infix.md;return(0,d.jsx)(c.Row,{justify:"center",style:{paddingBottom:12},children:(0,d.jsx)(c.Col,{lg:20,md:24,style:{maxWidth:u?"":930},children:(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(m.Z,{name:"arrow-back-outline"}),onClick:()=>t("/pools"),style:{margin:-12},children:"Back"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Ft,{poolAddress:n})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(ct,{poolAddress:n})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[24,24],style:{display:"flex"},children:[(0,d.jsx)(c.Col,{lg:12,md:12,xs:24,children:(0,d.jsx)(et,{poolAddress:n})}),(0,d.jsx)(c.Col,{lg:12,md:12,xs:24,children:(0,d.jsx)(Be,{poolAddress:n})}),l&&(0,d.jsx)(c.Col,{lg:12,md:12,xs:24,children:(0,d.jsx)(ge,{poolAddress:n})})]})})]})})})};var Gt=n(70457),Kt=n(19289);const Vt="swap",qt=(0,Kt.createAsyncThunk)("swap/setSwapState",(async e=>e)),Ht=(0,Kt.createSlice)({name:Vt,initialState:{bidMint:"",bidAmount:"",askMint:"",askAmount:"",isReverse:!1,slippageTolerance:.5,loading:!1},reducers:{},extraReducers:e=>{e.addCase(qt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Jt=()=>{const{askMint:e,askAmount:t,loading:n,isReverse:a,bidAmount:i}=(0,s.useSelector)((e=>e.swap)),l=(0,o.useTheme)(),u=(0,s.useDispatch)(),{getAllQuery:p}=Wt(),{ask_mint:h}=p();(0,r.useEffect)((()=>{if(!e){const e=h||Z.sol.askMintDefault;u(qt({askMint:e}))}}),[e,h,u]);return(0,d.jsx)(c.Card,{bordered:!1,className:"card-swap",bodyStyle:{padding:0},children:(0,d.jsx)(c.Spin,{spinning:n&&!a&&!!Number(i),children:(0,d.jsx)(St,{amount:t,selectedMint:e,onChangeAmount:async e=>{u(qt({askAmount:e,isReverse:!0,bidAmount:"",loading:!0})).unwrap()},ratioButton:null,mintSelection:(0,d.jsx)(Gt.Z,{value:e,onChange:t=>{u(qt({askMint:t,loading:e!==t})).unwrap()},style:{background:"dark"===l?"#394360":"#F2F4FA"}})})})})},Xt=(0,r.createContext)({activePools:{}}),Qt=e=>{let{children:t}=e;const n=(()=>{const e=(0,s.useSelector)((e=>e.pools)),[t,n]=(0,r.useState)({}),{getTVL:o}=Qe(),a=(0,r.useCallback)((async()=>{const t={};for(const n in e){const s=e[n];s.state.initialized&&(s.reserves.map((e=>e.toString())).includes("0")||await o(s)<1e3||(t[n]=s))}n(t)}),[o,e]);return(0,r.useEffect)((()=>{a()}),[a]),t})(),o=(0,r.useMemo)((()=>({activePools:n})),[n]);return(0,d.jsx)(Xt.Provider,{value:o,children:t})},$t=()=>(0,r.useContext)(Xt),_t=()=>{const{bidAmount:e,bidMint:t,askMint:n}=(0,s.useSelector)((e=>e.swap)),a=(0,s.useDispatch)(),i=(0,o.useTheme)(),l=(()=>{const{activePools:e}=$t(),t=(0,r.useMemo)((()=>{let t=[];for(const{mints:n}of Object.values(e))for(const e of n)t.includes(e.toBase58())||t.push(e.toBase58());return t}),[e]);return t})(),{getAllQuery:c}=Wt(),{bid_mint:u}=c();(0,r.useEffect)((()=>{if(!t){const e=u||Z.sol.bidMintDefault;a(qt({bidMint:e}))}}),[t,u,a]);const p=(0,r.useMemo)((()=>l.filter((e=>e!==n))),[n,l]);return(0,d.jsx)(St,{amount:e,selectedMint:t,onChangeAmount:e=>{a(qt({bidAmount:e,isReverse:!1,askAmount:"",loading:!0}))},mints:p,mintSelection:(0,d.jsx)(Gt.Z,{value:t,onChange:e=>{a(qt({bidMint:e,loading:t!==e}))},style:{background:"dark"===i?"#394360":"#F2F4FA"}})})};const en=n.p+"static/media/jupiter-logo.6553c3779ce16057aa846301783447a2.svg",tn=e=>{let{title:t="Powered by",spacing:n=4,iconSize:s=20}=e;return(0,d.jsxs)(c.Space,{size:n,style:{cursor:"pointer"},children:[(0,d.jsx)(c.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:t}),(0,d.jsx)(c.Tooltip,{title:"Jupiter Aggregator",children:(0,d.jsx)(c.Avatar,{src:en,size:s})})]})};var nn=n(93253);const sn=()=>{const{askMint:e,bidMint:t}=(0,s.useSelector)((e=>e.swap)),n=(()=>{const{activePools:e}=$t(),t=(0,r.useCallback)(((t,n,s,o)=>{let r=e[o],a=r.mints.map((e=>e.toBase58())),i=a.indexOf(n),l=a.indexOf(s),c=r.actions;return c[i].active&&c[l].active?(n===s||(t[n]||(t[n]={}),t[n][s]||(t[n][s]=[]),t[n][s].push(o)),t):t}),[e]);return(0,r.useMemo)((()=>{let n={};for(const s in e){const o=e[s].mints.map((e=>e.toBase58()));for(const e of o)for(const r of o)n=t(n,e,r,s)}return n}),[e,t])})(),[o,a]=(0,r.useState)([]),i=e=>{const t=e.map((e=>e.pool));for(const n in t)if(t[n]===t[Number(n)+1])return!1;for(const n of e)for(const t of e)if(n.bidMint===t.askMint&&n.askMint===t.bidMint)return!1;return!0},l=(0,r.useCallback)((function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(s>3)return[];const o=n[e];if(!o)return[];const r=o[t]||[],a=r.map((n=>[{pool:n,bidMint:e,askMint:t}]));for(const n in o){const r=o[n];if(!r)continue;const c=l(n,t,s+1);for(const t of c)for(const s of r){const o=[{pool:s,bidMint:e,askMint:n},...t];i(o)&&a.push(o)}}return a}),[n]),c=(0,r.useCallback)((()=>{const n=l(t,e);a(n)}),[e,t,l]);return(0,nn.Z)((async()=>c()),300,[c]),o},on=()=>{const[e,t]=(0,r.useState)({route:[],bidAmount:0,askAmount:0,priceImpact:0}),[n,a]=(0,r.useState)(!1),{bidMint:i,askAmount:l,askMint:c,isReverse:d}=(0,s.useSelector)((e=>e.swap)),{activePools:u}=$t(),{undecimalizeMintAmount:p}=Xe(),h=(e=>{const{askAmount:t,isReverse:n}=(0,s.useSelector)((e=>e.swap)),{activePools:a}=$t(),{decimalizeMintAmount:i}=Xe(),[l,c]=(0,r.useState)([]),d=(0,o.useGetMintDecimals)(),u=(0,r.useCallback)((async()=>{const s=[];if(!n)return c([]);for(const n of e){const e=n[n.length-1].askMint;let o=[],r=!0,l=await i(t,e);for(const t of[...n].reverse()){const{bidMint:e,askMint:n,pool:s}=t,i=a[s],c=se(i,e),u=se(i,n),p=await d({mintAddress:e})||0,h=await d({mintAddress:n})||0;if(l.gt(u.reserve)){r=!1;break}const m=ae(l,u.reserve,c.reserve,u.normalizedWeight,c.normalizedWeight,i.fee.add(i.taxFee));if(m.lten(0)){r=!1;break}const x={balanceIn:c.reserve,balanceOut:u.reserve,weightIn:c.normalizedWeight,weightOut:u.normalizedWeight,decimalIn:p,decimalOut:h,swapFee:i.fee.add(i.taxFee)},g=ce(m,x);o=[{pool:t.pool,bidMint:e,askMint:n,bidAmount:m,askAmount:l,priceImpact:g}].concat(o),l=m}r&&s.push(o)}return c(s)}),[a,t,i,d,n,e]);return(0,nn.Z)((async()=>u()),300,[u]),l})(sn()),m=(0,r.useCallback)((async()=>{var e;const n=h.sort(((e,t)=>{let n=e[0].bidAmount,s=t[0].bidAmount;return n.gt(s)?1:-1}))[0];if(null===n||void 0===n||!n.length||!i||!c)return t({route:[],bidAmount:Number(0),askAmount:0,priceImpact:0});let s=await p(null===(e=n[0])||void 0===e?void 0:e.bidAmount,i);const o=n.map(((e,t)=>{const s=u[e.pool];return{...n[t],poolData:s}})),r=he(o);return t({route:n,bidAmount:Number(s),askAmount:Number(l),priceImpact:r})}),[l,c,i,u,h,p]);return(0,nn.Z)((()=>{try{if(!d)return;m()}catch(e){console.log("route error:",e)}finally{a(!1)}}),500,[m]),(0,r.useEffect)((()=>{a(!0)}),[m]),{loading:n,bestRoute:e}},rn=()=>{const[e,t]=(0,r.useState)({route:[],bidAmount:0,askAmount:0,priceImpact:0}),[n,a]=(0,r.useState)(!1),{bidAmount:i,askMint:l,bidMint:c,isReverse:d}=(0,s.useSelector)((e=>e.swap)),{activePools:u}=$t(),{undecimalizeMintAmount:p}=Xe(),h=(e=>{const{bidAmount:t,isReverse:n}=(0,s.useSelector)((e=>e.swap)),{activePools:a}=$t(),{decimalizeMintAmount:i}=Xe(),[l,c]=(0,r.useState)([]),d=(0,o.useGetMintDecimals)(),u=(0,r.useCallback)((async()=>{const s=[];if(n||!Number(t))return c([]);for(const n of e){const e=n[0].bidMint,o=[];let r=await i(t,e);for(const t of n){const{bidMint:e,askMint:n,pool:s}=t,i=a[s],l=se(i,e),c=se(i,n),u=await d({mintAddress:e})||0,p=await d({mintAddress:n})||0,h=re(r,c.reserve,l.reserve,c.normalizedWeight,l.normalizedWeight,i.fee.add(i.taxFee)),m={balanceIn:l.reserve,balanceOut:c.reserve,weightIn:l.normalizedWeight,weightOut:c.normalizedWeight,decimalIn:u,decimalOut:p,swapFee:i.fee.add(i.taxFee)};let x=ce(r,m);x<0&&(x=0),o.push({pool:t.pool,bidMint:e,askMint:n,bidAmount:r,askAmount:h,priceImpact:x}),r=h}s.push(o)}return c(s)}),[t,i,d,n,e,a]);return(0,nn.Z)((async()=>u()),300,[u]),l})(sn()),m=(0,r.useCallback)((async()=>{var e;const n=h.sort(((e,t)=>{let n=e[e.length-1].askAmount;return t[t.length-1].askAmount.gt(n)?1:-1}))[0];if(null===n||void 0===n||!n.length||!c||!l)return t({route:[],bidAmount:Number(i),askAmount:0,priceImpact:0});let s=await p(null===(e=n[n.length-1])||void 0===e?void 0:e.askAmount,l);const o=n.map(((e,t)=>{const s=u[e.pool];return{...n[t],poolData:s}})),r=he(o);return t({route:n,bidAmount:Number(i),askAmount:Number(s),priceImpact:r})}),[l,i,c,u,h,p]);return(0,nn.Z)((()=>{try{if(d)return;m()}catch(e){console.log("route error:",e)}finally{a(!1)}}),500,[m]),(0,r.useEffect)((()=>{a(!0)}),[m]),{loading:n,bestRoute:e}};const an=class{constructor(e,t){this._wallet=void 0,this.publicKey=void 0,this._wallet=t,this.publicKey=v.account.fromAddress(e)||null}async sendTransaction(e,t,n){return e=await this.signTransaction(e),await t.sendRawTransaction(e.serializeMessage(),n)}async signTransaction(e){return await this._wallet.signTransaction(e)}async signAllTransactions(e){return await this._wallet.signAllTransactions(e)}},ln=new i.web3.Connection(o.rpc),cn={amount:0,inputMint:void 0,outputMint:void 0,slippage:0,debounceTime:250},dn={route:[],bidAmount:0,askAmount:0,priceImpact:0};let un;!function(e){e[e.Balansol=0]="Balansol",e[e.Jupiter=1]="Jupiter"}(un||(un={}));const pn={route:[],bidAmount:0,askAmount:0,priceImpact:0,swap:async()=>({txId:""}),loading:!1,platform:un.Balansol},hn=(0,r.createContext)({...pn}),mn=e=>{let{children:t}=e;const n=(0,s.useSelector)((e=>e.swap.isReverse)),a=(0,s.useDispatch)(),[c,u]=(0,r.useState)({...pn}),p=(()=>{const{bidAmount:e,bidMint:t,askMint:n,slippageTolerance:a,isReverse:i}=(0,s.useSelector)((e=>e.swap)),{decimalizeMintAmount:l}=Xe(),c=rn(),d=on(),{createWrapSolTxIfNeed:u,createUnWrapSolTxIfNeed:p}=Bt(),{loading:h,bestRoute:m}=i?d:c,x=(0,r.useCallback)((async()=>{const e=(0,o.getAnchorProvider)();return await(0,tt.initTxCreateMultiTokenAccount)(e,{mints:m.route.map((e=>e.askMint))})}),[m.route]),g=(0,r.useCallback)((async()=>{const s=(0,o.getAnchorProvider)(),r=await l(e,t),i=Number(m.askAmount)*(1-a/100),c=await l(i,n),d=await x(),h=await u(t,e);h&&d.push(h);const{transaction:g}=await window.balansol.createRouteTransaction(r,m.route,c);d.push(g);const y=await p(n);y&&d.push(y);const f=await s.sendAll(d.map((e=>({tx:e,signers:[]}))));return{txId:f[f.length-1]}}),[n,m.askAmount,m.route,e,t,p,u,l,x,a]);return(0,r.useMemo)((()=>({...m,swap:g,loading:h,platform:un.Balansol})),[m,g,h])})(),h=(()=>{const[e,t]=(0,r.useState)(dn),[n,a]=(0,r.useState)({...cn}),{bidMint:c,askMint:d,bidAmount:u,slippageTolerance:p,isReverse:h}=(0,s.useSelector)((e=>e.swap)),m=(0,o.useWalletAddress)(),{decimalizeMintAmount:x,undecimalizeMintAmount:g}=Xe(),{exchange:y,routes:f,loading:j}=(0,l.OO)(n),w=(0,r.useCallback)((async()=>{if(!c||!d||!Number(u)||h)return a({...cn});const e=await x(u,c);a({amount:ne.toNumber(e),inputMint:new i.web3.PublicKey(c),outputMint:new i.web3.PublicKey(d),slippage:p,debounceTime:250})}),[d,u,c,x,h,p]);(0,nn.Z)((()=>w()),300,[w]);const b=(0,r.useCallback)((async()=>{const e=null===f||void 0===f?void 0:f[0];if(!c||!d||!Number(u)||h||!e)return t(dn);const n=e.marketInfos.map((e=>({bidAmount:new i.BN(e.inAmount.toString()),bidMint:e.inputMint.toBase58(),askAmount:new i.BN(e.outAmount.toString()),askMint:e.outputMint.toBase58(),pool:"",priceImpact:e.priceImpactPct}))),s=await g(new i.BN(e.inAmount.toString()),c),o=await g(new i.BN(e.outAmount.toString()),d);return t({route:n,bidAmount:Number(s),askAmount:Number(o),priceImpact:e.priceImpactPct})}),[d,u,c,h,f,g]);(0,nn.Z)((()=>b()),300,[b]);const C=(0,r.useCallback)((async()=>{var e;if(null===f||void 0===f||!f.length)throw new Error("No available route");const t=new an(m,window.sentre.solana),n=await y({wallet:t,routeInfo:f[0],onTransaction:async e=>(await ln.confirmTransaction(e,"confirmed"),await ln.getTransaction(e,{commitment:"confirmed"}))});if(n.error)throw new Error((null===(e=n.error)||void 0===e?void 0:e.message)||"Unknown Error");const{txid:s,outputAddress:o}=n;return{txId:s,dstAddress:o}}),[y,f,m]);return(0,r.useMemo)((()=>({...e,swap:C,platform:un.Jupiter,loading:!!Number(u)&&j})),[e,u,j,C])})(),m=(0,r.useCallback)((()=>{if(n)return;if(p.loading||h.loading&&"mainnet"===o.net)return a(qt({askAmount:"0",loading:!0}));let e=p.askAmount.toString(),t=h.askAmount.toString(),s=p;Number(t)>1.05*Number(e)&&"mainnet"===o.net&&(s=h);let r=s.askAmount.toString();return a(qt({askAmount:r,loading:!1})),u(s)}),[p,a,n,h]);(0,nn.Z)((()=>m()),1e3,[m]);const x=(0,r.useCallback)((()=>{if(!n)return;let e=p.bidAmount.toString();const t=p.loading;return t&&(e=""),a(qt({bidAmount:e,loading:t})),u(p)}),[p,a,n]);(0,nn.Z)((()=>x()),500,[x]);const g=(0,r.useMemo)((()=>c),[c]);return(0,d.jsx)(hn.Provider,{value:g,children:t})},xn=()=>(0,r.useContext)(hn),gn=()=>{const{route:e,platform:t}=xn(),n=[];return e.forEach(((e,t)=>{0===t&&n.push(e.bidMint),n.push(e.askMint)})),(0,d.jsxs)(c.Space,{children:[n.map(((e,t)=>(0,d.jsxs)(r.Fragment,{children:[t>0&&(0,d.jsx)(m.Z,{name:"chevron-forward-outline"}),(0,d.jsx)(X.Z,{mintAddress:e})]},t))),!!e.length&&t===un.Jupiter&&(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Divider,{type:"vertical",style:{margin:0}}),(0,d.jsx)(tn,{})]}),!e.length&&(0,d.jsx)(r.Fragment,{children:"--"})]})},yn=e=>{let{reversed:t=!1}=e;const{askMint:n,bidMint:r}=(0,s.useSelector)((e=>e.swap)),{bidAmount:a,askAmount:i}=xn();let l=t?i/a:a/i;a&&i||(l=0);const u=t?r:n,p=t?n:r;return(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(Q.Z,{mintAddress:u}),(0,d.jsx)(c.Typography.Text,{children:"="}),(0,d.jsx)(c.Typography.Text,{children:o.util.numeric(l).format("0.[0000]")}),(0,d.jsx)(Q.Z,{mintAddress:p})]})},fn=()=>{const[e,t]=(0,r.useState)(!1);return(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(c.Button,{type:"text",onClick:()=>{t(!e)},shape:"circle",icon:(0,d.jsx)(m.Z,{name:"swap-horizontal-outline"}),style:{background:"transparent"}}),(0,d.jsx)(c.Typography.Text,{children:"1"}),(0,d.jsx)(yn,{reversed:e})]})},jn=e=>{let{label:t="",content:n="",loading:s=!1}=e;return(0,d.jsxs)(c.Row,{align:"middle",style:{width:"100%"},children:[(0,d.jsx)(c.Col,{flex:"auto",style:{justifyContent:"left"},children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:t})}),(0,d.jsx)(c.Col,{children:s?(0,d.jsx)(c.Skeleton.Input,{style:{width:150},active:!0,size:"small"}):(0,d.jsx)("span",{children:n})})]})},wn=e=>{let{extraStyle:t}=e;const{slippageTolerance:n,loading:r,bidAmount:a,askAmount:i}=(0,s.useSelector)((e=>e.swap)),{priceImpact:l}=xn(),u=o.util.numeric(l).format("0.[0000]"),p=r&&(!!Number(a)||!!Number(i));return(0,d.jsxs)(c.Row,{gutter:[12,12],style:{...t},children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(jn,{label:"Price impact",content:(0,d.jsx)(c.Typography.Text,{style:{color:O(l)},children:Number(u)>0?o.util.numeric(u).format("0.[0000]%"):"~ 0%"}),loading:p})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(jn,{label:"Price",content:(0,d.jsx)(fn,{}),loading:p})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(jn,{label:"Slippage Tolerance",content:`${n}%`,loading:p})}),(0,d.jsx)(c.Col,{span:24,style:{minHeight:24},children:(0,d.jsx)(jn,{label:"Route",content:(0,d.jsx)(gn,{}),loading:p})})]})},bn=e=>{let{visible:t=!1,onCancel:n=(()=>{})}=e;const[o,a]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),h=(0,s.useDispatch)(),{bidAmount:x,bidMint:g,askMint:y}=(0,s.useSelector)((e=>e.swap)),{askAmount:f,priceImpact:j,swap:w}=xn();(0,r.useEffect)((()=>{if(j>A.goodSwap)return l(!0);l(!1)}),[j]);const b=(0,r.useCallback)((()=>{n(),a(!1)}),[n]);return(0,d.jsx)(c.Modal,{onCancel:b,closeIcon:(0,d.jsx)(m.Z,{name:"close"}),footer:null,open:t,forceRender:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,children:" Review"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{align:"middle",justify:"space-between",children:[(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Space,{direction:"vertical",children:[(0,d.jsx)(c.Typography.Text,{children:"From"}),(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(X.Z,{mintAddress:g}),(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(Q.Z,{mintAddress:g})})]}),(0,d.jsx)(c.Typography.Title,{level:4,children:x})]})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(m.Z,{name:"arrow-forward-outline",style:{fontSize:24}})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Space,{direction:"vertical",align:"end",children:[(0,d.jsx)(c.Typography.Text,{children:"To"}),(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(X.Z,{mintAddress:y}),(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(Q.Z,{mintAddress:y})})]}),(0,d.jsx)(c.Typography.Title,{level:4,children:f})]})})]})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Card,{bordered:!1,className:"confirm-info",children:(0,d.jsx)(wn,{})})}),i&&(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Checkbox,{checked:o,onChange:()=>a(!o),children:"The price impact is currently high. Tick the checkbox to accept the swap."})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",onClick:async()=>{p(!0);try{const{txId:e}=await w();n(),h(qt({bidAmount:"",askAmount:""})),F("Swap",e)}catch(e){E(e)}finally{p(!1)}},disabled:i&&!o,loading:u,block:!0,size:"large",children:"Swap"})})]})})},Cn=()=>{const e=(0,s.useSelector)((e=>e.swap.bidAmount)),t=(0,s.useSelector)((e=>e.swap.askAmount)),n=(0,s.useSelector)((e=>e.swap.bidMint)),o=(0,s.useSelector)((e=>e.swap.loading)),[a,i]=(0,r.useState)(!1),{route:l}=xn(),{balance:u}=wt(n),p=(0,r.useMemo)((()=>Number(e)?u<Number(e)?"Balance not enough":Number(t)&&l.length?"":"Route not found":"Enter an amount"),[t,u,e,l.length]);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",onClick:()=>i(!0),disabled:!!p,loading:o&&Number(e)+Number(t)!==0,block:!0,size:"large",children:p||"Review"})}),(0,d.jsx)(bn,{visible:a,onCancel:()=>i(!1)})]})},An=(0,r.memo)(Cn);const Sn=n.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",vn=e=>{let{title:t="Powered by",spacing:n=4,iconSize:s=20}=e;return(0,d.jsxs)(c.Space,{size:n,style:{cursor:"pointer"},children:[(0,d.jsx)(c.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:t}),(0,d.jsx)(c.Tooltip,{title:"Sentre Protocol",children:(0,d.jsx)(c.Avatar,{src:Sn,size:s})})]})},kn=[.5,1,2,100],Tn=()=>{const e=(0,s.useSelector)((e=>e.swap.slippageTolerance)),t=(0,s.useDispatch)();return(0,d.jsx)(c.Card,{bodyStyle:{padding:16},style:{boxShadow:"none"},children:(0,d.jsxs)(c.Space,{size:24,direction:"vertical",children:[(0,d.jsx)(c.Typography.Title,{level:5,children:"Slippage tolerance"}),(0,d.jsx)(c.Space,{size:12,children:kn.map((n=>{const s=n===e?"selected":"";return(0,d.jsx)(c.Button,{className:`btn-slippage ${s}`,onClick:()=>{(e=>{t(qt({slippageTolerance:e}))})(n)},children:100===n?"Freely":`${n}%`},n)}))})]})})},Bn=()=>(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(vn,{}),(0,d.jsx)(c.Divider,{type:"vertical"}),(0,d.jsx)(c.Popover,{placement:"bottomRight",content:(0,d.jsx)(Tn,{}),trigger:"click",overlayClassName:"slippage",overlayInnerStyle:{borderRadius:24},children:(0,d.jsx)(c.Button,{style:{marginRight:-7},type:"text",icon:(0,d.jsx)(m.Z,{name:"cog-outline"})})})]}),Nn=()=>{const e=(0,s.useDispatch)(),{askMint:t,bidMint:n,askAmount:o}=(0,s.useSelector)((e=>e.swap)),{pushHistory:a,getAllQuery:i}=Wt();(0,r.useEffect)((()=>{if(!t||!n)return;const{bid_mint:e,ask_mint:s}=i();n===e&&t===s||a("/swap",{bid_mint:n,ask_mint:t},!1)}),[t,n,i,a]);return(0,d.jsxs)(c.Row,{gutter:[12,12],justify:"center",children:[(0,d.jsx)(c.Col,{xs:24,md:14,lg:12,xl:8,children:(0,d.jsx)(c.Card,{style:{boxShadow:"unset"},children:(0,d.jsxs)(c.Row,{gutter:[0,16],justify:"end",children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(Bn,{})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[0,4],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(_t,{})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{className:"btn-switch-type",size:"small",icon:(0,d.jsx)(m.Z,{name:"git-compare-outline"}),onClick:()=>{e(qt({askMint:n,bidMint:t,bidAmount:o,askAmount:"",isReverse:!1,loading:!0}))}})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Jt,{})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(wn,{})}),(0,d.jsx)(c.Col,{span:24}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(An,{})})]})})}),(0,d.jsx)(c.Col,{span:24})]})};var zn=n(17604);const Mn=e=>{let{poolAddress:t}=e;const n=(0,s.useSelector)((e=>e.pools[t])),[a,i]=(0,r.useState)([]),l=(0,o.useTheme)();return(0,r.useEffect)((()=>{(async()=>{let e=await Promise.all(n.mints.map((async(e,t)=>{const s=ie(n.weights,n.weights[t]),r=await o.tokenProvider.findByAddress(e.toBase58());return`${o.util.numeric(s).format("0,0.[00]%")} ${(null===r||void 0===r?void 0:r.symbol)||e.toBase58().substring(0,4)}`})));i(e)})()}),[n.mints,n.weights]),(0,d.jsxs)(c.Space,{size:[16,8],align:"center",wrap:!0,children:[(0,d.jsx)(c.Typography.Text,{style:{whiteSpace:"nowrap"},children:"Balansol LP"}),a.map(((e,t)=>(0,d.jsx)(c.Card,{bodyStyle:{padding:"2px 8px"},style:{background:"dark"===l?"#394360":"#ffffff",marginRight:"-8px",boxShadow:"none"},children:(0,d.jsx)(c.Typography.Text,{children:e})},e+t)))]})},Pn=e=>{let{poolAddress:t}=e;const[n,a]=(0,r.useState)(!1),i=(0,s.useSelector)((e=>e.pools[t])),l=(0,o.useWalletAddress)(),u=i.state;return(0,d.jsxs)(c.Space,{size:10,children:[u.frozen&&(0,d.jsx)(c.Tooltip,{title:"Frozen Pool",children:(0,d.jsx)(m.Z,{name:"snow-outline"})}),i.authority.toBase58()===l&&(0,d.jsx)(c.Tooltip,{title:"Your pool",children:(0,d.jsx)(m.Z,{name:"person-outline"})}),(0,d.jsx)(c.Tooltip,{title:`Pool Address: ${t}`,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",style:{cursor:"pointer"},onClick:e=>{window.open(o.util.explorer(t),"_blank"),null===e||void 0===e||e.stopPropagation()},children:o.util.shortenAddress(t,3,"...")})}),(0,d.jsx)(c.Tooltip,{title:"Copied",open:n,children:(0,d.jsx)(ut(),{text:t,children:(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(m.Z,{name:"copy-outline"}),onClick:async e=>{a(!0),setTimeout((()=>a(!1)),1500),e.stopPropagation()},style:{width:"unset",height:"unset"}})})})]})},Rn=e=>{let{poolAddress:t}=e;const n=(0,s.useSelector)((e=>e.pools[t])),r=(0,o.useWalletAddress)(),{vol24h:a}=_e(t),{pushHistory:i}=Wt(),l=n.state,{TVL:u}=Qe(t),{balance:p}=ot(n.mintLpt.toBase58()),h=l.initialized||n.authority.toBase58()===r;return(0,d.jsxs)(c.Card,{className:""+(h?"pool-card-detail":"disabled-pool"),style:{boxShadow:"unset"},onClick:()=>i("/details",{pool:t}),children:[(0,d.jsxs)(c.Row,{style:{marginBottom:"16px"},children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(pt,{size:32,poolAddress:t,max:3})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(Pn,{poolAddress:t})})]}),(0,d.jsxs)(c.Row,{gutter:[0,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Mn,{poolAddress:t})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{align:"bottom",wrap:!1,children:(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsxs)(c.Row,{gutter:[32,0],children:[(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Space,{size:4,direction:"vertical",children:[(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"TVL:"}),(0,d.jsxs)(c.Typography.Title,{level:5,children:[" ",o.util.numeric(u).formatCurrency("($0.00a)")]})]})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Space,{size:4,direction:"vertical",children:[(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"Vol 24h:"}),(0,d.jsxs)(c.Typography.Title,{level:5,children:[" ",o.util.numeric(a).formatCurrency("($0.00a)")]})]})}),(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsxs)(c.Space,{size:4,direction:"vertical",children:[(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"My Contribution:"}),(0,d.jsxs)(c.Typography.Title,{level:5,children:[" ",o.util.numeric(p).format("0,0.[00]")," LP"]})]})})]})})})})]})]})},In=()=>{const[e,t]=(0,r.useState)(!0),[n,a]=(0,r.useState)({}),{poolsFilter:l}=(()=>{const[e,t]=(0,r.useState)({}),n=(0,s.useSelector)((e=>e.pools)),a=(0,s.useSelector)((e=>e.searchPools.filterPool)),l=(0,o.useWalletAddress)(),c=(0,o.useAccounts)(),d=(0,r.useCallback)((e=>n[e].authority.toBase58()===l),[n,l]),u=(0,r.useCallback)((async e=>{var t;const s=await i.utils.token.associatedAddress({mint:n[e].mintLpt,owner:new i.web3.PublicKey(l)});return!!(null===(t=c[s.toBase58()])||void 0===t?void 0:t.amount)}),[c,n,l]),p=(0,r.useCallback)((async e=>{let n={};for(const t in e){let s=!1;switch(a){case S.YourPools:s=d(t);break;case S.DepositedPools:s=await u(t);break;default:s=!0}s&&(n[t]=e[t])}t(n)}),[u,d,a]);return(0,r.useEffect)((()=>{p(n)}),[p,n]),{poolsFilter:e,filterListPools:p,checkIsYourPool:d}})(),u=(e=>{const[t,n]=(0,r.useState)({}),a=(0,s.useSelector)((e=>e.searchPools.searchInput)),i=(0,r.useCallback)((async()=>{const t={},s=(await o.tokenProvider.find(a)).map((e=>e.address)),r=Object.keys(e).filter((t=>{if(!a||!e||a.length<3)return!0;const n=e[t],{mintLpt:o,mints:r}=n;if(t.includes(a))return!0;if(o.toBase58().includes(a))return!0;for(const e in r){if(s.includes(r[e].toBase58()))return!0;if(a.includes(r[e].toBase58()))return!0}return!1}));r.sort().map((n=>t[n]=e[n])),n(t)}),[e,a]);return(0,r.useEffect)((()=>{i().then((()=>{setTimeout((()=>{(0,ht.be)()}),500)}))}),[i]),t})(l),p=(0,r.useMemo)((()=>Object.keys(u).sort(((e,t)=>(n[t]||0)-(n[e]||0)))),[u,n]),h=(0,r.useCallback)((async()=>{try{t(!0);const e=await(async()=>{const{data:e}=await z.ZP.get(Z.api.version.detailTvl);return e.balansol})(),n={};for(const{address:t,tvl:s}of e)n[t]=s;a(n)}catch(e){(0,zn.cB)(e)}finally{t(!1)}}),[]);return(0,r.useEffect)((()=>{h()}),[h]),e?(0,d.jsx)(c.Row,{justify:"center",children:(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Spin,{})})}):(0,d.jsx)(c.Row,{gutter:[24,24],children:p.map((e=>{const t=u[e];if(!t)return(0,d.jsx)(r.Fragment,{});let n=t.state;return n.uninitialized||n.deleted||t.reserves.map((e=>e.toString())).includes("0")?null:(0,d.jsx)(c.Col,{xs:24,md:24,children:(0,d.jsx)(ht.ZP,{height:198,children:(0,d.jsx)(Rn,{poolAddress:e})})},e)}))})};function Ln(e){let{tokenList:t}=e;const n=100-t.reduce(((e,t)=>e+Number(t.weight)),0);return(0,d.jsxs)("div",{style:{display:"flex",marginTop:8},children:[t.map(((e,t)=>0===Number(e.weight)?null:(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",width:1!==t?`calc(${e.weight}% + 8px)`:`${e.weight}%`,background:`${o.util.randomColor(e.addressToken||"_",1)}`,height:"8px",borderRadius:"20px",zIndex:`${t}`,marginRight:"-8px",alignItems:"center"},children:(0,d.jsx)(X.Z,{mintAddress:e.addressToken})},`${e.addressToken}${t}`))),(0,d.jsx)("div",{style:{width:`${n}%`,background:"#142042",borderRadius:"20px"}})]})}const Dn=e=>{let{tokenInfo:t,onChangeWeight:n,onChangeLock:s,onRemoveToken:o}=e;const{weight:r,isLocked:a}=t;return(0,d.jsxs)(c.Space,{size:4,children:[(0,d.jsx)(g,{value:r,controls:!1,size:"large",bordered:!1,onValue:n,addonAfter:(0,d.jsx)("div",{style:{marginLeft:-4},children:"%"}),maxLength:5,placeholder:"0"}),(0,d.jsx)(c.Button,{onClick:()=>{s(!a)},shape:"circle",icon:(0,d.jsx)(m.Z,{name:a?"lock-closed-outline":"lock-open-outline"}),style:{background:"unset"},type:"text"}),(0,d.jsx)(c.Button,{onClick:o,shape:"circle",icon:(0,d.jsx)(m.Z,{name:"trash-outline"}),type:"text"})]})},Zn=e=>{let{tokenList:t,mintSetup:n,onChangeTokenInfo:s,onRemoveToken:r,id:a}=e;const i=(0,o.useTheme)();return(0,d.jsxs)(c.Row,{wrap:!1,children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(Gt.Z,{value:n.addressToken,onChange:e=>{s({...n,addressToken:e},a)},style:{background:"dark"===i?"#394360":"#F2F4FA"}})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(Dn,{tokenInfo:n,onChangeWeight:e=>{s({...n,weight:e},a)},onChangeLock:e=>{s({...n,isLocked:e},a)},onRemoveToken:()=>r(a)})})]})},Fn=new i.BN(25e5),En=new i.BN(5e5),On={addressToken:"",weight:"",isLocked:!1},Wn=e=>{let{setCurrentStep:t}=e;const[n,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(-1),[l,u]=(0,r.useState)(!1),p=(0,r.useCallback)((()=>{let e=100,t=0,r=-1;n.forEach(((n,s)=>{if(!(n.isLocked||s===o))return r=s;e-=Number(n.weight),t++})),e<0&&(e=0);const a=n.length-t;let i=e/a;const l=JSON.parse(JSON.stringify(n));l.forEach(((t,n)=>{if(!(t.isLocked||n===o))return n===r?t.weight=e.toFixed(2):(t.weight=i.toFixed(2),e-=Number(t.weight))})),JSON.stringify(n)!==JSON.stringify(l)&&s(l)}),[o,n]);(0,r.useEffect)((()=>{p()}),[p]);const h=(e,t)=>{if(l)return;const o=[...n];o[t]={...e},s(o),e.weight!==n[t].weight&&a(t)},x=e=>{l||s(n.filter(((t,n)=>n!==e)))};(0,r.useEffect)((()=>{s([{...On},{...On}])}),[]);const g=(0,r.useMemo)((()=>{if(n.length<2)return!0;let e=0;for(const t of n){if(!t.addressToken||!Number(t.weight))return!0;e+=Number(t.weight)}return 100!==e}),[n]);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[0,12],children:[(0,d.jsx)(c.Col,{flex:"auto",children:"Token"}),(0,d.jsx)(c.Col,{children:"Weight"}),n.map(((e,t)=>(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Zn,{tokenList:n,mintSetup:e,onChangeTokenInfo:h,onRemoveToken:x,id:t})},e.addressToken+t))),n.length<8&&(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{icon:(0,d.jsx)(m.Z,{name:"add-outline"}),onClick:()=>{l||n.length>=8||s([...n,{...On}])},ghost:!0,disabled:l,children:"Add a token"})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Ln,{tokenList:n})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[16,16],children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",onClick:async()=>{try{u(!0);const e=n.map((e=>{let{addressToken:t,weight:n}=e;const s=Number(n)*b;return{publicKey:new i.web3.PublicKey(t),action:H.MintActionStates.Active,amountIn:new i.BN(0),weight:new i.BN(s)}})),{txId:s}=await window.balansol.initializePool(Fn,En,e,Z.sol.taxmanAddress);F("Create pool",s),t(w.addLiquidity)}catch(e){E(e)}finally{u(!1)}},disabled:g,loading:l,block:!0,children:"Supply"})})})})]})};var Yn=n(23570);const Un="pools",Gn=(0,Kt.createAsyncThunk)("pools/getPools",(async()=>{const e=await window.balansol.getAllPoolData();let t={};for(const n of e){const e=n.account;e.state.deleted||(t[n.publicKey.toBase58()]=e)}return t})),Kn=(0,Kt.createAsyncThunk)("pools/getPool",(async(e,t)=>{let{address:n}=e,{getState:s}=t;if(!v.account.isAddress(n))throw new Error("Invalid pool address");const{pools:{[n]:o}}=s();if(o)return{[n]:o};return{[n]:await window.balansol.getPoolData(n)}})),Vn=(0,Kt.createAsyncThunk)("pools/upsetPool",(async e=>{let{address:t,data:n}=e;if(!v.account.isAddress(t))throw new Error("Invalid pool address");if(!n)throw new Error("Data is empty");return{[t]:n}})),qn=(0,Kt.createAsyncThunk)("pools/removePool",(async(e,t)=>{let{address:n}=e,{getState:s}=t;const{pools:o}=s();if(!v.account.isAddress(n))throw new Error("Invalid pool address");if(!o[n])throw new Error("Pool address does not exist!");const r={...o};return delete r[n],r})),Hn=(0,Kt.createSlice)({name:Un,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Gn.fulfilled,((e,t)=>{let{payload:n}=t;return n})).addCase(Kn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Vn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(qn.fulfilled,((e,t)=>{let{payload:n}=t;return n}))}}).reducer,Jn=e=>{let{poolAddress:t,setCurrentStep:n,amounts:a,onClose:i=(()=>{})}=e;const l=(0,s.useSelector)((e=>e.pools[t])),u=(0,s.useDispatch)(),[p,h]=(0,r.useState)([]),[m,x]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!0),{decimalizeMintAmount:b}=Xe(),{getMintBalance:C}=kt(),A=(0,Je.G)(),{createWrapSolTxIfNeed:S}=Bt(),v=(0,r.useCallback)((async()=>{const e=await Promise.all(l.mints.map((async e=>await A(e)||0)));h(e)}),[A,l.mints]);(0,r.useEffect)((()=>{v()}),[v]);const k=(0,r.useMemo)((()=>{let e=0;return a.forEach(((t,n)=>{l.reserves[n].isZero()&&(e+=Number(t)*(p[n]||0))})),e}),[a,l.reserves,p]),T=(0,r.useCallback)((async()=>{const{mints:e}=l;for(let t in a){const{balance:n}=await C(e[t].toBase58(),!0);if(Number(a[t])>n||Number(a[t])<=0)return j(!0)}return j(!1)}),[a,C,l]);return(0,r.useEffect)((()=>{T()}),[T]),(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[12,12],children:l.mints.map(((e,t)=>{const n=Number(a[t])*(p[t]||0);return(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{children:[(0,d.jsx)(c.Col,{flex:1,children:(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(c.Typography.Text,{type:"secondary",children:(0,d.jsx)(Q.Z,{mintAddress:e.toBase58()})}),(0,d.jsxs)(c.Typography.Text,{type:"secondary",children:["(",(0,d.jsx)(Yn.Z,{mintAddress:e}),")"]})]})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Typography.Text,{children:o.util.numeric(n).format("$0,0.[0000]")})})]},t)},e.toBase58())}))})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{align:"middle",children:[(0,d.jsx)(c.Col,{flex:1,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"Total value"})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Typography.Title,{level:3,children:["$",o.util.numeric(k).format("0,0.[0000]")]})})]})}),(0,d.jsx)(c.Col,{span:12,children:(0,d.jsx)(c.Button,{type:"ghost",disabled:m,loading:g,onClick:async()=>{try{y(!0);const{txId:e}=await window.balansol.closePool(t);F("Close pool",e),i(),u(qn({address:t}))}catch(e){E(e)}finally{y(!1)}},block:!0,children:"Delete pool"})}),(0,d.jsx)(c.Col,{span:12,children:(0,d.jsx)(c.Button,{type:"primary",onClick:async()=>{try{x(!0);const e=[];for(const n in l.mints){const s=l.mints[n];if(!l.reserves[n].isZero())continue;const o=await b(a[n],s),r=await S(s.toBase58(),a[n]);r&&e.push(r);const{transaction:i}=await window.balansol.initializeJoin(t,s,o,!1);e.push(i)}const s=(0,o.getAnchorProvider)(),r=await s.sendAll(e.map((e=>({tx:e,signers:[]}))));F("Fund pool",r[r.length]),n(w.confirmCreatePool)}catch(e){E(e)}finally{x(!1)}},disabled:f||g,loading:m,block:!0,children:"Supply"})})]})},Xn=e=>{let{setCurrentStep:t,poolAddress:n,onClose:a=(()=>{})}=e;const[i,l]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[h,m]=(0,r.useState)(0),x=(0,s.useSelector)((e=>e.pools[n])),{undecimalizeMintAmount:g}=Xe(),y=(0,Je.G)(),f=(0,o.useGetMintDecimals)(),j=e=>h!==e&&Number(i[h])>0&&Number(u[e])>0&&Number(u[e])!==Number(i[e]),w=(0,r.useCallback)((async()=>{if(!x||0!==i.length)return;const e=await Promise.all(x.mints.map(((e,t)=>Number(i[t])?i[t]:g(x.reserves[t],e))));l(e)}),[i,x,g]);(0,r.useEffect)((()=>{w()}),[w]);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{justify:"center",gutter:[8,8],children:x.mints.map(((e,t)=>{const n=ie(x.weights,x.weights[t]);return(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(St,{amount:i[t],selectedMint:e.toBase58(),onChangeAmount:x.reserves[t].toNumber()?void 0:e=>(async(e,t)=>{const n=[...i];n[t]=e,m(t),l(n);const{mints:s,weights:o}=x,r=await y(s[t]);if(!r)return null;const a=ie(o,o[t]),c=await Promise.all(s.map((async(n,s)=>{if(t===s)return"";const i=await y(n);if(!i)return"";const l=ie(o,o[s]),c=await f({mintAddress:n.toBase58()});return(r*Number(e)/a*(l/i)).toFixed(c)})));p(c)})(e,t),mintLabel:(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Typography.Text,{children:(0,d.jsx)(Q.Z,{mintAddress:e.toBase58()||""})}),(0,d.jsx)(c.Typography.Text,{children:o.util.numeric(n).format("0,0.[0000]%")})]}),placeholder:u[t],force:!0,ratioButton:j(t)&&(0,d.jsx)(c.Tooltip,{title:u[t],children:(0,d.jsx)(c.Button,{type:"text",onClick:()=>(async e=>{const t=[...i];t[e]=u[e],l(t)})(t),style:{marginRight:-15},children:"Apply suggestion"})})})},`${e.toBase58()+t}`)}))})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Jn,{onClose:a,amounts:i,poolAddress:n,setCurrentStep:t})})]})},Qn=[{title:"TOKEN",dataIndex:"token",render:e=>(0,d.jsx)(c.Typography.Text,{children:(0,d.jsxs)(c.Space,{size:8,children:[(0,d.jsx)(X.Z,{mintAddress:e.addressToken}),(0,d.jsx)(Q.Z,{mintAddress:e.addressToken})]})})},{title:"WEIGHT",dataIndex:"token",render:e=>(0,d.jsx)(c.Typography.Text,{style:{fontWeight:700},children:Number(e.weight)})},{title:"AMOUNT",dataIndex:"amount",render:(e,t)=>(0,d.jsx)(c.Typography.Text,{children:o.util.numeric(e).format(`0,0.[${"0".repeat(t.token.decimal||9)}]a`)})},{title:"VALUE",dataIndex:"value",render:(e,t)=>(0,d.jsx)(c.Typography.Text,{children:o.util.numeric(e).format("$0,0.[0000]")})}],$n=e=>{let{onConfirm:t,poolAddress:n}=e;const a=(0,s.useSelector)((e=>e.pools[n])),[i,l]=(0,r.useState)([]),[u,p]=(0,r.useState)(0),{undecimalizeMintAmount:h}=Xe(),m=(0,Je.G)(),x=(0,r.useCallback)((async()=>{if(!a)return l([]),p(0);const{mints:e,reserves:t}=a;let n=0;const s=await Promise.all(e.map((async(e,s)=>{const r=e.toBase58(),i=se(a,e),l=await o.tokenProvider.findByAddress(r);let c=await h(t[s],r);const d=await m(r);let u=Number(c)*(d||0);return n+=u,{token:{addressToken:r,weight:o.util.numeric(i.normalizedWeight).format("0,0.[00]"),isLocked:!0,decimal:null===l||void 0===l?void 0:l.decimals},amount:Number(c),value:u}})));p(n),l(s)}),[m,a,h]);return(0,r.useEffect)((()=>{x()}),[x]),(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Table,{columns:Qn,dataSource:i,rowClassName:(e,t)=>t%2?"odd-row":"even-row",pagination:!1,rowKey:e=>e.token.addressToken,scroll:{x:!0}})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Card,{style:{borderRadius:"8px"},bodyStyle:{padding:16},bordered:!1,className:"card-total-value",children:(0,d.jsxs)(c.Row,{align:"middle",children:[(0,d.jsx)(c.Col,{flex:1,children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"Total value"})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Typography.Title,{level:3,children:["$",o.util.numeric(u).format("0,0.[00]")]})})]})})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",onClick:t,style:{borderRadius:40},block:!0,size:"large",children:"Confirm"})})]})},{Step:_n}=c.Steps,es=e=>{let{onClose:t=(()=>{})}=e;const n=(0,s.useSelector)((e=>e.pools)),[a,i]=(0,r.useState)(w.setupToken),[l,u]=(0,r.useState)(""),p=(0,o.useWalletAddress)(),h=(0,r.useCallback)((async()=>{if(!l){for(const e in n){const t=n[e];if(t.authority.toBase58()===p&&t.state.uninitialized)return i(w.addLiquidity),u(e)}return u("")}}),[l,n,p]);(0,r.useEffect)((()=>{h()}),[h]);const m=(0,r.useMemo)((()=>{switch(a){case w.setupToken:return(0,d.jsx)(Wn,{setCurrentStep:i});case w.addLiquidity:return n[l]?(0,d.jsx)(Xn,{setCurrentStep:i,poolAddress:l,onClose:t}):null;case w.confirmCreatePool:return n[l]?(0,d.jsx)($n,{onConfirm:t,poolAddress:l}):null}}),[a,t,l,n]);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,children:"New Pool"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Steps,{size:"small",current:a,children:[(0,d.jsx)(_n,{title:"Select tokens & weights"}),(0,d.jsx)(_n,{title:"Add liquidity"}),(0,d.jsx)(_n,{title:"Confirm"})]})}),(0,d.jsx)(c.Col,{span:24,children:m})]})},ts=()=>{const e=(0,s.useSelector)((e=>e.pools)),[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),l=(0,o.useWalletAddress)(),u=(0,r.useCallback)((async()=>{for(const t in e){const n=e[t];if(n.authority.toBase58()===l&&n.state.uninitialized)return i(!0)}return i(!1)}),[e,l]);return(0,r.useEffect)((()=>{u()}),[u]),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.Button,{icon:(0,d.jsx)(m.Z,{name:a?"sync-outline":"add-outline"}),onClick:()=>n(!0),style:{borderRadius:40},block:!0,ghost:!0,children:a?"Resume":"New Pool"}),(0,d.jsx)(c.Modal,{open:t,onCancel:()=>{n(!1)},closeIcon:(0,d.jsx)(m.Z,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,width:572,children:(0,d.jsx)(es,{onClose:()=>n(!1)})})]})},ns="searchPools",ss={searchInput:"",filterPool:S.AllPools},os=(0,Kt.createAsyncThunk)("searchPools/setSearchSelection",(async e=>{let{filterPool:t}=e;return{filterPool:t}})),rs=(0,Kt.createAsyncThunk)("searchPools/setSearchInput",(async e=>{let{searchText:t}=e;return{searchInput:t}})),as=(0,Kt.createSlice)({name:ns,initialState:ss,reducers:{},extraReducers:e=>{e.addCase(os.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(rs.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,is=()=>{const{searchInput:e,filterPool:t}=(0,s.useSelector)((e=>e.searchPools)),n=(0,s.useDispatch)(),o=e=>{n(rs({searchText:e}))};return(0,d.jsxs)(c.Row,{className:"search-pools",gutter:[12,12],children:[(0,d.jsx)(c.Col,{md:8,xs:10,children:(0,d.jsxs)(c.Select,{value:t,onChange:e=>{n(os({filterPool:e}))},style:{width:"100%",height:"32px"},className:"category",children:[(0,d.jsx)(c.Select.Option,{value:S.AllPools,children:"All pools"}),(0,d.jsx)(c.Select.Option,{value:S.DepositedPools,children:"Deposited pools"}),(0,d.jsx)(c.Select.Option,{value:S.YourPools,children:"Your pools"})]})}),(0,d.jsx)(c.Col,{flex:"1 0",children:(0,d.jsx)(c.Input,{placeholder:"Search",value:e,prefix:e?(0,d.jsx)(c.Button,{type:"text",style:{width:"auto",height:"auto",background:"transparent",marginLeft:-7},onClick:()=>o(""),icon:(0,d.jsx)(m.Z,{name:"close-outline"})}):(0,d.jsx)(m.Z,{style:{fontSize:"24px",marginLeft:-5},name:"search-outline"}),onChange:e=>{o(e.target.value)},style:{borderRadius:"24px",height:"32px"}})})]})},ls=()=>{const e=(0,o.useInfix)()<o.Infix.md;return(0,d.jsxs)(c.Row,{gutter:[12,12],justify:"center",align:"middle",children:[(0,d.jsx)(c.Col,{xs:24,md:20,lg:16,xl:12,xxl:8,children:(0,d.jsxs)(c.Row,{gutter:[12,12],justify:"space-between",children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(is,{})}),(0,d.jsx)(c.Col,{span:e?24:void 0,children:(0,d.jsx)(ts,{})})]})}),(0,d.jsx)(c.Col,{span:24}),(0,d.jsx)(c.Col,{xs:24,md:20,lg:16,xl:12,xxl:8,children:(0,d.jsx)(In,{})}),(0,d.jsx)(c.Col,{span:24})]})},cs=()=>(0,d.jsx)("div",{className:"loading-screen",style:{display:"block"},children:(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{span:24,style:{height:256}}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Space,{direction:"vertical",align:"center",size:32,children:[(0,d.jsx)(c.Spin,{size:"large"}),(0,d.jsx)(c.Typography.Title,{level:5,style:{textAlign:"center"},children:"Welcome to Balansol. The application is loading..."})]})})})})]})});let ds=0;const us=e=>{const t=(0,s.useDispatch)(),[n,a]=(0,r.useState)(!0),i=(0,r.useCallback)((async()=>{try{await o.tokenProvider.all(),await t(Gn()).unwrap(),a(!1)}catch(e){return window.notify({type:"error",description:"Cannot fetch data of pools"})}}),[t]),l=(0,r.useCallback)((async()=>{if(ds)return console.warn("Already watched");ds=window.balansol.watch(((e,n)=>e?console.error(e):n?t(Vn({address:n.address,data:n.data})):void 0),[])}),[t]);return(0,r.useEffect)((()=>(i(),l(),()=>{(async()=>{try{await window.balansol.unwatch(ds)}catch(e){}})(),ds=0})),[i,l]),n?(0,d.jsx)(cs,{}):(0,d.jsx)(r.Fragment,{children:e.children})},ps=e=>{const[t,n]=(0,r.useState)(!0),s=(0,o.useWalletAddress)(),a=(0,r.useCallback)((()=>{if(!o.util.isAddress(s))return;const e=(0,o.getAnchorProvider)();window.balansol=new(J())(e,Z.sol.balancerAddress),n(!1)}),[s]);return(0,r.useEffect)((()=>{a()}),[a]),t?(0,d.jsx)(r.Fragment,{}):(0,d.jsx)(us,{children:e.children})},hs=n.p+"static/media/background-dark.622cd8aea937b87d31af.png",ms=n.p+"static/media/background-light.d3a232854f7f1440ca6c.png",{sol:{connection:xs,balancerAddress:gs}}=Z,ys=()=>{const e=(0,o.useSetBackground)(),{extend:t}=(0,o.useAppRoute)(),n=(0,o.useWalletAddress)();return(0,r.useEffect)((()=>{e({light:ms,dark:hs})}),[e]),o.util.isAddress(gs)?(0,d.jsx)(l.d2,{connection:xs,cluster:"mainnet-beta",userPublicKey:new i.web3.PublicKey(n),children:(0,d.jsx)(ps,{children:(0,d.jsx)(Qt,{children:(0,d.jsx)(mn,{children:(0,d.jsxs)(c.Row,{gutter:[24,24],style:{paddingTop:32},children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(h,{})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(a.Switch,{children:[(0,d.jsx)(a.Route,{path:t("/details"),component:Ut}),(0,d.jsx)(a.Route,{path:t("/swap"),children:(0,d.jsx)(Nn,{})}),(0,d.jsx)(a.Route,{path:t("/pools"),children:(0,d.jsx)(ls,{})}),(0,d.jsx)(a.Route,{path:t("/farms"),children:(0,d.jsx)(a.Redirect,{to:"/app/sen_farming_v2?autoInstall=true"})}),(0,d.jsx)(a.Redirect,{from:"*",to:t("/swap",{absolutePath:!0})})]})})]})})})})}):(0,d.jsx)(c.Empty,{description:"Coming soon.",image:c.Empty.PRESENTED_IMAGE_SIMPLE})};n(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const fs="main",js=(0,Kt.createAsyncThunk)("main/increaseCounter",(async(e,t)=>{let{getState:n}=t;const{main:{counter:s}}=n();return{counter:s+1}})),ws=(0,Kt.createSlice)({name:fs,initialState:{counter:0},reducers:{},extraReducers:e=>{e.addCase(js.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,bs=(0,Kt.configureStore)({middleware:e=>e({serializableCheck:!1}),devTools:!1,reducer:{main:ws,pools:Hn,swap:Ht,searchPools:as}});var Cs=n(45597);const{manifest:{appId:As}}=Z,Ss=()=>(0,d.jsx)(o.AntdProvider,{appId:As,prefixCls:As,children:(0,d.jsx)(s.Provider,{store:bs,children:(0,d.jsx)(ys,{})})})},83272:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/README.a221197702aa27813243.md"},69363:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGEAAABhCAMAAADx2D+RAAABOFBMVEUAAABm37OA4L9237qE4MCD4L9237lu37Vx4Ll84L134Lt537ho37GB4L9/375p4LZ/4Lxp4LZ/4L2C4L9n4bZo4LVl4LNz4Llm4LSE4b9o4LSB4L5o4bZp37SD4MCB37+B371p37WD4L984LyA371p4LWA372C5L7///+A4L69795n4LW279uD4L9w4Lhz4Llt4Ld74Lx+4L1r4LZq4LV94L1l4LR34Lp44Ltp4LZx4Ll54Lu079pv4Ld14bps4LZ64Lt24Lu/795037mA375n37S48NyC4b9x37hq4baA4b+r7NWE4cB+4b6d6c6D379k4LTK8+Su7dft+/aL5cWX58tm4bVw4bml69J937yH48KB5MCh69GS6MmD5MF95L954ry37tqo69OO5sd24rts4bhy4rrd9+6PMOy2AAAAKHRSTlMAQP7+vr9AQL+/vxAg3yDvQJ+QcG/f38+/ro+Af2CfYFAw7+8wr58vOCnhoQAACntJREFUaN6UlG9r2lAYxRVhG+ugFPanlO3FXgwKkRhIqESSlE1SImWyOasytZbVdt//G+yc57k31xht3cm9T66b/Z3nnnvbxm69+dz8b30+ahymo7cn7y8uflz8UGFF4eU0Ycl17XmeWVx4x6dnzefxp2DiqYPJmNiV1nKRe1SOkb87efOUwcdjdq0GdVngRFqf4FEp3y33ezTfAzypwycYnvWgUJ0c2els95GcXeyR8oU82YXNt82i6N2ObRydbiI1cTBzL+cZcrW38diLB3nkxVEUke6x5G9r1/O94wNaJoL+9ylWC6BROFGjmD6c0ccdBiZrdkuXXdTcsnMv4lq6zvPIKKYBbWhS3cUH5uK5pnMpNTwDUQ+hDwCVPQA7IJketGENBy83byl+fMJwvKeVx2ISE4xKD67JHkg88UAsojCM4/DYHXcTt1sJHLvEMJg18sjJo4G2HFd7xxtmYRyGcHlVOrxT/L7GifMYiB6i1hI7kJ2EugpRSR+EInsUnwTj4merXAApuZPp+rWf5BkIUBrGB11Rl3ig4yOzhbzSsR4o5JmIpVmtZRzSLiYGUYBXdKn18qNuoTSI+eDFyB9XqwDbJ8yeKCPWs4zIZtqRIWar1bTiEAAPHYvDKZCCh8xdXi1GCTS7fyQWfKWyZY1c6cZAv93+c79mOAQHKix4Y9/o3nMvtok8LhKr6zGvekgidxDWFITZjHgoSUZjwjEwWR6C4ETOWbAK53i8Tja05OWW48SrknQgSa+vwYeD6sb2zoeDMX1RtATNuNXA6V7xFTimCWQ9It9pSTRlX5/xByOm3AUfJltaVdCQxIA+OYYWfWXe88uqw6dGA2B2jyfmb8o82daCZEZiWhe8afW2va2ZcFNMXZzhoCUejIFcbW6hjSnp6mvF0BWK4nLGekFodRvzwMqnw0mjOeDN5m3Rc0yckK8eNomchNqqORC5ZbJMyUZJ0yD101eNpnDLw7xrGzYHCzQMTPd2lFoZ7KaGZKeYvj/11SEKrRDyimRMlVostHOjh8BpXt9Ce0Y62+fj+3DgGQalx50wqzdwwUTq+MD3v7frmqFxoGmAAYeX4SVFOjnTdl03G92vl+tAI6ayav/6beIZkGyBDhKwHh812to2NAY6lX3M/56fn3/DkiZsclTvZ5zKf01pow7kb9zFZbumtRAx5r/OqZ8+9yBa1i/THcGFr+qJA6R4Lh56SXULejmkZRqoBXrUtLNkO6QhuBaPxzg4weXe/YRotDa3jwbWQlKm9NtOozti1aBwDoJWTYNgWLFIvqaULztwFshZZb/NcXWV3EnvoqJHFzi4C5hKrR7FaAU6hxo4izKJJcC0oMdoxX+CgEfp9IoeHBSu08cEbWyvSLLsmDicgbMwveLbV6Lk5iuzxwC/0xPRAVTbPLuVOb1dLmaz4TjTI60b0AI5A1ggDPvtXscnGbNjSwcONICLwjmm8vI3dUuDuoUPMZBSHVdU6sCLQqIDT+XT0wa0IFtiN0zSUYuCn4rCOmgQxFc0xSx8XrgpI9ptYdiKF2Bhu++7PZTdpuBZ9TDsmzvYa6FENk4LR+bCOiASVWHfssDup7wZYrDforNXWengWleqz6OrnsHzFn2tDiyfsn6mKVEC1lik6iE+Z0ALovrqkNnax8hggKd0ABClAFXR5gitwWFBkUu6wDMYw+I1HVwmgCtZdYABLfqajxI7YGcwwRomrQwObBxi++5qa6XBIRbScV8HCsTCSocXEo+oKPFFRwSDAy3EodvK+t0Wsa1Wq9vl/NrlHpSLoVeaRfXn/FD97iOPbpZ1uzpU1oFwS+1JnFbfDnb4V6kZtTgNRFE4pKsgssuy+yCLoKKiJBCkgdBCRFoNjaRtimsDbdmHbQX9///Ac+6d2Uk67VpPZm4mS/jOnZPZF90d4AiGxHFvLHhWPiKlT7/5e/nd/435D4fGNE0oBmYPdcwHOhxVc6rBTyEaPItYDYdwGR50+MLJsz050eGOQJlD40H2gE90cFi70kONcaLFlHkMmQ2o6BwXhALR4Vune9JZebZ7p1nsyCeaBZcMqxwO7J7nGVgKSznSX1BOspgCN+YYyHS6H+YPe5BE6GIPHW1wrrH6p8WOYGbSVZ5j5LoH5sFAKP4yAszy8MUet5ia3O/bbIHnKjqw4wGZvcE3AfdYKD3b8eMGVtpyG97HoMNA+h5jCLQn53k8Jn3Y+8cupqARbsmOzSsfjfIRHL70QDQXuWSCrJdoHB8zIF+ZvKvuMcHm7Pf7o2fBU8HJgBMGFvq7wjpUxYcNSHZctg4oxwgDogUcgLUNs5JLfrXZZFgft6ABkxB0uVzO+aCigbGhg9CBRM/smw7jzXQbQ7dNlevJHsS+gcBZ7Nt1SWrfaKRVHYaKh6RU09jqc4NnCTn2DLTXvGy/zWBaLpoSQ7FhSPjVZ7w8kQujzo1i34AeJd52qh3dOQBPrhUNOmrsCYzbBtIrNMPbXYtMyVmmlXtoC6QVd2AHtcz7I4kkdgYSMS128Z6Wtvl1JmbqkKuGnMt4X1NJg1dsDeSJ5Zf/dn8NstAzVDoI2YlNTfbawvfUvmJjoPK3QC3BbYkOkJoAgw/qq5azLbnUP/78sDkwg0NvC3huDFLjgB7vETauTexrJak7LG9aDr6dOaUp94C+MdglryVD8qJVSbLWYc2gl7Gv2yxbZ/MUcBbuAf0Tr0G4PfgOGbligxWrt4evuOBAi4z0uXEAWIPmKo193QGouTi+rirH5qDF17vUSRzea8bqAm19h4Ydy7S3tS1b5aqLqukYRM+CC+E61b7DjPm7r6chyMhqgjEwrTYCxsBEuQqCdx2LrJocOEr2/K0R73qu+JQqQe5qp2hU2BRRdI1/0RWwaRPLZs9gO7ONp2STns7n9kM2ewbbDeEgU1UVRZdBcEWscZG66hhMYACU6dvTfNUxiDfs3VhUHM+D4FLoEA0kjbq9g02HGzm0PhRp3d7BMlIVhbF5wf9MfJc5gQ81W3M6JnU5ZzTkOQm4KCRrUJqt3UA903BsCcPwOoCuNGeKaa+Zx696enu7akrXOj0YgEylR1by9q4hn1zdhKzKCzpcEp/KEQcFxSxAJUgtKuFDDi1fVFXZWgCLUtqwPgSiZySula4Zc3K4/HUacmUBHJV90qZL3njhXvIkmU2kh6QMkE1/nXZDXWsiodlMQiziT6KkLJIkeRUYXZFHlJ50+0SyItyCS5UG3VKCxyRMyqhMcKMWF9bh+TloOjALMQCsivZlEwmZduHCQDiEFzSQS/UyeNBH7dp9TZG3BYPXMAhOONkvKm90QOu4Zni4CVq6jqrCw3nt84Br2gXpRSRYTjbO0tZ5948FXh7ih5zWWuFFgVliKVSRW804FmZ1jo/QtVAQKygVu6aFVYJQAEccmKFhLqSUzknh1AIG+3pzrlRnZD4ifBQdRspUhKWV5mfOkvMGEXm6gAWhofauVVNm6SbiYll04dTs7XVwWK/PiS0wmQUv4HzZPlG6P5wZgzOXkLcN8SjY9H/JosXn7DJ4VG9evS15uH2KTreHblgU6tnLU/7G6P3rq5snR3V2TDevrt8cwP8FY5i8wVwIBsQAAAAASUVORK5CYII="},27803:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel1.ae87573b389c1c96bd89.png"},85468:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel2.0b0454a9c94cb721d3bf.png"},83943:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel3.3ac409ec75ffde3a2872.png"},7420:()=>{},95856:()=>{},55555:()=>{},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx-src_static_images_background-dark_png-src_static_images_background-ligh-d83fef.bf6614a6.chunk.js.map